[
   {
      "body" : "This is Windows 10 x64. Running as Administrator does not help.",
      "created_at" : "2015-12-23T14:56:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-166916844",
      "id" : 166916844,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-23T14:56:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/166916844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   },
   {
      "body" : "Can you retest with the current master (compile or use a nightly build:https://bitcoin.jonasschnelli.ch/nightlybuilds/)?",
      "created_at" : "2015-12-23T16:14:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-166934231",
      "id" : 166934231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-23T16:14:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/166934231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Are you trying to do a `-salvagewallet`? Otherwise, it appears your `wallet.dat` may be corrupted. Do you have backups?",
      "created_at" : "2015-12-23T16:45:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-166941300",
      "id" : 166941300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-23T16:45:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/166941300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "In any case, the error message should not be empty.",
      "created_at" : "2015-12-23T16:45:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-166941347",
      "id" : 166941347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-23T16:45:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/166941347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Seems this is just a duplicate of #7247 but if this is happening in 0.11.2 it is a bug that should be fixed...",
      "created_at" : "2015-12-23T17:58:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-166959003",
      "id" : 166959003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-23T17:59:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/166959003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "I was not trying to salvage a wallet but it turns out the wallet file is all zeroes.\r\n\r\nLooks like the following issues are present:\r\n\r\n1. The message is not there\r\n2. Nothing useful happens in case of a corrupted wallet. Probably this should be reported and the user asked to create a new one\r\n3. The log has a misleading/false message (\"Failed to rename wallet.dat to wallet.1450881856.bak\"). Or, was this supposed to be done and failed? That also would be a bug.\r\n\r\nAnd maybe wallet salvage can detect an all-zeroes wallet and report that nothing can be done.",
      "created_at" : "2015-12-23T18:17:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-166962314",
      "id" : 166962314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-23T18:17:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/166962314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   },
   {
      "body" : "![morespecific](https://cloud.githubusercontent.com/assets/15009664/11990236/bbbf1980-aa5e-11e5-84f4-1ac8518b7563.png)\r\n\r\nNull wallet in master is fine, that should be fixed in 0.12 releases. \r\n\r\nHow did you end up with a zeroed file? That seems pretty unusual. ",
      "created_at" : "2015-12-24T05:53:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-167046826",
      "id" : 167046826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-24T05:55:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/167046826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15009664?v=3",
         "events_url" : "https://api.github.com/users/tulip0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tulip0/followers",
         "following_url" : "https://api.github.com/users/tulip0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tulip0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tulip0",
         "id" : 15009664,
         "login" : "tulip0",
         "organizations_url" : "https://api.github.com/users/tulip0/orgs",
         "received_events_url" : "https://api.github.com/users/tulip0/received_events",
         "repos_url" : "https://api.github.com/users/tulip0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tulip0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tulip0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tulip0"
      }
   },
   {
      "body" : "Not sure. It was not important, though.",
      "created_at" : "2015-12-24T11:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-167093523",
      "id" : 167093523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-24T11:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/167093523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   },
   {
      "body" : "> Not sure. It was not important, though.\r\n\r\nIt would be good if you could identify how it happened, maybe some prevention code could be added.",
      "created_at" : "2015-12-25T07:15:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-167203566",
      "id" : 167203566,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-25T07:15:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/167203566",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16383206?v=3",
         "events_url" : "https://api.github.com/users/louzada1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/louzada1/followers",
         "following_url" : "https://api.github.com/users/louzada1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/louzada1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/louzada1",
         "id" : 16383206,
         "login" : "louzada1",
         "organizations_url" : "https://api.github.com/users/louzada1/orgs",
         "received_events_url" : "https://api.github.com/users/louzada1/received_events",
         "repos_url" : "https://api.github.com/users/louzada1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/louzada1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/louzada1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/louzada1"
      }
   },
   {
      "body" : "> It would be good if you could identify how it happened\r\n\r\nThis happens every time you load a  corrupt wallet with  0.11.2.",
      "created_at" : "2015-12-25T10:59:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-167222340",
      "id" : 167222340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-25T10:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/167222340",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "> This happens every time you load a corrupt wallet with 0.11.2.\r\n\r\nThat's a good info too, but i mean how the wallet got corrupted?",
      "created_at" : "2015-12-25T16:54:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-167250256",
      "id" : 167250256,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-25T16:55:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/167250256",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16383206?v=3",
         "events_url" : "https://api.github.com/users/louzada1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/louzada1/followers",
         "following_url" : "https://api.github.com/users/louzada1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/louzada1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/louzada1",
         "id" : 16383206,
         "login" : "louzada1",
         "organizations_url" : "https://api.github.com/users/louzada1/orgs",
         "received_events_url" : "https://api.github.com/users/louzada1/received_events",
         "repos_url" : "https://api.github.com/users/louzada1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/louzada1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/louzada1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/louzada1"
      }
   },
   {
      "body" : "I have no theory how that happened at the moment but I'll let you know.",
      "created_at" : "2015-12-25T18:17:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-167256214",
      "id" : 167256214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2015-12-25T18:17:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/167256214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   },
   {
      "body" : "A theory for how this could have happened: Maybe the wallet file was not flushed to disk and the VM that I ran this in was not cleanly shut down.\r\n\r\nHow is the wallet file written? If it is overwritten no guarantees can be made in case of power loss. This might result in a Frankenstein wallet with mixed data from the old and the new version of the file. Also, with NTFS and without WRITE_THROUGH writing a zeroes file might easily result.",
      "created_at" : "2016-01-22T18:24:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-174000089",
      "id" : 174000089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2016-01-22T18:24:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/174000089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   },
   {
      "body" : "> Null wallet in master is fine, that should be fixed in 0.12 releases.\r\n\r\nGreat. Closing, then.\r\n\r\n> How is the wallet file written? If it is overwritten no guarantees can be made in case of power loss. \r\n\r\nThere is the `ThreadFlushWalletDB` which periodically pokes BerkeleyDB to compact its write log into `wallet.dat`. If this gets interrupted at the wrong time it may result in a broken intermediate state.\r\n\r\nCannot say this enough: Always make backups of your wallet!",
      "created_at" : "2016-02-16T11:58:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7249#issuecomment-184654771",
      "id" : 184654771,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7249",
      "updated_at" : "2016-02-16T11:58:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/184654771",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
