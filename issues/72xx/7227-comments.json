[
   {
      "body" : "In general, there is no need to manually manage connected nodes. If a node misbehaves, it will be banned automatically.\r\n\r\nYou can ban a node/ip with the rpc command `setban <ip> add` or over the gui (peers table context menu).",
      "created_at" : "2015-12-17T21:29:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165587531",
      "id" : 165587531,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-17T21:30:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165587531",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Jonasschnelli: I'm not able to see any functions for the peers in the bitcoin-qt. and when i try to use the command, its just says \"method not found\"\r\nI'm running bitcoin core 0.11.2 without wallet on a debian 8\r\n\r\n",
      "created_at" : "2015-12-17T22:34:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165603782",
      "id" : 165603782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-17T22:34:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165603782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2274258?v=3",
         "events_url" : "https://api.github.com/users/Kimax89/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Kimax89/followers",
         "following_url" : "https://api.github.com/users/Kimax89/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Kimax89/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Kimax89",
         "id" : 2274258,
         "login" : "Kimax89",
         "organizations_url" : "https://api.github.com/users/Kimax89/orgs",
         "received_events_url" : "https://api.github.com/users/Kimax89/received_events",
         "repos_url" : "https://api.github.com/users/Kimax89/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Kimax89/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Kimax89/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Kimax89"
      }
   },
   {
      "body" : "@Kimax89 \r\nBanning based on `subver` is completely ineffective. If it becomes common to do so then malicious connections just switch to /Satoshi/ strings and become invisible; it's `Mozilla/5.0` all over again. It's likely any seriously abusive stuff already pretends to be normal clients. \r\n\r\n@jonasschnelli \r\nLots of node misbehaviour is not caught. The peer mentioned by here connects and floods `mempool` commands every couple of seconds to exploit some transaction flooding behaviour. That's not an offence as far as DoS scoring is concerned, but is definitely a nuisance. ",
      "created_at" : "2015-12-17T23:31:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165615221",
      "id" : 165615221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-17T23:32:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165615221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15009664?v=3",
         "events_url" : "https://api.github.com/users/tulip0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tulip0/followers",
         "following_url" : "https://api.github.com/users/tulip0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tulip0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tulip0",
         "id" : 15009664,
         "login" : "tulip0",
         "organizations_url" : "https://api.github.com/users/tulip0/orgs",
         "received_events_url" : "https://api.github.com/users/tulip0/received_events",
         "repos_url" : "https://api.github.com/users/tulip0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tulip0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tulip0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tulip0"
      }
   },
   {
      "body" : "@tulip0 I'm far from concerned about DoS, but thats only becuase if have more resources than ever needed.\r\ni'm concerned about the smaller nodes running on low bandwidth.\r\n\r\nBut its a fact that alot of misbehaving nodes is'nt getting caught.",
      "created_at" : "2015-12-17T23:50:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165618144",
      "id" : 165618144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-17T23:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165618144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2274258?v=3",
         "events_url" : "https://api.github.com/users/Kimax89/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Kimax89/followers",
         "following_url" : "https://api.github.com/users/Kimax89/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Kimax89/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Kimax89",
         "id" : 2274258,
         "login" : "Kimax89",
         "organizations_url" : "https://api.github.com/users/Kimax89/orgs",
         "received_events_url" : "https://api.github.com/users/Kimax89/received_events",
         "repos_url" : "https://api.github.com/users/Kimax89/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Kimax89/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Kimax89/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Kimax89"
      }
   },
   {
      "body" : "Catching all misbehaviour is difficult, probably impossible. It's very easy to make rules which end up banning legitimate but unusual activity, causing netsplits or other vulnerabilities. The reality is that you will burn a lot of resources catering to all of the bad actors on the network, you either have to wear that or spend considerable time maintaining your ban lists. ",
      "created_at" : "2015-12-18T00:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165623166",
      "id" : 165623166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-18T00:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165623166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15009664?v=3",
         "events_url" : "https://api.github.com/users/tulip0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tulip0/followers",
         "following_url" : "https://api.github.com/users/tulip0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tulip0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tulip0",
         "id" : 15009664,
         "login" : "tulip0",
         "organizations_url" : "https://api.github.com/users/tulip0/orgs",
         "received_events_url" : "https://api.github.com/users/tulip0/received_events",
         "repos_url" : "https://api.github.com/users/tulip0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tulip0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tulip0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tulip0"
      }
   },
   {
      "body" : "It might be a safe idea to ban nodes that download the same block twice...?\r\n\r\nThe manual banning controls were added after 0.11, so won't be available in Core for some months still. [Bitcoin LJR](http://luke.dashjr.org/programs/bitcoin-ljr/) has it in the current release, however, if you want to try that (it's not as well-tested as Core 0.11, but it should be more stable than git master at least).",
      "created_at" : "2015-12-18T01:02:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165628393",
      "id" : 165628393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-18T01:02:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165628393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr and what if a node drops during a download?",
      "created_at" : "2015-12-18T01:07:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165629019",
      "id" : 165629019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-18T01:07:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165629019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "I was planning to compile from the master, but since i need the node in production, i want tit to be stable as possible.",
      "created_at" : "2015-12-18T01:10:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165629413",
      "id" : 165629413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-18T01:10:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165629413",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2274258?v=3",
         "events_url" : "https://api.github.com/users/Kimax89/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Kimax89/followers",
         "following_url" : "https://api.github.com/users/Kimax89/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Kimax89/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Kimax89",
         "id" : 2274258,
         "login" : "Kimax89",
         "organizations_url" : "https://api.github.com/users/Kimax89/orgs",
         "received_events_url" : "https://api.github.com/users/Kimax89/received_events",
         "repos_url" : "https://api.github.com/users/Kimax89/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Kimax89/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Kimax89/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Kimax89"
      }
   },
   {
      "body" : "@dcousens Well, I was assuming you'd only remember blocks downloaded per connection.",
      "created_at" : "2015-12-18T05:03:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165674011",
      "id" : 165674011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-18T05:03:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165674011",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@Kimax89 \r\nIf you're set on doing that you can just make a RPC tool which does what you want on stock `bitcoind` with no modification. Generally you should not be allowing listing connections on a production node though, it's asking for trouble. You have `getpeerinfo` and `setban`, just run a crontab which processes that.\r\n\r\n@luke-jr \r\nThis peer hammers the mempool too, which isn't an easy one to keep a sensible track of. ",
      "created_at" : "2015-12-18T09:03:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165718351",
      "id" : 165718351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-18T09:04:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165718351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15009664?v=3",
         "events_url" : "https://api.github.com/users/tulip0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tulip0/followers",
         "following_url" : "https://api.github.com/users/tulip0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tulip0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tulip0",
         "id" : 15009664,
         "login" : "tulip0",
         "organizations_url" : "https://api.github.com/users/tulip0/orgs",
         "received_events_url" : "https://api.github.com/users/tulip0/received_events",
         "repos_url" : "https://api.github.com/users/tulip0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tulip0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tulip0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tulip0"
      }
   },
   {
      "body" : "Banning user agents is not a good idea: those are trivial to change, the end result will be everyone claiming to be satoshi client.\r\n\r\nBanning on IP is generally effective, but yes that requires manual babysitting.\r\n\r\nBanning based on behavior profile would also be effective: as said above by @tulip0, read the `getpeerinfo` periodically and ban based on the info there, with a script. Git master has accounting of bandwidth per message type since #6589 which is useful for this (I've planned on making this for my own nodes but didn't get around to it yet).",
      "created_at" : "2015-12-18T09:59:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165734742",
      "id" : 165734742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-18T09:59:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165734742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@tulip0 when i say production its in the meaning that the node itself is my product. I'm running the node on high-end hardware with a high-end connection. the idea of my node is just to study the bitcoin network and do some web development.\r\n\r\nI'm was asking because its seems like there is no easy way to do this task. I'm running 0.11.2 and when i try the setban command, i just get \"method not found\"",
      "created_at" : "2015-12-19T03:59:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165943688",
      "id" : 165943688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-19T03:59:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165943688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2274258?v=3",
         "events_url" : "https://api.github.com/users/Kimax89/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Kimax89/followers",
         "following_url" : "https://api.github.com/users/Kimax89/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Kimax89/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Kimax89",
         "id" : 2274258,
         "login" : "Kimax89",
         "organizations_url" : "https://api.github.com/users/Kimax89/orgs",
         "received_events_url" : "https://api.github.com/users/Kimax89/received_events",
         "repos_url" : "https://api.github.com/users/Kimax89/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Kimax89/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Kimax89/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Kimax89"
      }
   },
   {
      "body" : "i'm thinking: maybe its possible to add more rules on when a node is missbehaving?",
      "created_at" : "2015-12-19T04:02:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7227#issuecomment-165944587",
      "id" : 165944587,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7227",
      "updated_at" : "2015-12-19T04:02:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/165944587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2274258?v=3",
         "events_url" : "https://api.github.com/users/Kimax89/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Kimax89/followers",
         "following_url" : "https://api.github.com/users/Kimax89/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Kimax89/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Kimax89",
         "id" : 2274258,
         "login" : "Kimax89",
         "organizations_url" : "https://api.github.com/users/Kimax89/orgs",
         "received_events_url" : "https://api.github.com/users/Kimax89/received_events",
         "repos_url" : "https://api.github.com/users/Kimax89/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Kimax89/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Kimax89/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Kimax89"
      }
   }
]
