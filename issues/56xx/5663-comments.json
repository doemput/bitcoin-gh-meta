[
   {
      "body" : "I don't understand the problem, you click a link containing mainnet address and it opens mainnet, you click a link containing a testnet address and it opens testnet, whats wrong here?",
      "created_at" : "2015-01-16T12:29:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5663#issuecomment-70247393",
      "id" : 70247393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5663",
      "updated_at" : "2015-01-16T12:29:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70247393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo He implies that there is a difference in handling testnet addresses starting with 'm' and starting with 'n' in the URIs. It's curious as AFAIK there is no code that looks at the first letter to determine what kind of address it is.",
      "created_at" : "2015-01-16T12:32:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5663#issuecomment-70247667",
      "id" : 70247667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5663",
      "updated_at" : "2015-01-16T12:32:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70247667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "So how does the client app (bitcoin-qt.exe) know to open up testnet when the addresses start with 'm' meaning they are testnet addresses?\r\n\r\nThe issue is that strangely the logic works for addresses starting with 'm' but not those starting with 'n'.",
      "created_at" : "2015-02-05T20:08:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5663#issuecomment-73117164",
      "id" : 73117164,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5663",
      "updated_at" : "2015-02-05T20:08:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73117164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10871597?v=3",
         "events_url" : "https://api.github.com/users/alexchan69/events{/privacy}",
         "followers_url" : "https://api.github.com/users/alexchan69/followers",
         "following_url" : "https://api.github.com/users/alexchan69/following{/other_user}",
         "gists_url" : "https://api.github.com/users/alexchan69/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/alexchan69",
         "id" : 10871597,
         "login" : "alexchan69",
         "organizations_url" : "https://api.github.com/users/alexchan69/orgs",
         "received_events_url" : "https://api.github.com/users/alexchan69/received_events",
         "repos_url" : "https://api.github.com/users/alexchan69/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/alexchan69/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/alexchan69/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/alexchan69"
      }
   },
   {
      "body" : "This is where the logic is where the client's network is selected based on the address passed in, thus would be a good starting point: https://github.com/bitcoin/bitcoin/blob/master/src/qt/paymentserver.cpp#L207\r\n\r\nSo on line 216 it first checks if the address is valid for mainnet, if so, it selects mainnet. Then it checks if the address is valid for testnet, if so, it selects testnet. If neither it justs falls through, as an 'invalid address' error will be shown later after client start-up finished.\r\n\r\nThere is no 'address starts with X' heuristic anywhere, just full address decodes+checks, so that's why I'm spooked as to why this may happen.",
      "created_at" : "2015-02-06T10:02:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5663#issuecomment-73213739",
      "id" : 73213739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5663",
      "updated_at" : "2015-02-06T10:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73213739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I still think the initial issue description is unclear... he writes ``The app does ... open up connected to testnet if the address starts with 'm' (with -testnet parameter)``. Is that a running instance with -testnet supplied or what does that mean?",
      "created_at" : "2015-02-06T10:09:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5663#issuecomment-73214539",
      "id" : 73214539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5663",
      "updated_at" : "2015-02-06T10:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73214539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I think he meant to say that the app does open up connected to testnet fresh (and not a running instance) correctly if the address starts with 'm', *as if* it runs with -testnet parameter. However, if the address starts with 'n', then the app opens up connected to the live net, which is incorrect.\r\n\r\nI was able to repro it on my machine before that whenever the address starts with 'n' like n379DyezL6xbcrR71V1iWfxjicT4t16RmQ, the app opens up connecting to the live net, even though I expect it to connect to testnet.\r\n\r\nI checked the code. I understand that it does not check for the 'm' or 'n' character directly, but could the CBitcoinAddress::IsValid() function have some bug that incorrectly treats an address starting with 'n' as a live net address?",
      "created_at" : "2015-02-12T00:03:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5663#issuecomment-73992066",
      "id" : 73992066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5663",
      "updated_at" : "2015-02-12T00:03:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73992066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10871597?v=3",
         "events_url" : "https://api.github.com/users/alexchan69/events{/privacy}",
         "followers_url" : "https://api.github.com/users/alexchan69/followers",
         "following_url" : "https://api.github.com/users/alexchan69/following{/other_user}",
         "gists_url" : "https://api.github.com/users/alexchan69/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/alexchan69",
         "id" : 10871597,
         "login" : "alexchan69",
         "organizations_url" : "https://api.github.com/users/alexchan69/orgs",
         "received_events_url" : "https://api.github.com/users/alexchan69/received_events",
         "repos_url" : "https://api.github.com/users/alexchan69/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/alexchan69/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/alexchan69/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/alexchan69"
      }
   },
   {
      "body" : "Tested again with current master (Windows / OSX).\r\nBoth platforms handles address/network mapping correct.\r\nbitcoin:n379DyezL6xbcrR71V1iWfxjicT4t16RmQ did successfully open bitcoin-qt with testnet on both platforms. Closing.\r\n\r\n<img width=\"849\" alt=\"bildschirmfoto 2015-11-30 um 15 00 57\" src=\"https://cloud.githubusercontent.com/assets/178464/11473555/560fa6ca-9773-11e5-8f06-9d1301311349.png\">\r\n",
      "created_at" : "2015-11-30T14:02:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5663#issuecomment-160638522",
      "id" : 160638522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5663",
      "updated_at" : "2015-11-30T14:02:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160638522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
