[
   {
      "body" : "Concept ACK. This allows us to maintain backward compatibility with \"bitcoin-cli getinfo\" without keeping it at the RPC level. Should \"-getinfo\" automatically trigger when the getinfo RPC is requested?",
      "created_at" : "2016-10-04T12:50:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-251378640",
      "id" : 251378640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2016-10-04T12:50:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251378640",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> Should \"-getinfo\" automatically trigger when the getinfo RPC is requested?\r\n\r\nNot sure about that. That's how I had it first but this would blur the line between what bitcoin-cli calls an RPC call and what is actually available on the API endpoint.\r\n\r\nMaybe \"bitcoin-cli getinfo\" if it fails (with the code that the call is missing) could print an helpful message to use \"-getinfo\" instead.\r\n",
      "created_at" : "2016-10-04T13:19:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-251385358",
      "id" : 251385358,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2016-10-04T13:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251385358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Eh, IMO the only backward-compatibility need for getinfo is at the RPC level. RPC isn't really designed for end users, and in any case, end users can adapt to changes easier than legacy software making RPC calls.\r\n\r\nI don't particularly care about whether -getinfo is added to bitcoin-cli, but it doesn't seem like a viable migration path or substitute for the getinfo RPC.",
      "created_at" : "2016-10-04T14:33:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-251406125",
      "id" : 251406125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2016-10-04T14:33:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251406125",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "> I don't particularly care about whether -getinfo is added to bitcoin-cli, but it doesn't seem like a viable migration path or substitute for the getinfo RPC.\r\n\r\nYou are right that RPC is not there for end users.\r\nHowever, bitcoin-cli is there for end users, and many people use bitcoind+bitcoin-cli as a console wallet.\r\n\r\nThis is not just for backwards-compatibility. As I say in my OP\r\n\r\n> The high-level idea is to have one command to gather and show various information and statistics about a bitcoind in one go.\r\n\r\nI'd be fine with completely different output here. However, the idea of having a single command that combines and prints various status information makes sense, IMO.\r\n",
      "created_at" : "2016-10-04T14:45:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-251409625",
      "id" : 251409625,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2016-10-04T14:46:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251409625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "And yes, this could be an external Python script too. I don't really care. Although history has shown that those scripts hardly get maintained nor used, e.g. remember `contrib/bitrpc`? Thought so.\r\n\r\n(so if that is a requirement I'm just going to keep it as a private script and not bother with this, this may be too much of an ego-PR anyway)",
      "created_at" : "2016-10-04T14:49:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-251410899",
      "id" : 251410899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2016-10-04T15:02:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251410899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Reopening after IRC discussion.",
      "created_at" : "2017-06-15T19:40:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-308845548",
      "id" : 308845548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-06-15T19:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308845548",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "rebased",
      "created_at" : "2017-06-15T20:28:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-308856835",
      "id" : 308856835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-06-15T20:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308856835",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126498064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126498064"
         }
      },
      "body" : "nit: please place alphabetically within help messages.",
      "commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "created_at" : "2017-07-10T18:17:28Z",
      "diff_hunk" : "@@ -46,6 +46,7 @@ std::string HelpMessageCli()\n     strUsage += HelpMessageOpt(\"-rpcpassword=<pw>\", _(\"Password for JSON-RPC connections\"));\n     strUsage += HelpMessageOpt(\"-rpcclienttimeout=<n>\", strprintf(_(\"Timeout in seconds during HTTP requests, or 0 for no timeout. (default: %d)\"), DEFAULT_HTTP_CLIENT_TIMEOUT));\n     strUsage += HelpMessageOpt(\"-stdin\", _(\"Read extra arguments from standard input, one per line until EOF/Ctrl-D (recommended for sensitive information such as passphrases)\"));\n+    strUsage += HelpMessageOpt(\"-getinfo\", _(\"Get general information from the remote server\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126498064",
      "id" : 126498064,
      "original_commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "original_position" : 4,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 4,
      "pull_request_review_id" : 48987912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843",
      "updated_at" : "2017-07-10T19:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126498064",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126505134"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126505134"
         }
      },
      "body" : "nit: why add a space here?",
      "commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "created_at" : "2017-07-10T18:47:09Z",
      "diff_hunk" : "@@ -230,8 +317,8 @@ UniValue CallRPC(const std::string& strMethod, const UniValue& params)\n     evhttp_add_header(output_headers, \"Authorization\", (std::string(\"Basic \") + EncodeBase64(strRPCUserColonPass)).c_str());\n \n     // Attach request data\n-    std::string strRequest = JSONRPCRequestObj(strMethod, params, 1).write() + \"\\n\";\n-    struct evbuffer* output_buffer = evhttp_request_get_output_buffer(req.get());\n+    std::string strRequest = rh->PrepareRequest(strMethod, args).write() + \"\\n\";\n+    struct evbuffer * output_buffer = evhttp_request_get_output_buffer(req.get());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126505134",
      "id" : 126505134,
      "original_commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "original_position" : 110,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 110,
      "pull_request_review_id" : 48987912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843",
      "updated_at" : "2017-07-10T19:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126505134",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126506707"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126506707"
         }
      },
      "body" : "slight incompatibility here since HD split. For HD split wallets, `keypoolsize` refers to the size of the external keypool, and there's a new field returned in `getwalletinfo` called `keypoolsize_hd_internal`, which refers to the size of the internal keypool. This implementation should return the sum of those two if `keypoolsize_hd_internal` exists.\r\n\r\nOtherwise:\r\n\r\n```\r\nÃ¢ÂÂ bitcoin-cli getinfo\r\n{\r\n  \"version\": 149900,\r\n...\r\n  \"keypoolsize\": 199,\r\n...\r\n}\r\n\r\nÃ¢ÂÂ bitcoin-cli -getinfo\r\n{\r\n  \"version\": 149900,\r\n...\r\n  \"keypoolsize\": 99,\r\n...\r\n}\r\n```",
      "commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "created_at" : "2017-07-10T18:53:44Z",
      "diff_hunk" : "@@ -189,7 +190,93 @@ static void http_error_cb(enum evhttp_request_error err, void *ctx)\n }\n #endif\n \n-UniValue CallRPC(const std::string& strMethod, const UniValue& params)\n+/** Class that handles the conversion from a command-line to a JSON-RPC request,\n+ * as well as converting back to a JSON object that can be shown as result.\n+ */\n+class BaseRequestHandler\n+{\n+public:\n+    virtual UniValue PrepareRequest(const std::string& strMethod, const std::vector<std::string>& args) = 0;\n+    virtual UniValue ProcessReply(const UniValue &batch_in) = 0;\n+};\n+\n+/** Process getinfo requests */\n+class GetinfoRequestHandler: public BaseRequestHandler\n+{\n+public:\n+    const int ID_NETWORKINFO = 0;\n+    const int ID_BLOCKCHAININFO = 1;\n+    const int ID_WALLETINFO = 2;\n+\n+    /** Create a simulated `getinfo` request. */\n+    UniValue PrepareRequest(const std::string& strMethod, const std::vector<std::string>& args) override\n+    {\n+        UniValue result(UniValue::VARR);\n+        result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n+        result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        return result;\n+    }\n+\n+    /** Collect values from the batch and form a simulated `getinfo` reply. */\n+    UniValue ProcessReply(const UniValue &batch_in) override\n+    {\n+        UniValue result(UniValue::VOBJ);\n+        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 3);\n+        // Errors in getnetworkinfo() and getblockchaininfo() are fatal, pass them on\n+        // getwalletinfo() is allowed to fail in case there is no wallet.\n+        if (!batch[ID_NETWORKINFO][\"error\"].isNull()) {\n+            return batch[ID_NETWORKINFO];\n+        }\n+        if (!batch[ID_BLOCKCHAININFO][\"error\"].isNull()) {\n+            return batch[ID_BLOCKCHAININFO];\n+        }\n+        result.pushKV(\"version\", batch[ID_NETWORKINFO][\"result\"][\"version\"]);\n+        result.pushKV(\"protocolversion\", batch[ID_NETWORKINFO][\"result\"][\"protocolversion\"]);\n+        if (!batch[ID_WALLETINFO].isNull()) {\n+            result.pushKV(\"walletversion\", batch[ID_WALLETINFO][\"result\"][\"walletversion\"]);\n+            result.pushKV(\"balance\", batch[ID_WALLETINFO][\"result\"][\"balance\"]);\n+        }\n+        result.pushKV(\"blocks\", batch[ID_BLOCKCHAININFO][\"result\"][\"blocks\"]);\n+        result.pushKV(\"timeoffset\", batch[ID_NETWORKINFO][\"result\"][\"timeoffset\"]);\n+        result.pushKV(\"connections\", batch[ID_NETWORKINFO][\"result\"][\"connections\"]);\n+        result.pushKV(\"proxy\", batch[ID_NETWORKINFO][\"result\"][\"networks\"][0][\"proxy\"]);\n+        result.pushKV(\"difficulty\", batch[ID_BLOCKCHAININFO][\"result\"][\"difficulty\"]);\n+        result.pushKV(\"testnet\", UniValue(batch[ID_BLOCKCHAININFO][\"result\"][\"chain\"].get_str() == \"test\"));\n+        if (!batch[ID_WALLETINFO].isNull()) {\n+            result.pushKV(\"keypoololdest\", batch[ID_WALLETINFO][\"result\"][\"keypoololdest\"]);\n+            result.pushKV(\"keypoolsize\", batch[ID_WALLETINFO][\"result\"][\"keypoolsize\"]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126506707",
      "id" : 126506707,
      "original_commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "original_position" : 68,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 68,
      "pull_request_review_id" : 48987912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843",
      "updated_at" : "2017-07-10T19:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126506707",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126510260"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126510260"
         }
      },
      "body" : "nit: new code so should use braces for `if` blocks (sorry!)",
      "commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "created_at" : "2017-07-10T19:09:21Z",
      "diff_hunk" : "@@ -124,3 +124,19 @@ void DeleteAuthCookie()\n     }\n }\n \n+std::vector<UniValue> JSONRPCProcessBatchReply(const UniValue &in, size_t num)\n+{\n+    if (!in.isArray())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r126510260",
      "id" : 126510260,
      "original_commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "original_position" : 6,
      "path" : "src/rpc/protocol.cpp",
      "position" : 6,
      "pull_request_review_id" : 48987912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843",
      "updated_at" : "2017-07-10T19:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126510260",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r127599074"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127599074"
         }
      },
      "body" : "Actually, I've got this backwards. `getinfo` should be updated to be consistent with `getwalletinfo`, not making `-getinfo` consistent with the incorrect `getinfo`.\r\n\r\nI think that can be done as a separate commit in this PR. Let me know if you want me to make a branch with that commit.",
      "commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "created_at" : "2017-07-16T05:30:06Z",
      "diff_hunk" : "@@ -189,7 +190,93 @@ static void http_error_cb(enum evhttp_request_error err, void *ctx)\n }\n #endif\n \n-UniValue CallRPC(const std::string& strMethod, const UniValue& params)\n+/** Class that handles the conversion from a command-line to a JSON-RPC request,\n+ * as well as converting back to a JSON object that can be shown as result.\n+ */\n+class BaseRequestHandler\n+{\n+public:\n+    virtual UniValue PrepareRequest(const std::string& strMethod, const std::vector<std::string>& args) = 0;\n+    virtual UniValue ProcessReply(const UniValue &batch_in) = 0;\n+};\n+\n+/** Process getinfo requests */\n+class GetinfoRequestHandler: public BaseRequestHandler\n+{\n+public:\n+    const int ID_NETWORKINFO = 0;\n+    const int ID_BLOCKCHAININFO = 1;\n+    const int ID_WALLETINFO = 2;\n+\n+    /** Create a simulated `getinfo` request. */\n+    UniValue PrepareRequest(const std::string& strMethod, const std::vector<std::string>& args) override\n+    {\n+        UniValue result(UniValue::VARR);\n+        result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n+        result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        return result;\n+    }\n+\n+    /** Collect values from the batch and form a simulated `getinfo` reply. */\n+    UniValue ProcessReply(const UniValue &batch_in) override\n+    {\n+        UniValue result(UniValue::VOBJ);\n+        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 3);\n+        // Errors in getnetworkinfo() and getblockchaininfo() are fatal, pass them on\n+        // getwalletinfo() is allowed to fail in case there is no wallet.\n+        if (!batch[ID_NETWORKINFO][\"error\"].isNull()) {\n+            return batch[ID_NETWORKINFO];\n+        }\n+        if (!batch[ID_BLOCKCHAININFO][\"error\"].isNull()) {\n+            return batch[ID_BLOCKCHAININFO];\n+        }\n+        result.pushKV(\"version\", batch[ID_NETWORKINFO][\"result\"][\"version\"]);\n+        result.pushKV(\"protocolversion\", batch[ID_NETWORKINFO][\"result\"][\"protocolversion\"]);\n+        if (!batch[ID_WALLETINFO].isNull()) {\n+            result.pushKV(\"walletversion\", batch[ID_WALLETINFO][\"result\"][\"walletversion\"]);\n+            result.pushKV(\"balance\", batch[ID_WALLETINFO][\"result\"][\"balance\"]);\n+        }\n+        result.pushKV(\"blocks\", batch[ID_BLOCKCHAININFO][\"result\"][\"blocks\"]);\n+        result.pushKV(\"timeoffset\", batch[ID_NETWORKINFO][\"result\"][\"timeoffset\"]);\n+        result.pushKV(\"connections\", batch[ID_NETWORKINFO][\"result\"][\"connections\"]);\n+        result.pushKV(\"proxy\", batch[ID_NETWORKINFO][\"result\"][\"networks\"][0][\"proxy\"]);\n+        result.pushKV(\"difficulty\", batch[ID_BLOCKCHAININFO][\"result\"][\"difficulty\"]);\n+        result.pushKV(\"testnet\", UniValue(batch[ID_BLOCKCHAININFO][\"result\"][\"chain\"].get_str() == \"test\"));\n+        if (!batch[ID_WALLETINFO].isNull()) {\n+            result.pushKV(\"keypoololdest\", batch[ID_WALLETINFO][\"result\"][\"keypoololdest\"]);\n+            result.pushKV(\"keypoolsize\", batch[ID_WALLETINFO][\"result\"][\"keypoolsize\"]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#discussion_r127599074",
      "id" : 127599074,
      "original_commit_id" : "157f0bff4e7e759215ee2cea7343cd02ceead209",
      "original_position" : 68,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 68,
      "pull_request_review_id" : 50203357,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8843",
      "updated_at" : "2017-07-16T05:30:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127599074",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "I'd love for this to make it in to v0.15.0, to ease the removal of `getinfo` in (hopefully) v0.15.1.",
      "created_at" : "2017-07-16T05:30:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315587044",
      "id" : 315587044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-16T05:30:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315587044",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "I am concerned that this breaks the atomicity of the previously-atomic RPC getinfo, which may be very surprising for users. I'm not sure how much it matters if you get inconsistent data in results from bitcoin-cli, since most automated things will likely be using RPC directly, but I'm not convinced it is a great direction.",
      "created_at" : "2017-07-16T22:55:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315643983",
      "id" : 315643983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-16T22:55:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315643983",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "NACK. Keep it simple for cli. IMO this is a good example for what to not do in a cli and can lead to others do the same in their cli.. This doesn't break atomicity as there is no getinfo, at the very least that should be a concern in #8843. The ones requesting getinfo should either just make the calls or understand what they really need.",
      "created_at" : "2017-07-16T23:26:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315645678",
      "id" : 315645678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-16T23:26:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315645678",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "> I'm not convinced it is a great direction\r\n\r\n> this is a good example for what to not do in a cli and can lead to others do the same in their cli\r\n\r\nIdealogical purity is fine in its place, but this is an isolated change to help those who are currently use `getinfo` from the command line. I don't think it sets a precedent for doing more hacks with the cli.\r\n\r\nPerhaps don't document this? Or document it as a debug option? Would that be better?\r\n\r\nTo be clear: I'm not advocating strongly for this PR. If the consensus view is that this is not required to remove `getinfo` then I'm happy to go along with that. However, I'm certainly not concerned about it setting precedent and I don't think that a good reason to not merge this.",
      "created_at" : "2017-07-16T23:59:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315647427",
      "id" : 315647427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-16T23:59:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315647427",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "I'm having trouble parsing your comment @promag. My concern with atomicity is that you could eg get a getwalletinfo result which is current, then a getblockchaininfo result a block later and end up with a very confused getinfo. Forcing the client to make separate calls clarifies that somewhat.\n\nAnyway, I'm curious what the previous IRC discussion was, let's bring this up at next week's meeting (or on IRC on Monday) and figure out what it is that the use-case is.\n\nOn July 16, 2017 7:26:08 PM EDT, \"JoÃÂ£o Barbosa\" <notifications@github.com> wrote:\n>NACK. Keep it simple for cli. IMO this is a good example for what to\n>not do in a cli and can lead to others do the same in their cli.. This\n>doesn't break atomicity as there is no getinfo, at the very least that\n>should be a concern in #8843. The ones requesting getinfo should either\n>just make the calls or understand what they really need.\n",
      "created_at" : "2017-07-17T00:05:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315647817",
      "id" : 315647817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-17T00:05:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315647817",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Closing this, I don't feel like addressing the atomicity concern, it seems arbitrary, never came up before, and a way to call multiple RPC calls atomically is *WAY* out of scope for this. Not going to maintain this anymore.",
      "created_at" : "2017-07-17T06:25:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315676085",
      "id" : 315676085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-17T06:25:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315676085",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> but this is an isolated change to help those who are currently use getinfo from the command line\r\n\r\n@jnewbery that's what deprecation is for.\r\n\r\n> Forcing the client to make separate calls clarifies that somewhat.\r\n\r\n@TheBlueMatt I totally agree with you! Sorry if I wasn't clear.\r\n\r\n@laanwj IMO best solution is to add support for http://www.jsonrpc.org/specification#batch, where the locks are held while handling the batch request.",
      "created_at" : "2017-07-17T09:06:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315702093",
      "id" : 315702093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-17T09:06:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315702093",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "I use a batch in the implementation of this!\n\nHolding all the locks for the whole time seems a bad idea though. A batch\nmight include, or fully consist of, RPCs that don't need any locks at all.\nLocks have been pushed down, just a version ago, to be able to handle them\nseparately per call implementation.\n\nIt could be done optionally; e.g. submit a list of locks with the batch.\nBut wtf, I had never before this even heard of a use case for that, seems\nvery rare.\n\nOn Jul 17, 2017 11:06 AM, \"JoÃÂ£o Barbosa\" <notifications@github.com> wrote:\n\n> but this is an isolated change to help those who are currently use getinfo\n> from the command line\n>\n> @jnewbery <https://github.com/jnewbery> that's what deprecation is for.\n>\n> Forcing the client to make separate calls clarifies that somewhat.\n>\n> @TheBlueMatt <https://github.com/thebluematt> I totally agree with you!\n> Sorry if I wasn't clear.\n>\n> @laanwj <https://github.com/laanwj> IMO best solution is to add support\n> for http://www.jsonrpc.org/specification#batch, where the locks are held\n> while handling the batch request.\n>\n> Ã¢ÂÂ\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315702093>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAHutr-cDdul0LBUNhs50Q4Hy8AMxAf8ks5sOyQLgaJpZM4KKbKh>\n> .\n>\n",
      "created_at" : "2017-07-17T09:16:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315704212",
      "id" : 315704212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-17T09:16:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315704212",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Anyhow I'm no longer going to work on this after the so-manyeth time this\ngets shot down for out-of-the-blue reasons.\n\nI don't even use it myself. The getinfo output doesn't provide a useful\nselection of information. I have a custom script that prints what I'm\ninterested in, and suggest everyone does the same, easy enough.\n\nOn Jul 17, 2017 11:16 AM, \"Wladimir\" <laanwj@gmail.com> wrote:\n\n> I use a batch in the implementation of this!\n>\n> Holding all the locks for the whole time seems a bad idea though. A batch\n> might include, or fully consist of, RPCs that don't need any locks at all.\n> Locks have been pushed down, just a version ago, to be able to handle them\n> separately per call implementation.\n>\n> It could be done optionally; e.g. submit a list of locks with the batch.\n> But wtf, I had never before this even heard of a use case for that, seems\n> very rare.\n>\n> On Jul 17, 2017 11:06 AM, \"JoÃÂ£o Barbosa\" <notifications@github.com> wrote:\n>\n>> but this is an isolated change to help those who are currently use\n>> getinfo from the command line\n>>\n>> @jnewbery <https://github.com/jnewbery> that's what deprecation is for.\n>>\n>> Forcing the client to make separate calls clarifies that somewhat.\n>>\n>> @TheBlueMatt <https://github.com/thebluematt> I totally agree with you!\n>> Sorry if I wasn't clear.\n>>\n>> @laanwj <https://github.com/laanwj> IMO best solution is to add support\n>> for http://www.jsonrpc.org/specification#batch, where the locks are held\n>> while handling the batch request.\n>>\n>> Ã¢ÂÂ\n>> You are receiving this because you were mentioned.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315702093>,\n>> or mute the thread\n>> <https://github.com/notifications/unsubscribe-auth/AAHutr-cDdul0LBUNhs50Q4Hy8AMxAf8ks5sOyQLgaJpZM4KKbKh>\n>> .\n>>\n>\n",
      "created_at" : "2017-07-17T09:25:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315706100",
      "id" : 315706100,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-17T09:25:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315706100",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> I use a batch in the implementation of this!\r\n\r\n@laanwj sorry I've overlook the code and did not realize there is already support for server side batch requests.\r\n\r\n:+1: for custom scripting.",
      "created_at" : "2017-07-17T09:48:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8843#issuecomment-315711217",
      "id" : 315711217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8843",
      "updated_at" : "2017-07-17T09:48:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315711217",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
