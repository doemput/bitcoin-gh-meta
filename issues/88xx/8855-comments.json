[
   {
      "body" : "Pushed with more changes added to the OP.",
      "created_at" : "2016-10-03T15:05:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-251131552",
      "id" : 251131552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-10-03T15:05:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251131552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Added 1 commit.\r\nSorry for gratuitously rebasing...",
      "created_at" : "2016-10-21T00:44:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-255265822",
      "id" : 255265822,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-10-22T01:58:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255265822",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needed rebase",
      "created_at" : "2016-11-03T21:58:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-258286863",
      "id" : 258286863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-11-03T21:58:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258286863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needed rebase to adapt to a new test using Params(std::string).",
      "created_at" : "2016-11-10T23:20:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-259837304",
      "id" : 259837304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-11-10T23:20:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259837304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needed rebase for bench/checkblock.cpp again",
      "created_at" : "2016-11-14T18:23:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-260417514",
      "id" : 260417514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-11-14T18:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260417514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88095156"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88095156"
         }
      },
      "body" : "Any reason why this does not return a unique_ptr?\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-15T19:34:58Z",
      "diff_hunk" : "@@ -63,31 +59,30 @@ class CBaseRegTestParams : public CBaseChainParams\n         strDataDir = \"regtest\";\n     }\n };\n-static CBaseRegTestParams regTestParams;\n \n-static CBaseChainParams* pCurrentBaseParams = 0;\n+static std::unique_ptr<CBaseChainParams> globalChainBaseParams;\n \n const CBaseChainParams& BaseParams()\n {\n-    assert(pCurrentBaseParams);\n-    return *pCurrentBaseParams;\n+    assert(globalChainBaseParams.get());\n+    return *globalChainBaseParams;\n }\n \n-CBaseChainParams& BaseParams(const std::string& chain)\n+CBaseChainParams* CBaseChainParams::Factory(const std::string& chain)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88095156",
      "id" : 88095156,
      "original_commit_id" : "eb6c595e557c892bc50f99bbf28d8c90e2fa7a3b",
      "original_position" : 43,
      "path" : "src/chainparamsbase.cpp",
      "position" : null,
      "pull_request_review_id" : 8678957,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88095156",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88095337"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88095337"
         }
      },
      "body" : "I think this should be a function rather than a static method.\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-15T19:35:46Z",
      "diff_hunk" : "@@ -22,6 +22,12 @@ class CBaseChainParams\n \n     const std::string& DataDir() const { return strDataDir; }\n     int RPCPort() const { return nRPCPort; }\n+    /**\n+     * Creates and returns a CBaseChainParams* of the chosen chain. The caller has to delete the object.\n+     * @returns A CBaseChainParams* of the chosen chain.\n+     * @throws a std::runtime_error if the chain is not supported.\n+     */\n+    static CBaseChainParams* Factory(const std::string& chain);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88095337",
      "id" : 88095337,
      "original_commit_id" : "eb6c595e557c892bc50f99bbf28d8c90e2fa7a3b",
      "original_position" : 9,
      "path" : "src/chainparamsbase.h",
      "position" : null,
      "pull_request_review_id" : 8679130,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88095337",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88095762"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88095762"
         }
      },
      "body" : "Lines like this (as there are many) can avoid some redundancy by using `const auto defaultBaseParmams = ...` instead.\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-15T19:37:49Z",
      "diff_hunk" : "@@ -32,14 +32,16 @@ static const int CONTINUE_EXECUTION=-1;\n \n std::string HelpMessageCli()\n {\n+    const std::unique_ptr<CBaseChainParams> defaultBaseParams(CBaseChainParams::Factory(CBaseChainParams::MAIN));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88095762",
      "id" : 88095762,
      "original_commit_id" : "eb6c595e557c892bc50f99bbf28d8c90e2fa7a3b",
      "original_position" : 4,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 8679130,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88095762",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88096244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88096244"
         }
      },
      "body" : "I think this should be a function rather than a static method.\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-15T19:40:04Z",
      "diff_hunk" : "@@ -73,6 +74,13 @@ class CChainParams\n     const std::vector<unsigned char>& Base58Prefix(Base58Type type) const { return base58Prefixes[type]; }\n     const std::vector<SeedSpec6>& FixedSeeds() const { return vFixedSeeds; }\n     const CCheckpointData& Checkpoints() const { return checkpointData; }\n+    void UpdateBIP9Parameters(Consensus::DeploymentPos d, int64_t nStartTime, int64_t nTimeout);\n+    /**\n+     * Creates and returns a CChainParams* of the chosen chain. The caller has to delete the object.\n+     * @returns a CChainParams* of the chosen chain.\n+     * @throws a std::runtime_error if the chain is not supported.\n+     */\n+    static std::unique_ptr<CChainParams> Factory(const std::string& chain);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88096244",
      "id" : 88096244,
      "original_commit_id" : "eb6c595e557c892bc50f99bbf28d8c90e2fa7a3b",
      "original_position" : 18,
      "path" : "src/chainparams.h",
      "position" : null,
      "pull_request_review_id" : 8679130,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88096244",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Updated, hopefully fixing all nits.",
      "created_at" : "2016-11-15T23:01:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-260798419",
      "id" : 260798419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-11-15T23:01:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260798419",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88588571"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88588571"
         }
      },
      "body" : "ÃÂ¼nit: you can just use `assert(globalChainParams)` (std::unique_ptr has an implicit conversion to bool, which checks whether there is an owned object),\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-18T02:11:32Z",
      "diff_hunk" : "@@ -308,42 +312,34 @@ class CRegTestParams : public CChainParams {\n         base58Prefixes[EXT_PUBLIC_KEY] = boost::assign::list_of(0x04)(0x35)(0x87)(0xCF).convert_to_container<std::vector<unsigned char> >();\n         base58Prefixes[EXT_SECRET_KEY] = boost::assign::list_of(0x04)(0x35)(0x83)(0x94).convert_to_container<std::vector<unsigned char> >();\n     }\n-\n-    void UpdateBIP9Parameters(Consensus::DeploymentPos d, int64_t nStartTime, int64_t nTimeout)\n-    {\n-        consensus.vDeployments[d].nStartTime = nStartTime;\n-        consensus.vDeployments[d].nTimeout = nTimeout;\n-    }\n };\n-static CRegTestParams regTestParams;\n \n-static CChainParams *pCurrentParams = 0;\n+static std::unique_ptr<CChainParams> globalChainParams;\n \n const CChainParams &Params() {\n-    assert(pCurrentParams);\n-    return *pCurrentParams;\n+    assert(globalChainParams.get());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88588571",
      "id" : 88588571,
      "original_commit_id" : "dd882d15c846da56a3338626be4e411a003eb8b5",
      "original_position" : 48,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 9158607,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88588571",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88589310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88589310"
         }
      },
      "body" : "auto-nit: why remove this?\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-18T02:20:15Z",
      "diff_hunk" : "@@ -8,8 +8,6 @@\n #include \"tinyformat.h\"\n #include \"util.h\"\n \n-#include <assert.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88589310",
      "id" : 88589310,
      "original_commit_id" : "4f2ab940bee84da4db8dbae15cc53632a02bf160",
      "original_position" : 4,
      "path" : "src/chainparamsbase.cpp",
      "position" : null,
      "pull_request_review_id" : 9159272,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88589310",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88591277"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88591277"
         }
      },
      "body" : "Also all these could remain const, will push shortly...\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-18T02:41:57Z",
      "diff_hunk" : "@@ -18,69 +18,59 @@ BOOST_FIXTURE_TEST_SUITE(pow_tests, BasicTestingSetup)\n /* Test calculation of next difficulty target with no constraints applying */\n BOOST_AUTO_TEST_CASE(get_next_work)\n {\n-    SelectParams(CBaseChainParams::MAIN);\n-    const Consensus::Params& params = Params().GetConsensus();\n-\n+    auto chainParams = CreateChainParams(CBaseChainParams::MAIN);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88591277",
      "id" : 88591277,
      "original_commit_id" : "dd882d15c846da56a3338626be4e411a003eb8b5",
      "original_position" : 7,
      "path" : "src/test/pow_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 9161122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88591277",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Solved auto-nits, also rebased.",
      "created_at" : "2016-11-18T03:02:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-261437024",
      "id" : 261437024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-11-18T03:02:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261437024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88593140"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88593140"
         }
      },
      "body" : "Remains from boost::scoped_ptr, fixing now...\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-18T03:06:26Z",
      "diff_hunk" : "@@ -308,42 +312,34 @@ class CRegTestParams : public CChainParams {\n         base58Prefixes[EXT_PUBLIC_KEY] = boost::assign::list_of(0x04)(0x35)(0x87)(0xCF).convert_to_container<std::vector<unsigned char> >();\n         base58Prefixes[EXT_SECRET_KEY] = boost::assign::list_of(0x04)(0x35)(0x83)(0x94).convert_to_container<std::vector<unsigned char> >();\n     }\n-\n-    void UpdateBIP9Parameters(Consensus::DeploymentPos d, int64_t nStartTime, int64_t nTimeout)\n-    {\n-        consensus.vDeployments[d].nStartTime = nStartTime;\n-        consensus.vDeployments[d].nTimeout = nTimeout;\n-    }\n };\n-static CRegTestParams regTestParams;\n \n-static CChainParams *pCurrentParams = 0;\n+static std::unique_ptr<CChainParams> globalChainParams;\n \n const CChainParams &Params() {\n-    assert(pCurrentParams);\n-    return *pCurrentParams;\n+    assert(globalChainParams.get());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88593140",
      "id" : 88593140,
      "original_commit_id" : "dd882d15c846da56a3338626be4e411a003eb8b5",
      "original_position" : 48,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 9162940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88593140",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88593188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88593188"
         }
      },
      "body" : "Is this comment out of date now?\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-18T03:07:18Z",
      "diff_hunk" : "@@ -31,6 +32,13 @@ class CBaseChainParams\n };\n \n /**\n+ * Creates and returns a CBaseChainParams* of the chosen chain. The caller has to delete the object.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88593188",
      "id" : 88593188,
      "original_commit_id" : "e0e2a3e5242dd2dce08814b048a7c6e924f11556",
      "original_position" : 12,
      "path" : "src/chainparamsbase.h",
      "position" : null,
      "pull_request_review_id" : 9162985,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88593188",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88593268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88593268"
         }
      },
      "body" : "Right, the caller doesn't have to explicitly delete the object anymore, thanks.\n",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2016-11-18T03:08:33Z",
      "diff_hunk" : "@@ -31,6 +32,13 @@ class CBaseChainParams\n };\n \n /**\n+ * Creates and returns a CBaseChainParams* of the chosen chain. The caller has to delete the object.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r88593268",
      "id" : 88593268,
      "original_commit_id" : "e0e2a3e5242dd2dce08814b048a7c6e924f11556",
      "original_position" : 12,
      "path" : "src/chainparamsbase.h",
      "position" : null,
      "pull_request_review_id" : 9163062,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-03T16:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88593268",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Updated and hopefully fixed latest small nits. Thanks again for the nits.\r\n",
      "created_at" : "2016-11-18T03:25:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-261439767",
      "id" : 261439767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-11-21T21:04:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261439767",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needed trivial rebase.",
      "created_at" : "2016-12-02T03:10:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-264362461",
      "id" : 264362461,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2016-12-02T03:10:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/264362461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Trivial rebase done.",
      "created_at" : "2017-01-08T23:07:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-271187212",
      "id" : 271187212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2017-01-08T23:07:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271187212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needed rebase again.",
      "created_at" : "2017-01-24T23:23:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-274971893",
      "id" : 274971893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2017-01-24T23:23:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274971893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Didn't need rebase, but the second commit could stop compiling on merge at any time without apparently needing rebase. So I just did it, no changes needed this time.",
      "created_at" : "2017-03-07T00:48:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-284584215",
      "id" : 284584215,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2017-03-07T00:48:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284584215",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Rebased again in search of new uses of Params(std::string) (which would make this PR fail on compilation if merged), none found.\r\n",
      "created_at" : "2017-03-23T20:15:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-288846676",
      "id" : 288846676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2017-03-23T20:15:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/288846676",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK 33b78e16e0023191663fa209ac08608b2b48cfab",
      "created_at" : "2017-04-03T04:37:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-291047043",
      "id" : 291047043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2017-04-03T04:37:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/291047043",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "Needed trivial rebase after #10075",
      "created_at" : "2017-05-03T16:32:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-298964764",
      "id" : 298964764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2017-05-03T16:32:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298964764",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/8855/commits/c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2017-05-04T20:03:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#issuecomment-299293710",
      "id" : 299293710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8855",
      "updated_at" : "2017-05-04T20:03:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299293710",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115370511"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115370511"
         }
      },
      "body" : "In commit \"Use a proper factory for creating chainparams\"\r\n\r\nThis seems not equivalent to the previous code. Previously this would only affect the regtest chain returned by `Params(REGTEST)`, but now it affects the chain params returned by `Params()`",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2017-05-08T22:38:27Z",
      "diff_hunk" : "@@ -1123,7 +1125,7 @@ bool AppInitParameterInteraction()\n             for (int j=0; j<(int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++j)\n             {\n                 if (vDeploymentParams[0].compare(VersionBitsDeploymentInfo[j].name) == 0) {\n-                    UpdateRegtestBIP9Parameters(Consensus::DeploymentPos(j), nStartTime, nTimeout);\n+                    UpdateBIP9Parameters(Consensus::DeploymentPos(j), nStartTime, nTimeout);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115370511",
      "id" : 115370511,
      "original_commit_id" : "f87f3626e35e7edae37e14f5156809325ad18cb2",
      "original_position" : 23,
      "path" : "src/init.cpp",
      "position" : 63,
      "pull_request_review_id" : 36903783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-08T23:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115370511",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115371816"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115371816"
         }
      },
      "body" : "In commit \"Chainparams: Use a regular factory for creating chainparams\"\r\n\r\nThis does not seem safe because every new call to `Params(chain)` will delete the object referenced by the previous call. This could cause crashes and memory corruption if `Params(chain)` is called multiple times or from different threads.\r\n\r\nA safer implementation would look more like:\r\n\r\n```\r\nconst CChainParams& Params(const std::string& chain) {\r\n  static std::map<std::string, std::unique_ptr<CChainParams>> cachedParams;\r\n  auto& params = cachedParams[chain];\r\n  if (!params) params = CreateChainParams(chain);\r\n  return *params;\r\n}\r\n```\r\n\r\nAnd might also add locking.\r\n\r\nUPDATE: Maybe it doesn't matter because you are deleting this function in the next commit.",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2017-05-08T22:46:02Z",
      "diff_hunk" : "@@ -326,42 +330,41 @@ class CRegTestParams : public CChainParams {\n         base58Prefixes[EXT_PUBLIC_KEY] = boost::assign::list_of(0x04)(0x35)(0x87)(0xCF).convert_to_container<std::vector<unsigned char> >();\n         base58Prefixes[EXT_SECRET_KEY] = boost::assign::list_of(0x04)(0x35)(0x83)(0x94).convert_to_container<std::vector<unsigned char> >();\n     }\n-\n-    void UpdateBIP9Parameters(Consensus::DeploymentPos d, int64_t nStartTime, int64_t nTimeout)\n-    {\n-        consensus.vDeployments[d].nStartTime = nStartTime;\n-        consensus.vDeployments[d].nTimeout = nTimeout;\n-    }\n };\n-static CRegTestParams regTestParams;\n \n-static CChainParams *pCurrentParams = 0;\n+static std::unique_ptr<CChainParams> globalChainParams;\n+static std::unique_ptr<CChainParams> globalSwitchingChainParams;\n \n const CChainParams &Params() {\n-    assert(pCurrentParams);\n-    return *pCurrentParams;\n+    assert(globalChainParams);\n+    return *globalChainParams;\n }\n \n-CChainParams& Params(const std::string& chain)\n+std::unique_ptr<CChainParams> CreateChainParams(const std::string& chain)\n {\n     if (chain == CBaseChainParams::MAIN)\n-            return mainParams;\n+        return std::unique_ptr<CChainParams>(new CMainParams());\n     else if (chain == CBaseChainParams::TESTNET)\n-            return testNetParams;\n+        return std::unique_ptr<CChainParams>(new CTestNetParams());\n     else if (chain == CBaseChainParams::REGTEST)\n-            return regTestParams;\n-    else\n-        throw std::runtime_error(strprintf(\"%s: Unknown chain %s.\", __func__, chain));\n+        return std::unique_ptr<CChainParams>(new CRegTestParams());\n+    throw std::runtime_error(strprintf(\"%s: Unknown chain %s.\", __func__, chain));\n+}\n+\n+const CChainParams& Params(const std::string& chain)\n+{\n+    globalSwitchingChainParams = CreateChainParams(chain);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115371816",
      "id" : 115371816,
      "original_commit_id" : "f87f3626e35e7edae37e14f5156809325ad18cb2",
      "original_position" : 72,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 36903783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-08T23:20:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115371816",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115374011"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115374011"
         }
      },
      "body" : "In commit \"Chainparams: Use a regular factory for creating chainparams\"\r\n\r\nTechnically returns a unique_ptr",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2017-05-08T23:01:38Z",
      "diff_hunk" : "@@ -95,6 +97,13 @@ class CChainParams\n };\n \n /**\n+ * Creates and returns a std::unique_ptr<CChainParams> of the chosen chain.\n+ * @returns a CChainParams* of the chosen chain.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115374011",
      "id" : 115374011,
      "original_commit_id" : "f87f3626e35e7edae37e14f5156809325ad18cb2",
      "original_position" : 21,
      "path" : "src/chainparams.h",
      "position" : null,
      "pull_request_review_id" : 36903783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-08T23:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115374011",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115374175"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115374175"
         }
      },
      "body" : "In commit \"Chainparams: Use a regular factory for creating chainparams\"\r\n\r\nTechnically returns a unique_ptr",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2017-05-08T23:02:48Z",
      "diff_hunk" : "@@ -31,6 +32,13 @@ class CBaseChainParams\n };\n \n /**\n+ * Creates and returns a std::unique_ptr<CBaseChainParams> of the chosen chain.\n+ * @returns a CBaseChainParams* of the chosen chain.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115374175",
      "id" : 115374175,
      "original_commit_id" : "f87f3626e35e7edae37e14f5156809325ad18cb2",
      "original_position" : 13,
      "path" : "src/chainparamsbase.h",
      "position" : 13,
      "pull_request_review_id" : 36903783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-08T23:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115374175",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115467714"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115467714"
         }
      },
      "body" : "This impedes the function being called by non regtest-like chains: https://github.com/bitcoin/bitcoin/pull/8855/commits/f87f3626e35e7edae37e14f5156809325ad18cb2#diff-c865a8939105e6350a50af02766291b7R1107",
      "commit_id" : "c1082a7d359ad984e84195175a01f2f30671b172",
      "created_at" : "2017-05-09T11:42:37Z",
      "diff_hunk" : "@@ -1123,7 +1125,7 @@ bool AppInitParameterInteraction()\n             for (int j=0; j<(int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++j)\n             {\n                 if (vDeploymentParams[0].compare(VersionBitsDeploymentInfo[j].name) == 0) {\n-                    UpdateRegtestBIP9Parameters(Consensus::DeploymentPos(j), nStartTime, nTimeout);\n+                    UpdateBIP9Parameters(Consensus::DeploymentPos(j), nStartTime, nTimeout);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8855#discussion_r115467714",
      "id" : 115467714,
      "original_commit_id" : "f87f3626e35e7edae37e14f5156809325ad18cb2",
      "original_position" : 23,
      "path" : "src/init.cpp",
      "position" : 63,
      "pull_request_review_id" : 37006214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8855",
      "updated_at" : "2017-05-09T11:42:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/115467714",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
