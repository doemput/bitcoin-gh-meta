[
   {
      "body" : "OS X screenshots:\r\nCurrent\r\n![before](https://cloud.githubusercontent.com/assets/863730/19061364/cbe04ede-8a22-11e6-8ecc-8abe6292a139.png)\r\n8874\r\n![after](https://cloud.githubusercontent.com/assets/863730/19061367/d28b206a-8a22-11e6-865b-f219bd5a4116.png)\r\n\r\nWhen  multiple nodes are selected the dropdown menu should be \"Nodes\".",
      "created_at" : "2016-10-04T03:12:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251285167",
      "id" : 251285167,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-04T03:12:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251285167",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "concept ACK\r\n\r\n... or you can change the text to \"Disconnect\" and \"Ban for 1 hour\". I think we should use consistent terminology here. The bookmark is called \"Peers\" and we use \"node\" here. RPCs are `getpeerinfo`, `addnode`. Oops. But at least GUI should be consistent.",
      "created_at" : "2016-10-04T05:06:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251296897",
      "id" : 251296897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-04T05:24:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251296897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Our peers are nodes. Different terms for different things. Peer is the relationship, node is the thing.\r\n\r\nTruncating the menu items does seem like the simplest approach here, though.",
      "created_at" : "2016-10-04T05:17:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251297967",
      "id" : 251297967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-04T05:17:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251297967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I've just removed `Node` so that it says `Disconnect`, `Ban for ..`, and `Unban`",
      "created_at" : "2016-10-04T12:33:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251374784",
      "id" : 251374784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-04T12:33:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251374784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Probably need #8885 in first to be able to test this re:banning.",
      "created_at" : "2016-10-05T02:37:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251567598",
      "id" : 251567598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-05T02:37:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251567598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Have tested d651056\r\nI've been unable to ban/kick multiple peers. Either with Ctrl-click or Shift-click. Is there some other trick?\r\nUbuntu 16.04, Qt reports as 5.5.1.\r\nIt seems like it allows multiple selection (e.g. two nodes can be selected for a fraction of a second) but always ends up selecting the last clicked node. Maybe some rogue event handler?\r\n",
      "created_at" : "2016-10-05T03:32:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251573564",
      "id" : 251573564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-05T03:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251573564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Click, hold, and move your mouse across multiple rows. That's what works. I haven't figured out Ctrl+click or Shift+click yet.",
      "created_at" : "2016-10-05T03:45:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251574902",
      "id" : 251574902,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-05T03:45:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251574902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "@laanwj 763cc02 should allow for multiple selection with Ctrl-click, shift-click, and click n' drag.",
      "created_at" : "2016-10-05T04:54:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251581623",
      "id" : 251581623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-05T04:54:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251581623",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "cheers",
      "created_at" : "2016-10-05T14:13:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-251686577",
      "id" : 251686577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-05T14:13:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251686577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15656017?v=3",
         "events_url" : "https://api.github.com/users/waxmihs2902/events{/privacy}",
         "followers_url" : "https://api.github.com/users/waxmihs2902/followers",
         "following_url" : "https://api.github.com/users/waxmihs2902/following{/other_user}",
         "gists_url" : "https://api.github.com/users/waxmihs2902/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/waxmihs2902",
         "id" : 15656017,
         "login" : "waxmihs2902",
         "organizations_url" : "https://api.github.com/users/waxmihs2902/orgs",
         "received_events_url" : "https://api.github.com/users/waxmihs2902/received_events",
         "repos_url" : "https://api.github.com/users/waxmihs2902/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/waxmihs2902/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/waxmihs2902/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/waxmihs2902"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2016-10-08T15:15:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-252429893",
      "id" : 252429893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-08T15:15:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252429893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8874#discussion_r82504154"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8874"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82504154"
         }
      },
      "body" : "I think the `clearSelectedNode();` and L1008 can be moved out of the `for loop`",
      "commit_id" : "1077577546334bc26daa3ab8580f24063a0b67c6",
      "created_at" : "2016-10-08T15:17:17Z",
      "diff_hunk" : "@@ -969,48 +969,65 @@ void RPCConsole::disconnectSelectedNode()\n {\n     if(!g_connman)\n         return;\n-    // Get currently selected peer address\n-    NodeId id = GUIUtil::getEntryData(ui->peerWidget, 0, PeerTableModel::NetNodeId).toInt();\n-    // Find the node, disconnect it and clear the selected node\n-    if(g_connman->DisconnectNode(id))\n-        clearSelectedNode();\n+    \n+    // Get selected peer addresses\n+    QList<QModelIndex> nodes = GUIUtil::getEntryData(ui->peerWidget, 0);\n+    for(int i = 0; i < nodes.count(); i++)\n+    {\n+        // Get currently selected peer address\n+        NodeId id = nodes.at(i).data(PeerTableModel::NetNodeId).toInt();\n+        // Find the node, disconnect it and clear the selected node\n+        if(g_connman->DisconnectNode(id))\n+            clearSelectedNode();\n+    }\n }\n \n void RPCConsole::banSelectedNode(int bantime)\n {\n     if (!clientModel || !g_connman)\n         return;\n \n-    // Get currently selected peer address\n-    QString strNode = GUIUtil::getEntryData(ui->peerWidget, 0, PeerTableModel::Address).toString();\n-    // Find possible nodes, ban it and clear the selected node\n-    std::string nStr = strNode.toStdString();\n-    std::string addr;\n-    int port = 0;\n-    SplitHostPort(nStr, port, addr);\n-\n-    CNetAddr resolved;\n-    if(!LookupHost(addr.c_str(), resolved, false))\n-        return;\n-    g_connman->Ban(resolved, BanReasonManuallyAdded, bantime);\n-    clearSelectedNode();\n-    clientModel->getBanTableModel()->refresh();\n+    // Get selected peer addresses\n+    QList<QModelIndex> nodes = GUIUtil::getEntryData(ui->peerWidget, 0);\n+    for(int i = 0; i < nodes.count(); i++)\n+    {\n+        // Get currently selected peer address\n+        QString strNode = nodes.at(i).data(PeerTableModel::Address).toString();\n+\t\n+        // Find possible nodes, ban it and clear the selected node\n+        std::string nStr = strNode.toStdString();\n+        std::string addr;\n+        int port = 0;\n+        SplitHostPort(nStr, port, addr);\n+\n+        CNetAddr resolved;\n+        if(!LookupHost(addr.c_str(), resolved, false))\n+            continue;\n+        g_connman->Ban(resolved, BanReasonManuallyAdded, bantime);\n+        clearSelectedNode();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#discussion_r82504154",
      "id" : 82504154,
      "original_commit_id" : "763cc023a45b82b4873b3c23a4d3ea3ec313f462",
      "original_position" : 93,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : null,
      "pull_request_review_id" : 3409856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8874",
      "updated_at" : "2016-11-08T20:11:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82504154",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "rebased",
      "created_at" : "2016-10-08T23:37:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-252454480",
      "id" : 252454480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-08T23:37:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252454480",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8874#discussion_r82523941"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8874"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82523941"
         }
      },
      "body" : "Done",
      "commit_id" : "1077577546334bc26daa3ab8580f24063a0b67c6",
      "created_at" : "2016-10-09T14:50:44Z",
      "diff_hunk" : "@@ -969,48 +969,65 @@ void RPCConsole::disconnectSelectedNode()\n {\n     if(!g_connman)\n         return;\n-    // Get currently selected peer address\n-    NodeId id = GUIUtil::getEntryData(ui->peerWidget, 0, PeerTableModel::NetNodeId).toInt();\n-    // Find the node, disconnect it and clear the selected node\n-    if(g_connman->DisconnectNode(id))\n-        clearSelectedNode();\n+    \n+    // Get selected peer addresses\n+    QList<QModelIndex> nodes = GUIUtil::getEntryData(ui->peerWidget, 0);\n+    for(int i = 0; i < nodes.count(); i++)\n+    {\n+        // Get currently selected peer address\n+        NodeId id = nodes.at(i).data(PeerTableModel::NetNodeId).toInt();\n+        // Find the node, disconnect it and clear the selected node\n+        if(g_connman->DisconnectNode(id))\n+            clearSelectedNode();\n+    }\n }\n \n void RPCConsole::banSelectedNode(int bantime)\n {\n     if (!clientModel || !g_connman)\n         return;\n \n-    // Get currently selected peer address\n-    QString strNode = GUIUtil::getEntryData(ui->peerWidget, 0, PeerTableModel::Address).toString();\n-    // Find possible nodes, ban it and clear the selected node\n-    std::string nStr = strNode.toStdString();\n-    std::string addr;\n-    int port = 0;\n-    SplitHostPort(nStr, port, addr);\n-\n-    CNetAddr resolved;\n-    if(!LookupHost(addr.c_str(), resolved, false))\n-        return;\n-    g_connman->Ban(resolved, BanReasonManuallyAdded, bantime);\n-    clearSelectedNode();\n-    clientModel->getBanTableModel()->refresh();\n+    // Get selected peer addresses\n+    QList<QModelIndex> nodes = GUIUtil::getEntryData(ui->peerWidget, 0);\n+    for(int i = 0; i < nodes.count(); i++)\n+    {\n+        // Get currently selected peer address\n+        QString strNode = nodes.at(i).data(PeerTableModel::Address).toString();\n+\t\n+        // Find possible nodes, ban it and clear the selected node\n+        std::string nStr = strNode.toStdString();\n+        std::string addr;\n+        int port = 0;\n+        SplitHostPort(nStr, port, addr);\n+\n+        CNetAddr resolved;\n+        if(!LookupHost(addr.c_str(), resolved, false))\n+            continue;\n+        g_connman->Ban(resolved, BanReasonManuallyAdded, bantime);\n+        clearSelectedNode();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#discussion_r82523941",
      "id" : 82523941,
      "original_commit_id" : "763cc023a45b82b4873b3c23a4d3ea3ec313f462",
      "original_position" : 93,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : null,
      "pull_request_review_id" : 3426984,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8874",
      "updated_at" : "2016-11-08T20:11:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82523941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "I'm not sure why some of them get deselected. I noticed that too, but I can't figure out a reason for why that happens.",
      "created_at" : "2016-10-09T14:51:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-252490892",
      "id" : 252490892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-09T14:51:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252490892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Can we use keyboard shortcuts for selecting as per GUI standards? I.e. hold down shift while using the a cursor up/down to select multiple, or using spacebar and cursor up/down to toggle whether a node is selected or not (once at least one node is selected)?",
      "created_at" : "2016-10-19T01:18:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-254684372",
      "id" : 254684372,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-19T01:18:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254684372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad It's whatever [`QAbstractItemView::ExtendedSelection`](http://doc.qt.io/qt-4.8/qabstractitemview.html#SelectionMode-enum) specifies",
      "created_at" : "2016-10-19T01:34:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-254686602",
      "id" : 254686602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-10-19T01:34:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254686602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "@achow101: Are you planing to finalizing this? IMO there are still the issue with auto-deselecting rows.",
      "created_at" : "2016-11-08T07:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259067591",
      "id" : 259067591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-08T07:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259067591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli Yes, I do plan on finishing this. However, I am having trouble with figuring out why there is auto-deselecting.",
      "created_at" : "2016-11-08T13:18:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259133804",
      "id" : 259133804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-08T13:18:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259133804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "rebased.\r\n\r\nI think I figured out why it was auto-deselecting. It loses the selection after the model is refresehed.",
      "created_at" : "2016-11-08T13:52:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259141484",
      "id" : 259141484,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-08T13:52:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259141484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "I think I fixed the problem.",
      "created_at" : "2016-11-08T15:42:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259171549",
      "id" : 259171549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-08T15:42:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259171549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Actually fixed it this time.",
      "created_at" : "2016-11-08T20:12:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259246229",
      "id" : 259246229,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-08T20:12:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259246229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "ACK https://github.com/bitcoin/bitcoin/pull/8874/commits/1077577546334bc26daa3ab8580f24063a0b67c6\r\n",
      "created_at" : "2016-11-08T20:42:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259253564",
      "id" : 259253564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-08T20:42:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259253564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Seems to work well enough now. If there are still minor issues with selection they can be fixed later.\r\nACK 1077577",
      "created_at" : "2016-11-09T10:05:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259376986",
      "id" : 259376986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-09T10:05:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259376986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Post merge ACK.",
      "created_at" : "2016-11-09T10:18:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8874#issuecomment-259379755",
      "id" : 259379755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8874",
      "updated_at" : "2016-11-09T10:18:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259379755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
