[
   {
      "body" : "Commit message too long.",
      "created_at" : "2016-04-16T22:12:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210914292",
      "id" : 210914292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-16T22:12:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210914292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "Concept ACK.\r\n\r\nWhy require an address?\r\nWhat's the temporary keystore for?",
      "created_at" : "2016-04-16T23:02:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210921130",
      "id" : 210921130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-16T23:02:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210921130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1047859?v=3",
         "events_url" : "https://api.github.com/users/kazcw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kazcw/followers",
         "following_url" : "https://api.github.com/users/kazcw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kazcw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kazcw",
         "id" : 1047859,
         "login" : "kazcw",
         "organizations_url" : "https://api.github.com/users/kazcw/orgs",
         "received_events_url" : "https://api.github.com/users/kazcw/received_events",
         "repos_url" : "https://api.github.com/users/kazcw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kazcw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kazcw"
      }
   },
   {
      "body" : "It always required an address. I guess it could accept a private key in place of the address - is that what you're getting at?\r\n\r\nThe temporary keystore is for holding the supplied private key, much like the one in rpc/rawtransaction.cpp's signrawtransaction code.",
      "created_at" : "2016-04-16T23:22:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210921926",
      "id" : 210921926,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-16T23:22:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210921926",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=3",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "body" : "This seems like a useful function to have, but I prefer having separate\nfunctions for wallet-dependent rpcs and utility rpcs that get fed all their\narguments.\n\nAlso, would it suffice to add this to bitcoin-tx instead?\n",
      "created_at" : "2016-04-16T23:28:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210923220",
      "id" : 210923220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-16T23:28:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210923220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "So would you prefer a new RPC, `signmessagewithprivkey` or similar, and have the existing `signmessage` left as it is?\r\n\r\nThis it the first I have heard of bitcoin-tx. A quick look at it suggests it is for creating and working with raw transactions, whereas this PR is about signing messages.\r\n\r\nHaving said that, I don't mind where it is added. I just want a way of signing a message with a private key not in my wallet that doesn't require me to shut down bitcoind, move the wallet.dat out of the way, restart it, import the private key into a new wallet, sign the message, shut down bitcoind again, delete the temporary wallet, move the original wallet back and restart bitcoind again. Because that's kind of long-winded.",
      "created_at" : "2016-04-16T23:54:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210925654",
      "id" : 210925654,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-16T23:54:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210925654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=3",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "body" : "And what about new utility `bitcoin-msg`?",
      "created_at" : "2016-04-17T07:01:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210967947",
      "id" : 210967947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-17T07:01:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210967947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Agree with @sipa. Signing a message with a provided private-key is pure utility. The only dependencies you need are libsecp256k1, some entropy source and sh256. Not sure where it would fit best (`bitcoin-msg` sounds good but maybe there is something more generic).",
      "created_at" : "2016-04-17T07:42:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210971438",
      "id" : 210971438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-17T07:42:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210971438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Signing does not need an entropy source.\n",
      "created_at" : "2016-04-17T07:52:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210971802",
      "id" : 210971802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-17T07:52:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210971802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa: how would you then randomize the context (like `secp256k1_context_randomize()`) https://github.com/bitcoin/secp256k1/blob/master/include/secp256k1.h#L558 ?",
      "created_at" : "2016-04-17T09:25:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-210984295",
      "id" : 210984295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-17T09:25:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/210984295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Concept ACK, however: please add a new method to sign message without wallet (thus providing the key), don't add another optional-wallet RPC call, or optional argument to `signmessage`. One near-future goal is to get rid of `#ifdef ENABLE_WALLET`s, to prevent circular dependencies and make the wallet a better isolated unit. @jonasschnelli\r\n\r\n> @sipa: how would you then randomize the context (like secp256k1_context_randomize()) https://github.com/bitcoin/secp256k1/blob/master/include/secp256k1.h#L558 ?\r\n\r\nSigning is deterministic as of #5227, so there is no randomness needed for signing. If there is some implementation problem with secp256k1 that (due to context dependencies) requires it that should probably be solved there.",
      "created_at" : "2016-04-17T11:15:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-211002420",
      "id" : 211002420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-17T11:20:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211002420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "A separate `bitcoin-msg` seems a bit excessive.",
      "created_at" : "2016-04-17T13:03:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-211013956",
      "id" : 211013956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-17T13:03:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211013956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "> A separate bitcoin-msg seems a bit excessive.\r\n\r\nAgreed. Mind that we're using (pseudo-)static linking, so every new executable adds a hefty size to the archives.\r\nLet's just add a wallet-independent RPC call for signing messages. `verifymessage` in `rpcmisc.cpp` doesn't depend on the wallet either, so you could add it below that.\r\n",
      "created_at" : "2016-04-19T13:48:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-211929718",
      "id" : 211929718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-19T13:48:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211929718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "So, to summarize, the current approach is not mergable as it doesn't change the dependency on the wallet.\r\n\r\nGood options would be:\r\n- Adding message signing/verification functionality to `bitcoin-tx`\r\n- Adding a new RPC `signmessagewithprivkey` or similar (non-dependent on the wallet)\r\n\r\nBad options are:\r\n- A separate `bitcoin-msg` utility. This is overkill.\r\n\r\n@dooglus Are you going to move this forward, or would it be better to close and wait for someone else to pick it up?\r\n",
      "created_at" : "2016-04-26T14:31:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-214764556",
      "id" : 214764556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-26T14:32:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/214764556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Closing in favor of #7953",
      "created_at" : "2016-04-27T11:59:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7899#issuecomment-215060689",
      "id" : 215060689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7899",
      "updated_at" : "2016-04-27T11:59:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/215060689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
