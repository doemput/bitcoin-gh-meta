[
   {
      "body" : ">  Depending on the size of your wallet and number of UTXOs, performance gains may be up to 98%.\r\n\r\nYes, this makes sense.\r\n\r\nHow does it affect memory usage?\r\n",
      "created_at" : "2016-04-06T10:49:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206306314",
      "id" : 206306314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T10:49:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206306314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Concept ACK, it's silly that we didn't have this.\r\n\r\nMemory usage: I expect it to consume around 80 bytes per unspent output on 64-bit platforms.",
      "created_at" : "2016-04-06T11:04:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206311871",
      "id" : 206311871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T11:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206311871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ACK\r\n\r\nRename first commit to something like `Add index to wallet UTXO`",
      "created_at" : "2016-04-06T11:15:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206317124",
      "id" : 206317124,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T11:15:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206317124",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "The overall memory usage will depend on the wallet size, more particularly on the UTXO count. Given the info being stored per UTXO (an outpoint and a pair with `isminetype` and pointer to Tx), the extra memory increment won't be that much.",
      "created_at" : "2016-04-06T11:19:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206318458",
      "id" : 206318458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T11:19:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206318458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16206754?v=3",
         "events_url" : "https://api.github.com/users/jpdffonseca/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jpdffonseca/followers",
         "following_url" : "https://api.github.com/users/jpdffonseca/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jpdffonseca/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jpdffonseca",
         "id" : 16206754,
         "login" : "jpdffonseca",
         "organizations_url" : "https://api.github.com/users/jpdffonseca/orgs",
         "received_events_url" : "https://api.github.com/users/jpdffonseca/received_events",
         "repos_url" : "https://api.github.com/users/jpdffonseca/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jpdffonseca/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jpdffonseca/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jpdffonseca"
      }
   },
   {
      "body" : "@promag that makes sense. This is not a cache, but more like an index..",
      "created_at" : "2016-04-06T11:20:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206318794",
      "id" : 206318794,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T11:20:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206318794",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16206754?v=3",
         "events_url" : "https://api.github.com/users/jpdffonseca/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jpdffonseca/followers",
         "following_url" : "https://api.github.com/users/jpdffonseca/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jpdffonseca/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jpdffonseca",
         "id" : 16206754,
         "login" : "jpdffonseca",
         "organizations_url" : "https://api.github.com/users/jpdffonseca/orgs",
         "received_events_url" : "https://api.github.com/users/jpdffonseca/received_events",
         "repos_url" : "https://api.github.com/users/jpdffonseca/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jpdffonseca/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jpdffonseca/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jpdffonseca"
      }
   },
   {
      "body" : "Tested ACK.\r\n\r\nIn my case the improvements of listunspent are from 12s. to **0.1s** .",
      "created_at" : "2016-04-06T11:30:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206323111",
      "id" : 206323111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T11:30:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206323111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4319748?v=3",
         "events_url" : "https://api.github.com/users/pedrobranco/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pedrobranco/followers",
         "following_url" : "https://api.github.com/users/pedrobranco/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pedrobranco/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pedrobranco",
         "id" : 4319748,
         "login" : "pedrobranco",
         "organizations_url" : "https://api.github.com/users/pedrobranco/orgs",
         "received_events_url" : "https://api.github.com/users/pedrobranco/received_events",
         "repos_url" : "https://api.github.com/users/pedrobranco/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pedrobranco/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pedrobranco/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pedrobranco"
      }
   },
   {
      "body" : "Nice work!\r\nConcept ACK.",
      "created_at" : "2016-04-06T11:40:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206327965",
      "id" : 206327965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T11:40:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206327965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Concept ACK. Thanks for working on this.",
      "created_at" : "2016-04-06T15:02:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206417233",
      "id" : 206417233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T15:02:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206417233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Solves #6573.",
      "created_at" : "2016-04-06T23:03:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-206609908",
      "id" : 206609908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-06T23:03:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206609908",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "lightly tested ACK",
      "created_at" : "2016-04-12T18:35:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-209045083",
      "id" : 209045083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-12T18:35:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/209045083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "This change greatly improves the performance of AvailableCoins and indirectly listunspent and others. Is it reasonable to expect this in next 0.12 update?",
      "created_at" : "2016-04-19T13:49:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-211930118",
      "id" : 211930118,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-19T13:49:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211930118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7823#discussion_r60240635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60240635"
         }
      },
      "body" : "Typo: spent output",
      "commit_id" : "6fbc9bf5c115715d923a8c8e1c163cd921ada810",
      "created_at" : "2016-04-19T14:25:40Z",
      "diff_hunk" : "@@ -498,9 +502,12 @@ bool CWallet::IsSpent(const uint256& hash, unsigned int n) const\n \n void CWallet::AddToSpends(const COutPoint& outpoint, const uint256& wtxid)\n {\n+    // since this output is being marked as a spend output, we remove it from the UTXO index",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#discussion_r60240635",
      "id" : 60240635,
      "original_commit_id" : "bb06356ce51a1fba0d057da94209c68b5929423f",
      "original_position" : 15,
      "path" : "src/wallet/wallet.cpp",
      "position" : 15,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7823",
      "updated_at" : "2016-04-19T14:25:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60240635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7823#discussion_r60241000"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60241000"
         }
      },
      "body" : "Simpler to write as mapTxUnspents.erase(outpoint)",
      "commit_id" : "6fbc9bf5c115715d923a8c8e1c163cd921ada810",
      "created_at" : "2016-04-19T14:27:40Z",
      "diff_hunk" : "@@ -517,6 +524,49 @@ void CWallet::AddToSpends(const uint256& wtxid)\n         AddToSpends(txin.prevout, wtxid);\n }\n \n+void CWallet::AddToUnspents(const CWalletTx* wtx, bool filterIsMine)\n+{\n+    uint256 hash = wtx->GetHash();\n+\n+    for (unsigned int i = 0; i < wtx->vout.size(); ++i) {\n+        const COutPoint outpoint(hash, i);\n+        std::pair<TxSpends::const_iterator, TxSpends::const_iterator> range;\n+        range = mapTxSpends.equal_range(outpoint);\n+\n+        // if this output wasn't already marked as spent, we add it as a new UTXO\n+        if (range.first == range.second) {\n+            isminetype ismine = IsMine(wtx->vout[i]);\n+            if (!filterIsMine || ismine) {\n+                mapTxUnspents[outpoint] = std::make_pair(wtx, ismine);\n+            }\n+        }\n+    }\n+}\n+\n+void CWallet::RemoveFromUnspents(const COutPoint &outpoint)\n+{\n+    TxUnspents::iterator uit = mapTxUnspents.find(outpoint);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#discussion_r60241000",
      "id" : 60241000,
      "original_commit_id" : "bb06356ce51a1fba0d057da94209c68b5929423f",
      "original_position" : 50,
      "path" : "src/wallet/wallet.cpp",
      "position" : 50,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7823",
      "updated_at" : "2016-04-19T14:27:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/60241000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "How does this deal with:\r\n* reorganizations (coins marked as spent may go back to being unspent)?\r\n* conflicts (there may be multiple unconfirmed transactions at the tip, and which set of them is accepted can change easily)?\r\n* abandoned transactions?\r\n",
      "created_at" : "2016-04-19T14:38:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-211952457",
      "id" : 211952457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-04-19T14:38:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211952457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "This needs a rebase.",
      "created_at" : "2016-05-27T07:59:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-222084615",
      "id" : 222084615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-05-27T07:59:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222084615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "@jpdffonseca Feel like answering my questions above?",
      "created_at" : "2016-06-01T17:04:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-223059060",
      "id" : 223059060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-06-01T17:04:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/223059060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I'm working to unify `mapTxSpends` and `mapTxUnspents`.",
      "created_at" : "2016-06-02T09:39:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-223243848",
      "id" : 223243848,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-06-02T09:39:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/223243848",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16206754?v=3",
         "events_url" : "https://api.github.com/users/jpdffonseca/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jpdffonseca/followers",
         "following_url" : "https://api.github.com/users/jpdffonseca/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jpdffonseca/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jpdffonseca",
         "id" : 16206754,
         "login" : "jpdffonseca",
         "organizations_url" : "https://api.github.com/users/jpdffonseca/orgs",
         "received_events_url" : "https://api.github.com/users/jpdffonseca/received_events",
         "repos_url" : "https://api.github.com/users/jpdffonseca/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jpdffonseca/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jpdffonseca/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jpdffonseca"
      }
   },
   {
      "body" : "@jpdffonseca Are you still working on this? We need performance improvements especially for large wallets.\r\n\r\nNeeds rebase.\r\n",
      "created_at" : "2016-10-08T16:50:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-252435304",
      "id" : 252435304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-10-08T16:50:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252435304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik lately I haven't had too much time to work on it. After testing more deeply, I realized that this solution does not always handles well some of the cases mentioned above by @sipa, so it should have a different approach.\r\n\r\nI've been trying another improvements that optimize not the `unspents` list itself but other values necessary to calculate the `unspents`, such as the call `CWallet::IsMine()`. \r\nWith that I obtained satisfactory results, around 50% for large wallets. I'll finish that and submit PR.",
      "created_at" : "2016-10-10T09:11:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-252567866",
      "id" : 252567866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2016-10-10T10:21:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252567866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16206754?v=3",
         "events_url" : "https://api.github.com/users/jpdffonseca/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jpdffonseca/followers",
         "following_url" : "https://api.github.com/users/jpdffonseca/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jpdffonseca/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jpdffonseca",
         "id" : 16206754,
         "login" : "jpdffonseca",
         "organizations_url" : "https://api.github.com/users/jpdffonseca/orgs",
         "received_events_url" : "https://api.github.com/users/jpdffonseca/received_events",
         "repos_url" : "https://api.github.com/users/jpdffonseca/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jpdffonseca/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jpdffonseca/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jpdffonseca"
      }
   },
   {
      "body" : "Closing due to inactivity. @joaopaulofonseca if you do end up finishing work on your other improvements PRs are welcome.",
      "created_at" : "2017-01-12T14:48:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-272181702",
      "id" : 272181702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2017-01-12T14:48:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272181702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Deprecated partially by #9939. Caching accurately these values gets a little tricky because of all the scenarios that could make the cache invalidated (conflicts, double-spends, reorganizations, abandoned transactions, etc, ...). ",
      "created_at" : "2017-03-07T14:01:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7823#issuecomment-284728946",
      "id" : 284728946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7823",
      "updated_at" : "2017-03-07T14:01:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284728946",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/16206754?v=3",
         "events_url" : "https://api.github.com/users/joaopaulofonseca/events{/privacy}",
         "followers_url" : "https://api.github.com/users/joaopaulofonseca/followers",
         "following_url" : "https://api.github.com/users/joaopaulofonseca/following{/other_user}",
         "gists_url" : "https://api.github.com/users/joaopaulofonseca/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/joaopaulofonseca",
         "id" : 16206754,
         "login" : "joaopaulofonseca",
         "organizations_url" : "https://api.github.com/users/joaopaulofonseca/orgs",
         "received_events_url" : "https://api.github.com/users/joaopaulofonseca/received_events",
         "repos_url" : "https://api.github.com/users/joaopaulofonseca/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/joaopaulofonseca/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/joaopaulofonseca/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/joaopaulofonseca"
      }
   }
]
