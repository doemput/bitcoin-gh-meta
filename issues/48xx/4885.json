{
   "assignee" : null,
   "body" : "This is an alternative to #4880\r\n\r\nThe second commit fixes a crashing bug I found when testing the rest of these commits.\r\n\r\nThe first is #4880. The third is a two-line change to remove orphans when a node is disconnected for any reason, rather than just because it is banned.\r\n\r\nThe fourth adds a -maxorphantx option, and drops the default maximum number of orphan transactions to store in memory from 10,000 to 100, which is much closer to the actual number of orphans at any time during normal operation. Lowering the maximum number of orphans stored reduces potential memory usage and mitigates a whole class of \"make your node spend a lot of time validating invalid orphans\" attacks.\r\n",
   "closed_at" : "2014-09-11T12:46:44Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 14,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4885/comments",
   "created_at" : "2014-09-09T18:12:00Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4885/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/4885",
   "id" : 42334860,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4885/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 4885,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/4885.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4885",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/4885.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4885"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Better handling of orphan transactions",
   "updated_at" : "2014-09-11T12:46:44Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4885",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
      "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gavinandresen/followers",
      "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gavinandresen",
      "id" : 331997,
      "login" : "gavinandresen",
      "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
      "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
      "repos_url" : "https://api.github.com/users/gavinandresen/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gavinandresen"
   }
}
