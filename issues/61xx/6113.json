{
   "assignee" : null,
   "assignees" : [],
   "body" : "Since 0.10 I've been seeing segfaults in [Alpine Linux](http://alpinelinux.org/). I first checked the permissions were correctly set in `~/.bitcoin` & set `~/.bitcoin/bitcoin.conf` to `chmod 0600` . This didn't make any difference, running `bitcoind` as a normal user still gave a segfault.\n\nTo trace the segfault with `gdb` I tried building with debug symbols included `--enable-debug` & this is the error thrown:\n\n(with `boost-1.58` & `gcc-4.9.2` ) \n\n```\nIn file included from /usr/include/boost/move/detail/type_traits.hpp:34:0,\n                 from /usr/include/boost/move/core.hpp:54,\n                 from /usr/include/boost/move/utility_core.hpp:29,\n                 from /usr/include/boost/move/utility.hpp:28,\n                 from /usr/include/boost/thread/detail/move.hpp:27,\n                 from /usr/include/boost/thread/lock_types.hpp:11,\n                 from /usr/include/boost/thread/pthread/mutex.hpp:16,\n                 from /usr/include/boost/thread/mutex.hpp:16,\n                 from allocators.h:14,\n                 from key.h:9,\n                 from base58.h:18,\n                 from rpcrawtransaction.cpp:7:\n/usr/include/boost/variant/get.hpp: In instantiation of 'typename boost::add_reference<T>::type boost::strict_get(boost::variant<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>&) [with U = const CScriptID&; T0 = CNoDestination; T1 = CKeyID; T2 = CScriptID; T3 = boost::detail::variant::void_; T4 = boost::detail::variant::void_; T5 = boost::detail::variant::void_; T6 = boost::detail::variant::void_; T7 = boost::detail::variant::void_; T8 = boost::detail::variant::void_; T9 = boost::detail::variant::void_; T10 = boost::detail::variant::void_; T11 = boost::detail::variant::void_; T12 = boost::detail::variant::void_; T13 = boost::detail::variant::void_; T14 = boost::detail::variant::void_; T15 = boost::detail::variant::void_; T16 = boost::detail::variant::void_; T17 = boost::detail::variant::void_; T18 = boost::detail::variant::void_; T19 = boost::detail::variant::void_; typename boost::add_reference<T>::type = const CScriptID&]':\n/usr/include/boost/variant/get.hpp:284:33:   required from 'typename boost::add_reference<T>::type boost::get(boost::variant<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>&) [with U = const CScriptID&; T0 = CNoDestination; T1 = CKeyID; T2 = CScriptID; T3 = boost::detail::variant::void_; T4 = boost::detail::variant::void_; T5 = boost::detail::variant::void_; T6 = boost::detail::variant::void_; T7 = boost::detail::variant::void_; T8 = boost::detail::variant::void_; T9 = boost::detail::variant::void_; T10 = boost::detail::variant::void_; T11 = boost::detail::variant::void_; T12 = boost::detail::variant::void_; T13 = boost::detail::variant::void_; T14 = boost::detail::variant::void_; T15 = boost::detail::variant::void_; T16 = boost::detail::variant::void_; T17 = boost::detail::variant::void_; T18 = boost::detail::variant::void_; T19 = boost::detail::variant::void_; typename boost::add_reference<T>::type = const CScriptID&]'\nrpcrawtransaction.cpp:291:77:   required from here\n/usr/include/boost/variant/get.hpp:178:5: error: invalid application of 'sizeof' to incomplete type 'boost::STATIC_ASSERTION_FAILURE<false>'\n     BOOST_STATIC_ASSERT_MSG(\n     ^\nMakefile:3654: recipe for target 'libbitcoin_server_a-rpcrawtransaction.o' failed\nmake[2]: *** [libbitcoin_server_a-rpcrawtransaction.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nmake[2]: Leaving directory '/home/stuart/aports/testing/bitcoin/src/bitcoin-0.10.1/src'\nMakefile:6247: recipe for target 'all-recursive' failed\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory '/home/stuart/aports/testing/bitcoin/src/bitcoin-0.10.1/src'\nMakefile:568: recipe for target 'all-recursive' failed\nmake: *** [all-recursive] Error 1\n>>> ERROR: bitcoin: all failed\n>>> bitcoin: Uninstalling dependencies...\n```\n\nBitcoin builds successfully if I don't `--enable-debug` & set  `CXXFLAGS=\"$CXXFLAGS -DBOOST_VARIANT_USE_RELAXED_GET_BY_DEFAULT=1\"` (but still segfaults)\n",
   "closed_at" : "2015-05-10T12:29:01Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 8,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6113/comments",
   "created_at" : "2015-05-06T16:27:32Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6113/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/6113",
   "id" : 73670609,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6113/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 6113,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "invalid application of 'sizeof' to incomplete type 'boost::STATIC_ASSERTION_FAILURE<false>",
   "updated_at" : "2017-02-17T13:06:08Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6113",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1141947?v=3",
      "events_url" : "https://api.github.com/users/itoffshore/events{/privacy}",
      "followers_url" : "https://api.github.com/users/itoffshore/followers",
      "following_url" : "https://api.github.com/users/itoffshore/following{/other_user}",
      "gists_url" : "https://api.github.com/users/itoffshore/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/itoffshore",
      "id" : 1141947,
      "login" : "itoffshore",
      "organizations_url" : "https://api.github.com/users/itoffshore/orgs",
      "received_events_url" : "https://api.github.com/users/itoffshore/received_events",
      "repos_url" : "https://api.github.com/users/itoffshore/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/itoffshore/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/itoffshore/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/itoffshore"
   }
}
