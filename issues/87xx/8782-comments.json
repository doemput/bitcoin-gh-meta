[
   {
      "body" : "Where did you set the language?\r\n\r\nI don't think the problem here is that that string, or others in `qt/bitcoin.cpp` is untranslated. It appears in the ts files.\r\n\r\nHowever the startup of bitcoind, and even more the GUI is a complex multi-stage process with settings that are fetched from different sources at different times. Before locating the data directory (which is very early) it may not have found your language setting yet.",
      "created_at" : "2016-09-22T02:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-248794567",
      "id" : 248794567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-09-22T02:23:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248794567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> E.g. qt/bitcoin-qt -lang=cz -datadir=/tmp/a2 gives me a warning in English that the datadir does not exist.\r\n\r\nOh, `-lang`, yes that should have been picked up by then. Weird.",
      "created_at" : "2016-09-22T02:26:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-248794790",
      "id" : 248794790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-09-22T02:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248794790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Czech language is code `cs`, not `cz`.",
      "created_at" : "2016-09-22T05:23:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-248815548",
      "id" : 248815548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-09-22T05:23:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248815548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "I tried different language codes, all failed. Could someone try really quick with `qt/bitcoin-qt -lang=fr -datadir=/tmp/a2`\r\n\r\n> It appears in the ts files.\r\n\r\nBut when you change the string, it is no longer picked up by xgettext?",
      "created_at" : "2016-09-22T08:56:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-248847029",
      "id" : 248847029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-09-22T08:56:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248847029",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "> But when you change the string, it is no longer picked up by xgettext?\r\n\r\nI'm not sure what exact steps you're using, but xgettext does nothing with the qt files, it's only used to read strings from the core for `bitcoinstrings.cpp` to be picked up by qt's tools. Do you do `make translate`?",
      "created_at" : "2016-09-22T09:01:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-248847900",
      "id" : 248847900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-09-22T09:01:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248847900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj What I mean is that `locale/bitcoin_en.ts` is not updated on `make translate`, it seems:\r\n\r\n```sh\r\ngit checkout bitcoin/master && cd src/ && make translate && git commit -a -m \"bump translations\" && git apply < /tmp/patch-1 && make translate && git diff -U1\r\n```\r\n\r\ngives only this (the cpp change is from `/tmp/patch-1`, the ts change is from `make translate`)\r\n\r\n```diff\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex 430e6dd..c6e249a 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -588,3 +588,3 @@ int main(int argc, char *argv[])\r\n         QMessageBox::critical(0, QObject::tr(PACKAGE_NAME),\r\n-                              QObject::tr(\"Error: Specified data directory \\\"%1\\\" does not exist.\").arg(QString::fromStdString(mapArgs[\"-datadir\"])));\r\n+                              QObject::tr(\"Error: Data directory \\\"%1\\\" does not exist.\").arg(QString::fromStdString(mapArgs[\"-datadir\"])));\r\n         return 1;\r\ndiff --git a/src/qt/guiutil.cpp b/src/qt/guiutil.cpp\r\nindex 444e35d..fa38770 100644\r\n--- a/src/qt/guiutil.cpp\r\n+++ b/src/qt/guiutil.cpp\r\n@@ -134,3 +134,3 @@ void setupAddressWidget(QValidatedLineEdit *widget, QWidget *parent)\r\n     // and this is the only place, where this address is supplied.\r\n-    widget->setPlaceholderText(QObject::tr(\"Enter a Bitcoin address (e.g. %1)\").arg(\r\n+    widget->setPlaceholderText(QObject::tr(\"Enter address (e.g. %1)\").arg(\r\n         QString::fromStdString(DummyAddress(Params()))));\r\ndiff --git a/src/qt/locale/bitcoin_en.ts b/src/qt/locale/bitcoin_en.ts\r\nindex 2dce780..490de2d 100644\r\n--- a/src/qt/locale/bitcoin_en.ts\r\n+++ b/src/qt/locale/bitcoin_en.ts\r\n@@ -1705,3 +1705,3 @@\r\n         <location filename=\"../guiutil.cpp\" line=\"+135\"/>\r\n-        <source>Enter a Bitcoin address (e.g. %1)</source>\r\n+        <source>Enter address (e.g. %1)</source>\r\n         <translation type=\"unfinished\"></translation>\r\n```\r\n\r\n\r\nMaybe this is expected, but I don't understand either why the existing translations (e.g. fr, de, ...) of those strings are not picked up.",
      "created_at" : "2016-09-22T10:20:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-248863300",
      "id" : 248863300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-09-22T10:20:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248863300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "> Maybe this is expected, but I don't understand either why the existing translations (e.g. fr, de, ...) of those strings are not picked up.\r\n\r\nTranslations in Qt have a 'context' which needs to match as well as the string, for the translation to appear. This may be what is throwing you off track.",
      "created_at" : "2016-09-25T11:38:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-249416829",
      "id" : 249416829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-09-25T11:38:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249416829",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Possibly related: #8900 ",
      "created_at" : "2016-10-09T15:03:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-252491606",
      "id" : 252491606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-10-09T15:03:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252491606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Should be fixed by #8911",
      "created_at" : "2016-10-13T09:56:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-253469177",
      "id" : 253469177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2016-10-13T09:56:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/253469177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Reopening.\r\n\r\nThe regression was never fixed.",
      "created_at" : "2017-01-02T11:42:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-269962102",
      "id" : 269962102,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2017-01-02T11:42:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269962102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Are you sure? This wasn't fixed by #8911?\r\n\r\nWhich ones specifically are you missing? The wallet ones are in there, at least:\r\n```\r\nsrc/qt/addressbookpage.cpp:        case SendingTab: setWindowTitle(tr(\"Choose the address to send coins to\")); break;\r\nsrc/qt/locale/bitcoin_en.ts:        <source>Choose the address to send coins to</source>\r\n```",
      "created_at" : "2017-01-02T12:47:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-269968172",
      "id" : 269968172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2017-01-02T12:49:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269968172",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Two examples:\r\n\r\n```sh\r\n$ git grep 'Specified data directory' src/qt/|grep 'does not exist'\r\nsrc/qt/bitcoin.cpp:                              QObject::tr(\"Error: Specified data directory \\\"%1\\\" does not exist.\").arg(QString::fromStdString(GetArg(\"-datadir\", \"\"))));\r\n\r\n$ git grep 'This is a pre-release test build' src|grep -v 'src/qt/locale/'\r\nsrc/warnings.cpp:        strStatusBar = \"This is a pre-release test build - use at your own risk - do not use for mining or merchant applications\";\r\nsrc/warnings.cpp:        strGUI = _(\"This is a pre-release test build - use at your own risk - do not use for mining or merchant applications\");\r\n```\r\n\r\nSee  #9457 for a possible fix",
      "created_at" : "2017-01-02T14:31:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8782#issuecomment-269979649",
      "id" : 269979649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8782",
      "updated_at" : "2017-01-02T14:31:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269979649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
