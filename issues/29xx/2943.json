{
   "assignee" : null,
   "body" : "Continuation of https://github.com/bitcoin/bitcoin/pull/2805.\r\n\r\nChanges since Round 2:\r\n\r\nRebased on current master\r\nBig cleanups\r\nAdded protoc/libprotobuf support\r\nAdded win32 installer make target\r\nAdded Gitian descriptors\r\n\r\nI could use some help with the following items:\r\n- Documenting windows/osx/mingw build. They should all be working, but I don't currently have a windows/osx environment for testing. Documentation is a rather large job for this merge, as it requires a pretty extensive overhaul. For the most part, the build docs can be thrown away and replaced by a single procedure, with the exception of platform-specific dependencies setup. There is no longer any need for a distinction between gui/non-gui build procedures.\r\n- Edit: Gitian issues fixed.\r\n\r\nI've briefly updated the documentation for unix. Sadly, my macbook busted last weekend (should be fixed in ~1wk), So I was not able to add the osx dmg build target as I had intended, nor the documentation for building on osx.\r\n\r\nIs anyone willing to help me out with the above?\r\n\r\n--\r\n\r\nHere is the final go at an Autotools build system replacement. It is meant to be a drop-in replacement for the current system(s), providing the same features with no net changes. It can also live side-by-side with the old system while sharing the same build-related variables in order to facilitate a smooth transition.\r\n\r\nI hope the benefits are obvious enough: A single/shared build procedure, portability, ease of packaging, ease for downstreams, ease for repository maintainers, cross-compilation, etc. I don't vouch for Autotools in any way, in fact, this configure.am is downright ugly (mainly just because of mingw though), but it's portable and well-established.\r\n\r\nThis does away with the need for qmake, as the Makefile is capable of generating everything it needs in a portable way.\r\n\r\nBuilding from CLI:\r\nFor Linux, assuming the dependencies have been met, the build procedure looks like this:\r\n```\r\n./autogen.sh\r\n./configure\r\nmake\r\n```\r\nSame for OS X, but the pkg-config path needs to be hooked up from macports first:\r\n```\r\necho \"/opt/local/share/aclocal\" | sudo tee -a /usr/share/aclocal/dirlist\r\n```\r\n\r\nFor mingw it's the same, but you will need to provide lots of paths in the form of:\r\n```\r\n./autogen.sh\r\nexport STAGING=/path/to/extracted/libs\r\n./configure CPPFLAGS=-I$STAGING LDFLAGS=-L$STAGING --prefix=$STAGING --host=i586-mingw32msvc --with-qt-bindir=$STAGING/host/bin --with-qt-plugindir=$STAGING/plugins --with-qt-incdir=$STAGING --with-boost=$STAGING --with-protoc-bindir=$STAGING/host/bin\r\nmake\r\n```\r\nIn addition, there are helpers for qt and boost to help with finding some locations.\r\nUse ./configure --help to see the available options.\r\n\r\nNative windows built is untested, as I don't have a windows environment at my disposal.\r\n\r\n'make check' will run the unit tests and print the results.\r\n\r\nI've done my best to avoid adding any new behavior or features, and I would much prefer to aim for feature-parity before making any improvements.",
   "closed_at" : "2013-09-07T00:09:55Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
      "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jgarzik/followers",
      "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jgarzik",
      "id" : 494411,
      "login" : "jgarzik",
      "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
      "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
      "repos_url" : "https://api.github.com/users/jgarzik/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jgarzik"
   },
   "comments" : 35,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2943/comments",
   "created_at" : "2013-08-27T03:26:49Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2943/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/2943",
   "id" : 18586214,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2943/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 2943,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/2943.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2943",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/2943.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2943"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Autotools buildsystem",
   "updated_at" : "2014-06-25T20:13:24Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2943",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
      "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
      "followers_url" : "https://api.github.com/users/theuni/followers",
      "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/theuni",
      "id" : 417043,
      "login" : "theuni",
      "organizations_url" : "https://api.github.com/users/theuni/orgs",
      "received_events_url" : "https://api.github.com/users/theuni/received_events",
      "repos_url" : "https://api.github.com/users/theuni/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/theuni"
   }
}
