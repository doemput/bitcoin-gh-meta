[
   {
      "body" : "You reported on reddit that a self-compiled v0.13.0 doesn't have this problem - but can you try the official v0.13.0 ARM binary just to see if it does?",
      "created_at" : "2016-10-31T15:00:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-257317263",
      "id" : 257317263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-10-31T15:00:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257317263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Hi Luke, I downloaded the 0.13.0 ARM 32 bit version and ran ./bitcoind on it. Took quite long to verify the blocks but after that it's been running okay for about 45 minutes. Do you want me to continue for longer?",
      "created_at" : "2016-10-31T16:57:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-257351860",
      "id" : 257351860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-10-31T16:57:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257351860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/567661?v=3",
         "events_url" : "https://api.github.com/users/DaReaper/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DaReaper/followers",
         "following_url" : "https://api.github.com/users/DaReaper/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DaReaper/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DaReaper",
         "id" : 567661,
         "login" : "DaReaper",
         "organizations_url" : "https://api.github.com/users/DaReaper/orgs",
         "received_events_url" : "https://api.github.com/users/DaReaper/received_events",
         "repos_url" : "https://api.github.com/users/DaReaper/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DaReaper/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DaReaper/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DaReaper"
      }
   },
   {
      "body" : "Might as well. There weren't any major bugs fixed in 0.13.1 IIRC.",
      "created_at" : "2016-10-31T17:04:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-257354014",
      "id" : 257354014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-10-31T17:04:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257354014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "It would be nice if you could run whatever version is crashing from within GDB with debug symbols (not sure if you have to build yourself to get this or if the shipping binaries have sufficient debug symbols) so that we could get a backtrace.",
      "created_at" : "2016-10-31T18:22:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-257376922",
      "id" : 257376922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-10-31T18:22:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257376922",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I cannot replicate the problem on my Raspberry Pis v2B or the Pi3. I have tested 0.13.1 in command line and QT. Both run well. Sync times are slow after block 200,000 as you would expect on the ARM but it seems very stable.\r\n\r\nETA \r\nI compiled mine using this bash script https://github.com/MrChrisJ/fullnode/blob/master/Scripts/Upgrading_to_Bitcoin_0.13.1.sh",
      "created_at" : "2016-10-31T22:43:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-257442171",
      "id" : 257442171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-10-31T22:44:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257442171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6334301?v=3",
         "events_url" : "https://api.github.com/users/MrChrisJ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MrChrisJ/followers",
         "following_url" : "https://api.github.com/users/MrChrisJ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MrChrisJ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MrChrisJ",
         "id" : 6334301,
         "login" : "MrChrisJ",
         "organizations_url" : "https://api.github.com/users/MrChrisJ/orgs",
         "received_events_url" : "https://api.github.com/users/MrChrisJ/received_events",
         "repos_url" : "https://api.github.com/users/MrChrisJ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MrChrisJ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MrChrisJ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MrChrisJ"
      }
   },
   {
      "body" : "After looking through the debug.log that @DaReaper provided, I notice a pattern that the node shuts down successfully when it advertises with \"AdvertiseLocal: advertising address 202.62.91.54:8333\".\r\n\r\nThe node is not gracefully shutdown 5 out of 6 times when it advertises with: \"AdvertiseLocal: advertising address e3amozdbgvuh424k.onion:8333\". One of the 5 failures stands out as being maybe unrelated because it fails differently and the cache settings are way different, so I'm going to ignore that. The other 4 fail with the similar log entries in the last second noted below:\r\n\r\n```\r\n1) 2016-10-31 09:05:15 AdvertiseLocal: advertising address e3amozdbgvuh424k.onion:8333\r\n2) 2016-10-31 10:12:06 AdvertiseLocal: advertising address e3amozdbgvuh424k.onion:8333\r\n3) 2016-10-31 13:15:57 AdvertiseLocal: advertising address e3amozdbgvuh424k.onion:8333\r\n   2016-10-31 13:15:57 socket send error Bad file descriptor (9)\r\n4) 2016-10-31 13:42:04 AdvertiseLocal: advertising address e3amozdbgvuh424k.onion:8333\r\n```\r\nSo, maybe some code that advertises local onion addresses has something to do with this?\r\n\r\nSimply search for \"Bitcoin version v0.13.1\" and then look back a few lines to see if the node is shutdown gracefully or not.",
      "created_at" : "2016-11-01T00:12:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-257457600",
      "id" : 257457600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-11-01T00:12:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257457600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "If this is the pre-build executable: can you get a backtrace with gdb?\r\nRemember to do `set disable-randomization` to disable ASLR.\r\nThen I can (probably) look up the addresses to function/lines.",
      "created_at" : "2016-11-03T14:40:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-258161304",
      "id" : 258161304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-11-03T14:40:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258161304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Closing this, as it is impossible to troubleshoot this using the available information, and others seem not to be able to reproduce it.",
      "created_at" : "2016-11-09T21:00:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9047#issuecomment-259525369",
      "id" : 259525369,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9047",
      "updated_at" : "2016-11-09T21:00:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259525369",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
