[
   {
      "body" : "Can it also be reproduced in 0.13.1rc2?",
      "created_at" : "2016-10-24T16:54:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9007#issuecomment-255798483",
      "id" : 255798483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9007",
      "updated_at" : "2016-10-24T16:54:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255798483",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Can you try setting maxconnections=9 instead and see if it still happens? (I think it shouldn't because MAX_OUTBOUND_CONNECTIONS=8,  MAX_FEELER_CONNECTIONS=1)",
      "created_at" : "2016-10-24T17:00:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9007#issuecomment-255800173",
      "id" : 255800173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9007",
      "updated_at" : "2016-10-24T17:01:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255800173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I think it should be 10, because the assert is >0. Confirmed by testing.",
      "created_at" : "2016-10-24T17:13:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9007#issuecomment-255803703",
      "id" : 255803703,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9007",
      "updated_at" : "2016-10-24T17:13:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255803703",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Extended original report:\r\n```\r\nnMaxConnections = 8\r\nnMaxFeeler = 1\r\nnMaxOutbound = 8\r\nnMaxInbound = -1\r\nAssertion failed: (nMaxInbound > 0), function AcceptConnection, file net.cpp, line 979.\r\n```\r\n",
      "created_at" : "2016-10-24T17:14:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9007#issuecomment-255804076",
      "id" : 255804076,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9007",
      "updated_at" : "2016-10-24T17:14:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255804076",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "The core assumption I made which is being violated is that nMaxConnections is less than 9. \r\n\r\nI'm against just removing this assert since it seems confusing and unexpected to allow a max number integer to be negative. Instead I propose that the code not assume nMaxConnections will always be greater than 9 by scaling nMaxOutbound with nMaxConnections such that nMaxInbound is not negative.",
      "created_at" : "2016-10-25T15:13:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9007#issuecomment-256064445",
      "id" : 256064445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9007",
      "updated_at" : "2016-10-25T15:13:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256064445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/274814?v=3",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "body" : "@EthanHeilman I agree with doing that for 0.14, the logic (and input checking! this error should have been flagged in init.cpp not while the node is running with an assert) could definitely be improved, but for 0.13.1 we don't have the time to do a more measured solution.",
      "created_at" : "2016-10-25T17:36:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9007#issuecomment-256105319",
      "id" : 256105319,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9007",
      "updated_at" : "2016-10-25T17:36:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256105319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
