[
   {
      "body" : "I believe that with this change if a whitelisted peer gives us a transaction with internally duplicated inputs, we will relay it (CheckTransaction will pass, conflict with the mempool will not set DoS.) and then our peers running without this change will ban us (Their CheckTransaction will fail). Less critically, this change results in txn with internal doublespends getting a misleading log entry of mempool-conflict.\r\n\r\nEdit: I suggest creating a CheckTransactionHarder that ATMP uses which will check for transaction internal duplication and still nDoS.  This way block processing can still avoid the redundant test.",
      "created_at" : "2016-11-01T06:01:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-257495287",
      "id" : 257495287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-01T06:11:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257495287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Simplified diff and fixed.",
      "created_at" : "2016-11-01T17:35:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-257634590",
      "id" : 257634590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-01T17:35:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257634590",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r86071279"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86071279"
         }
      },
      "body" : "point out that it's also redundant there please!",
      "commit_id" : "e2b3fb349ed99f05ea518c7eb260db606350a2b5",
      "created_at" : "2016-11-02T04:20:53Z",
      "diff_hunk" : "@@ -1090,13 +1090,15 @@ bool CheckTransaction(const CTransaction& tx, CValidationState &state)\n             return state.DoS(100, false, REJECT_INVALID, \"bad-txns-txouttotal-toolarge\");\n     }\n \n-    // Check for duplicate inputs\n-    set<COutPoint> vInOutPoints;\n-    for (const auto& txin : tx.vin)\n-    {\n-        if (vInOutPoints.count(txin.prevout))\n-            return state.DoS(100, false, REJECT_INVALID, \"bad-txns-inputs-duplicate\");\n-        vInOutPoints.insert(txin.prevout);\n+    // Check for duplicate inputs - note that this check is slow so we skip it in CheckBlock",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r86071279",
      "id" : 86071279,
      "original_commit_id" : "1019c03ad3d25572e4a5b8416aa3228d914287cc",
      "original_position" : 20,
      "path" : "src/main.cpp",
      "position" : 20,
      "pull_request_review_id" : 6747676,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049",
      "updated_at" : "2016-11-09T19:30:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86071279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK +/- comment nit.",
      "created_at" : "2016-11-02T04:21:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-257768800",
      "id" : 257768800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-02T04:21:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257768800",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r86101018"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86101018"
         }
      },
      "body" : "Code under this license cannot be accepted, sorry",
      "commit_id" : "e2b3fb349ed99f05ea518c7eb260db606350a2b5",
      "created_at" : "2016-11-02T09:29:11Z",
      "diff_hunk" : "@@ -0,0 +1,53 @@\n+// Copyright (c) 2016 Matt Corallo\n+// Unlike the rest of Bitcoin Core, this file is\n+// distributed under the Affero General Public License (AGPL v3)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r86101018",
      "id" : 86101018,
      "original_commit_id" : "1019c03ad3d25572e4a5b8416aa3228d914287cc",
      "original_position" : 3,
      "path" : "src/bench/checkblock.cpp",
      "position" : null,
      "pull_request_review_id" : 6775188,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049",
      "updated_at" : "2016-11-09T19:30:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86101018",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Eek, license change was a mistake, sorry.\n\nOn November 2, 2016 5:29:28 AM EDT, \"Wladimir J. van der Laan\" <notifications@github.com> wrote:\n>laanwj requested changes on this pull request.\n>\n>\n>\n>> @@ -0,0 +1,53 @@\n>+// Copyright (c) 2016 Matt Corallo\n>+// Unlike the rest of Bitcoin Core, this file is\n>+// distributed under the Affero General Public License (AGPL v3)\n>\n>Code under this license cannot be accepted, sorry\n>\n>-- \n>You are receiving this because you authored the thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/9049#pullrequestreview-6775188\n",
      "created_at" : "2016-11-02T11:32:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-257839954",
      "id" : 257839954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-02T11:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257839954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Fixed the broken license header.",
      "created_at" : "2016-11-02T14:06:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-257874175",
      "id" : 257874175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-02T14:06:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257874175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "A very interesting duplication of the word \"duplicate\" in the PR title.",
      "created_at" : "2016-11-03T07:25:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-258077573",
      "id" : 258077573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-03T07:25:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258077573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r86428610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86428610"
         }
      },
      "body" : "lol. I didn't notice that.",
      "commit_id" : "e2b3fb349ed99f05ea518c7eb260db606350a2b5",
      "created_at" : "2016-11-03T19:52:05Z",
      "diff_hunk" : "@@ -0,0 +1,53 @@\n+// Copyright (c) 2016 Matt Corallo\n+// Unlike the rest of Bitcoin Core, this file is\n+// distributed under the Affero General Public License (AGPL v3)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r86428610",
      "id" : 86428610,
      "original_commit_id" : "1019c03ad3d25572e4a5b8416aa3228d914287cc",
      "original_position" : 3,
      "path" : "src/bench/checkblock.cpp",
      "position" : null,
      "pull_request_review_id" : 7089411,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049",
      "updated_at" : "2016-11-09T19:30:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86428610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@laanwj I believe you need to dismiss the requested changes (as they're addressed).",
      "created_at" : "2016-11-07T22:27:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-258983712",
      "id" : 258983712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-07T22:27:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258983712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Approved the requested change.\r\nBTW: `block413567.hex.h` is a 6MB file - I'd prefer generating this on the fly as we do with the other .X.h files.\r\nEdit: working on build system change for this...",
      "created_at" : "2016-11-08T09:08:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-259083061",
      "id" : 259083061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-08T09:20:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259083061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Can you please squash the top commit of https://github.com/laanwj/bitcoin/tree/2016_11_generate_bench_file into the benchmark commit?\r\n\r\nThis has the necessary build system change to generate the block.hex file on the fly from the raw data, like with the tests.\r\n\r\n@theuni can you have take a look too perhaps?",
      "created_at" : "2016-11-08T09:29:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-259087570",
      "id" : 259087570,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-08T09:29:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259087570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj looks good to me. Only slight criticism is that we may want to generate .h/.cpp pairs for blocks to ensure that they end up in separate compilation units, but we can always address that later if it becomes an issue.",
      "created_at" : "2016-11-08T20:22:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-259248755",
      "id" : 259248755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-08T20:22:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259248755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r87093282"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87093282"
         }
      },
      "body" : "Also worth noting (though not really related here), I measure a ~20%-25% time reduction by avoiding doing 2 lookups:\r\n```c++\r\nstd::set<COutPoint> vInOutPoints;\r\nfor (const auto& txin : tx.vin)\r\n{\r\n    if (!vInOutPoints.insert(txin.prevout).second)\r\n        return state.DoS(100, false, REJECT_INVALID, \"bad-txns-inputs-duplicate\");\r\n}\r\n```",
      "commit_id" : "e2b3fb349ed99f05ea518c7eb260db606350a2b5",
      "created_at" : "2016-11-08T21:58:34Z",
      "diff_hunk" : "@@ -1090,13 +1090,15 @@ bool CheckTransaction(const CTransaction& tx, CValidationState &state)\n             return state.DoS(100, false, REJECT_INVALID, \"bad-txns-txouttotal-toolarge\");\n     }\n \n-    // Check for duplicate inputs\n-    set<COutPoint> vInOutPoints;\n-    for (const auto& txin : tx.vin)\n-    {\n-        if (vInOutPoints.count(txin.prevout))\n-            return state.DoS(100, false, REJECT_INVALID, \"bad-txns-inputs-duplicate\");\n-        vInOutPoints.insert(txin.prevout);\n+    // Check for duplicate inputs - note that this check is slow so we skip it in CheckBlock\n+    if (fCheckDuplicateInputs) {\n+        set<COutPoint> vInOutPoints;\n+        for (const auto& txin : tx.vin)\n+        {\n+            if (vInOutPoints.count(txin.prevout))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#discussion_r87093282",
      "id" : 87093282,
      "original_commit_id" : "2ced91bf1acdcdc0c73a40c20e8e377ed819f3e0",
      "original_position" : 25,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : 7719682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9049",
      "updated_at" : "2016-11-09T19:30:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87093282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "> @laanwj looks good to me. Only slight criticism is that we may want to generate .h/.cpp pairs for blocks to ensure that they end up in separate compilation units, but we can always address that later if it becomes an issue.\r\n\r\nFully agree. On the long run, I'd like to forego the conversion to hex and subsequent compilation entirely on build chains that supports this, by embedding the binary directly as mentioned in a comment here https://github.com/bitcoin/bitcoin/issues/6658#issuecomment-144643696. The current way wastes a lot of time and memory while compiling.",
      "created_at" : "2016-11-09T06:36:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-259343753",
      "id" : 259343753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-09T06:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259343753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Picked up (and squashed) @laanwj's changes and went ahead and remove the duplicate-lookup for ATMP uses.",
      "created_at" : "2016-11-09T19:30:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-259503632",
      "id" : 259503632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-09T19:30:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259503632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
