[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9063#discussion_r86138647"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86138647"
         }
      },
      "body" : "If MAP_ANON is deprecated, what is the new name?\r\n\r\nAlso: this passed Travis, how is that possible if it didn't exist on MacOSX?",
      "commit_id" : "4a9f3c50ccc8a467fda84bfd8ff7cfd831edb7c3",
      "created_at" : "2016-11-02T13:21:24Z",
      "diff_hunk" : "@@ -224,6 +224,13 @@ PosixLockedPageAllocator::PosixLockedPageAllocator()\n     page_size = sysconf(_SC_PAGESIZE);\n #endif\n }\n+\n+// Some systems (at least OS X) do not define MAP_ANONYMOUS yet and define\n+// MAP_ANON which is deprecated",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#discussion_r86138647",
      "id" : 86138647,
      "original_commit_id" : "4a9f3c50ccc8a467fda84bfd8ff7cfd831edb7c3",
      "original_position" : 24,
      "path" : "src/support/lockedpool.cpp",
      "position" : 24,
      "pull_request_review_id" : 6810618,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9063",
      "updated_at" : "2016-11-02T13:21:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86138647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK\r\n\r\nFreeBSD manpage\r\n```\r\n MAP_ANON           Map anonymous memory not associated with any specific\r\n                    file.  The file descriptor used for creating MAP_ANON\r\n                    must be -1.  The offset argument must be 0.\r\n\r\n MAP_ANONYMOUS      This flag is identical to MAP_ANON and is provided for\r\n                    compatibility.\r\n```\r\n\r\nLinux manpage\r\n```\r\nMAP_ANONYMOUS\r\n    The mapping is not backed by any file; the fd and offset arguments are ignored. This flag in conjunction with MAP_SHARED is implemented since Linux 2.4. \r\nMAP_ANON\r\n    Alias for MAP_ANONYMOUS. Deprecated. \r\n```\r\n\r\nOSX 10.11 manpage\r\n```\r\n     MAP_ANONYMOUS     Synonym for MAP_ANON.\r\n\r\n     MAP_ANON          Map anonymous memory not associated with any specific file.  The offset argument is ignored.  Mac OS X spe-\r\n                       cific: the file descriptor used for creating MAP_ANON regions can be used to pass some Mach VM flags, and can\r\n                       be specified as -1 if no such flags are associated with the region.  Mach VM flags are defined in\r\n                       <mach/vm_statistics.h> and the ones that currently apply to mmap are:\r\n```",
      "created_at" : "2016-11-02T13:23:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257862389",
      "id" : 257862389,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:23:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257862389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "So apparently all three OSes support MAP_ANONYMOUS? What am I missing?",
      "created_at" : "2016-11-02T13:24:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257862616",
      "id" : 257862616,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257862616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "My build machine is 10.10.",
      "created_at" : "2016-11-02T13:25:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257862871",
      "id" : 257862871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:25:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257862871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik what does you 10.10s `man mmap` tells you about `MAP_ANONYMOUS`?\r\nIMO travis compiles against 10.9... hmm..",
      "created_at" : "2016-11-02T13:27:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257863349",
      "id" : 257863349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:27:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257863349",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli Nothing... `man mmap | grep ANON`:\r\n\r\n```\r\n     MAP_ANON          Map anonymous memory not associated with any specific\r\n                       cific: the file descriptor used for creating MAP_ANON\r\n     [ENODEV]           MAP_ANON has not been specified and the file fd refers\r\n                        the process.  MAP_ANON was specified and insufficient\r\n```\r\n",
      "created_at" : "2016-11-02T13:28:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257863779",
      "id" : 257863779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:28:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257863779",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "That's really strange. I really don't understand MacOSX' deprecation policy, from release to release it seems to oscillate wildly. In any case utACK.",
      "created_at" : "2016-11-02T13:30:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257864080",
      "id" : 257864080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:30:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257864080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Interesting:\r\n```\r\n$ grep ANON /usr/include/sys/mman.h\r\n#define\tMAP_ANON\t0x1000\t/* allocated from memory, swap space */\r\n$ \r\n```\r\n\r\nbut\r\n\r\n```\r\n/Applications/Xcode.app//Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include/sys/mman.h:#define\tMAP_ANONYMOUS\tMAP_ANON\r\n/Applications/Xcode.app//Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/share/man/man2/mmap.2:.It Dv MAP_ANONYMOUS\r\n/Applications/Xcode.app//Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS.sdk/usr/include/sys/mman.h:#define\tMAP_ANONYMOUS\tMAP_ANON\r\n/Applications/Xcode.app//Contents/Developer/Platforms/WatchOS.platform/Developer/SDKs/WatchOS2.1.sdk/usr/include/sys/mman.h:#define\tMAP_ANONYMOUS\tMAP_ANON\r\n```",
      "created_at" : "2016-11-02T13:38:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257866135",
      "id" : 257866135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:38:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257866135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "We are not alone: https://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/371 and others...",
      "created_at" : "2016-11-02T13:40:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9063#issuecomment-257866632",
      "id" : 257866632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9063",
      "updated_at" : "2016-11-02T13:40:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257866632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   }
]
