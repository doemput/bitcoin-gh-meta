{
   "assignee" : null,
   "body" : "Fixes issue where all network activity just stops.\r\n\r\nLitecoin 0.8.6.1 upgraded the gitian win32 environment to precise and boost-1.54 in exactly the same manner as Bitcoin master.  After Litecoin 0.8.6.1 was released we began to hear complaints from Windows users about block sync getting stuck forever.  When networking stops the GUI remains responsive and the debug.log has a few lines like this before stopping entirely.\r\n\r\n```2013-12-28 12:40:46 socket send error 10054\r\n2013-12-28 12:40:46 disconnecting node 125.86.21.116:1985```\r\n\r\nSeveral hours after the point where it fails, ```netstat -a``` on Windows reports a great many connections stuck in the CLOSED_WAIT state.\r\n\r\nhttps://litecointalk.org/index.php?topic=12526.0\r\nTesting by several members of the Litecoin community found that downgrading to boost-1.50 seemed to fix the issue.  We also tried boost-1.55 which also seems to fix the issue.\r\n\r\nhttps://svn.boost.org/trac/boost/ticket/8933\r\nThis upstream ticket against boost-1.54 might be related.  This is confusing though as Bitcoin does not use boost ASIO except for RPC which is disabled by default on the -qt builds.  Whatever the issue, at this point it seems that boost-1.55 solves the issue, or at least none of the Litecoin testers of the boost-1.55 builds have reported the permanent network failure condition that occurs with boost-1.54.\r\n\r\nhttp://download1.rpmfusion.org/~warren/bitcoin-win32-network-test/\r\nThis is a gitian win32 build of bitcoin-qt.exe at 13e99e463d4aa0bd2b2892010ca8c7007c40c242.  I personally reproduced a similar failure only a few thousand blocks into a fresh sync on Windows 7 x64.  Unlike the 0.8.x + boost-1.54 client it did not have the 10054 errors in debug.log.  Instead the log just stopped.  GUI remained responsive.  Subsequent ```addnode ADDRESS onetry``` appeared to add an entry to ```getpeerinfo``` but it was clearly defective.\r\n\r\n![defective-addnode](https://f.cloud.github.com/assets/93665/1878101/520a531c-7935-11e3-8ff8-4300fe3e59ab.jpg)\r\n\r\nNote that it failed to read the subver and it received zero bytes from this peer.",
   "closed_at" : "2014-01-10T10:36:05Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 12,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3501/comments",
   "created_at" : "2014-01-09T14:01:10Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3501/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/3501",
   "id" : 25320850,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3501/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 3501,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/3501.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3501",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/3501.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3501"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Upgrade gitian win32 to boost-1.55.",
   "updated_at" : "2014-06-26T01:23:21Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3501",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
      "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
      "followers_url" : "https://api.github.com/users/wtogami/followers",
      "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/wtogami",
      "id" : 93665,
      "login" : "wtogami",
      "organizations_url" : "https://api.github.com/users/wtogami/orgs",
      "received_events_url" : "https://api.github.com/users/wtogami/received_events",
      "repos_url" : "https://api.github.com/users/wtogami/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/wtogami"
   }
}
