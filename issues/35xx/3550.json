{
   "assignee" : null,
   "body" : "Hi, I have built and installed Berkeley DB 6.0, which is what Oracle has made most readily available. In the bitcoin directory, I ran autogen.sh, then configure. I show where Berkeley DB is. There are two configure attempts below. First I don't specify BDB_LIBS and BDB_CPPFLAGS, and configure doesn't find Berkeley DB, but when I do specify them in the second attempt, it still doesn't.\r\n\r\nDarkstar:bitcoin zack$ ./configure\r\n...\r\nchecking stdio.h usability... yes\r\nchecking stdio.h presence... yes\r\nchecking for stdio.h... yes\r\nchecking for stdlib.h... (cached) yes\r\nchecking for unistd.h... (cached) yes\r\nchecking for strings.h... (cached) yes\r\nchecking for sys/types.h... (cached) yes\r\nchecking for sys/stat.h... (cached) yes\r\nchecking for MSG_NOSIGNAL... no\r\nchecking for Berkeley DB C++ headers... no\r\nconfigure: error: libdb_cxx headers missing\r\nDarkstar:bitcoin zack$ \r\nDarkstar:bitcoin zack$ find /usr -name \"libdb_cxx*\"\r\n/usr/local/BerkeleyDB.6.0/lib/libdb_cxx-6.0.a\r\n/usr/local/BerkeleyDB.6.0/lib/libdb_cxx-6.0.dylib\r\n/usr/local/BerkeleyDB.6.0/lib/libdb_cxx-6.0.la\r\n/usr/local/BerkeleyDB.6.0/lib/libdb_cxx-6.dylib\r\n/usr/local/BerkeleyDB.6.0/lib/libdb_cxx.a\r\n/usr/local/BerkeleyDB.6.0/lib/libdb_cxx.dylib\r\nfind: /usr/sbin/authserver: Permission denied\r\nDarkstar:bitcoin zack$ ls  /usr/local/lib/pkgconfig\r\njansson.pc                 libavfilter.pc             libblkmaker_jansson-0.1.pc libevent_openssl.pc        libswscale.pc\r\nlibavcodec.pc              libavformat.pc             libcurl.pc                 libevent_pthreads.pc       zlib.pc\r\nlibavdevice.pc             libavutil.pc               libevent.pc                libswresample.pc\r\nDarkstar:bitcoin zack$ \r\nDarkstar:bitcoin zack$ ls /usr/local/BerkeleyDB.6.0/include/\r\ndb.h     db_cxx.h\r\nDarkstar:bitcoin zack$ ./configure BDB_LIBS=/usr/local/BerkeleyDB.6.0/lib BDB_CPPFLAGS=-I/usr/local/BerkeleyDB.6.0/include\r\nchecking build system type... x86_64-apple-darwin13.0.0\r\nchecking host system type... x86_64-apple-darwin13.0.0\r\nchecking for a BSD-compatible install... /usr/bin/install -c\r\nchecking whether build environment is sane... yes\r\nchecking for a thread-safe mkdir -p... src/build-aux/install-sh -c -d\r\nchecking for gawk... no\r\nchecking for mawk... no\r\nchecking for nawk... no\r\nchecking for awk... awk\r\nchecking whether make sets $(MAKE)... yes\r\nchecking whether make supports nested variables... yes\r\nchecking whether to enable maintainer-specific portions of Makefiles... yes\r\nchecking whether make supports nested variables... (cached) yes\r\nchecking for g++... g++\r\nchecking whether the C++ compiler works... yes\r\nchecking for C++ compiler default output file name... a.out\r\nchecking for suffix of executables... \r\nchecking whether we are cross compiling... no\r\nchecking for suffix of object files... o\r\nchecking whether we are using the GNU C++ compiler... yes\r\nchecking whether g++ accepts -g... yes\r\nchecking for style of include used by make... GNU\r\nchecking dependency style of g++... gcc3\r\nchecking for gcc... gcc\r\nchecking whether we are using the GNU C compiler... yes\r\nchecking whether gcc accepts -g... yes\r\nchecking for gcc option to accept ISO C89... none needed\r\nchecking whether gcc understands -c and -o together... yes\r\nchecking dependency style of gcc... gcc3\r\nchecking how to run the C preprocessor... gcc -E\r\nchecking how to run the C++ preprocessor... g++ -E\r\nchecking for gcc... gcc\r\nchecking whether we are using the GNU Objective C compiler... yes\r\nchecking whether gcc accepts -g... yes\r\nchecking dependency style of gcc... gcc3\r\nchecking for g++... g++\r\nchecking whether we are using the GNU Objective C++ compiler... yes\r\nchecking whether g++ accepts -g... yes\r\nchecking dependency style of g++... gcc3\r\nchecking for a sed that does not truncate output... /usr/bin/sed\r\nchecking for ar... /usr/bin/ar\r\nchecking for ranlib... /usr/bin/ranlib\r\nchecking for strip... /usr/bin/strip\r\nchecking for gcov... /usr/bin/gcov\r\nchecking for lcov... no\r\nchecking for java... /usr/bin/java\r\nchecking for genhtml... no\r\nchecking for git... /usr/bin/git\r\nchecking for ccache... no\r\nchecking for xgettext... no\r\nchecking for hexdump... /usr/bin/hexdump\r\nchecking for pkg-config... /usr/local/bin/pkg-config\r\nchecking pkg-config is at least version 0.9.0... yes\r\nchecking for port... no\r\nchecking for brew... no\r\nchecking for grep that handles long lines and -e... /usr/bin/grep\r\nchecking for egrep... /usr/bin/grep -E\r\nchecking for ANSI C header files... yes\r\nchecking for sys/types.h... yes\r\nchecking for sys/stat.h... yes\r\nchecking for stdlib.h... yes\r\nchecking for string.h... yes\r\nchecking for memory.h... yes\r\nchecking for strings.h... yes\r\nchecking for inttypes.h... yes\r\nchecking for stdint.h... yes\r\nchecking for unistd.h... yes\r\nchecking whether byte ordering is bigendian... no\r\nchecking if compiler needs -Werror to reject unknown flags... yes\r\nchecking whether pthreads work with -pthread... yes\r\nchecking for joinable pthread attribute... PTHREAD_CREATE_JOINABLE\r\nchecking if more special flags are required for pthreads... -D_THREAD_SAFE\r\nchecking for PTHREAD_PRIO_INHERIT... yes\r\nchecking for special C compiler options needed for large files... no\r\nchecking for _FILE_OFFSET_BITS value needed for large files... no\r\nchecking whether the linker accepts -Wl,--large-address-aware... no\r\nchecking whether C++ compiler accepts -Wstack-protector... yes\r\nchecking whether C++ compiler accepts -fPIE... yes\r\nchecking whether C++ preprocessor accepts -D_FORTIFY_SOURCE=2... yes\r\nchecking whether the linker accepts -Wl,--dynamicbase... no\r\nchecking whether the linker accepts -Wl,--nxcompat... no\r\nchecking whether the linker accepts -Wl,-z,relro... no\r\nchecking whether the linker accepts -Wl,-z,now... no\r\nchecking whether C++ compiler accepts -fno-stack-protector... yes\r\nchecking whether C++ compiler accepts -fstack-protector-all... yes\r\nchecking whether the linker accepts -pie... yes\r\nchecking whether the linker accepts -Wl,-dead_strip... yes\r\nchecking stdio.h usability... yes\r\nchecking stdio.h presence... yes\r\nchecking for stdio.h... yes\r\nchecking for stdlib.h... (cached) yes\r\nchecking for unistd.h... (cached) yes\r\nchecking for strings.h... (cached) yes\r\nchecking for sys/types.h... (cached) yes\r\nchecking for sys/stat.h... (cached) yes\r\nchecking for MSG_NOSIGNAL... no\r\nchecking for Berkeley DB C++ headers... no\r\nconfigure: error: libdb_cxx headers missing\r\n\r\nI'm OK with renaming a subdirectory to db60 or whatever, but if I specify a directory, shouldn't configure find it?",
   "closed_at" : "2014-12-30T14:38:24Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 14,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3550/comments",
   "created_at" : "2014-01-17T04:09:57Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3550/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/3550",
   "id" : 25786384,
   "labels" : [
      {
         "color" : "5319e7",
         "name" : "Build system",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "660000",
         "name" : "MacOSX",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/MacOSX"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3550/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 3550,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "On OS/X, configure does not detect installed Berkeley DB.",
   "updated_at" : "2014-12-30T14:38:24Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3550",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/10137?v=3",
      "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ghost/followers",
      "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ghost",
      "id" : 10137,
      "login" : "ghost",
      "organizations_url" : "https://api.github.com/users/ghost/orgs",
      "received_events_url" : "https://api.github.com/users/ghost/received_events",
      "repos_url" : "https://api.github.com/users/ghost/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ghost"
   }
}
