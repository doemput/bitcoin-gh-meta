[
   {
      "body" : "@RHavar you've said nothing to address the original reason for lowering them other than it would be useful for your particular pattern of usage. A few weeks ago you were asking the that allowed unconfirmed chaining depth be made 0. :(\r\n",
      "created_at" : "2017-08-26T01:48:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325071844",
      "id" : 325071844,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T01:48:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325071844",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "If you're making long chains of unconfirmed transactions, you're using it wrong. Just use `sendmany` with all your desired outputs, at most once per block. If you find out your fee was too low, `abandontransaction` and recreate it (including any new outputs you might wish to send to now as well) - be sure you use the raw transaction API to add to the original transaction, to ensure the same inputs get used in the new one.",
      "created_at" : "2017-08-26T02:13:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325074032",
      "id" : 325074032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T02:13:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325074032",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "> @RHavar you've said nothing to address the original reason for lowering them other than it would be useful for your particular pattern of usage. \r\n\r\nI'm not sure the original motivation is nearly as relevant as they were two years ago. The mempool being full and/or spammed is not nearly as problematic thanks to a lot of improvements, and not to mention significantly more expensive to do so.  And for safety I've kept DEFAULT_ANCESTOR_SIZE_LIMIT for sanity. And two years ago it was not nearly as needed to chain chain transactions as now. I'm providing a legitimate use case for transaction chaining that was asked for in the original mailing list post.\r\n\r\nFWIW: This isn't even for me. I'm just trying to help a company send transactions in an affordable way, without going down the path of spending thousands of dollars on writing custom coin selection that avoids this limit and can manage large unspent sets properly (like I've had to do). But I strongly feel bitcoin should be trying to minimize the harmful effects of centralization that the high fees have caused. Allowing someone to fire a hundred transactions in a row without having to write extremely complex logic is a marked improvement. \r\n\r\n> A few weeks ago you were asking the that allowed unconfirmed chaining depth be made 0. :(\r\n\r\nWas that _really_ necessary? It's a clever one-liner to try undermine my credibility -- but it's a rather blatant and unfair mischaracterization. I suggested that only in the very specific case of bip125 transactions, for the express purpose of stopping the receiver making it unfeasible for you to fee bump. And as I recall you were against such limits because of their paternalistic nature. ",
      "created_at" : "2017-08-26T02:13:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325074067",
      "id" : 325074067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T02:13:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325074067",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "@RHavar It sounds like your efforts might be better spent improving `bumpfee` to enable adding additional outputs.",
      "created_at" : "2017-08-26T02:21:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325074689",
      "id" : 325074689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T02:21:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325074689",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "> If you're making long chains of unconfirmed transactions, you're using it wrong. Just use sendmany with all your desired outputs, at most once per block.\r\n\r\nThere are legitimate business reasons to want to make sends more than once per block. \r\n\r\n> If you find out your fee was too low, abandontransaction and recreate it (including any new outputs you might wish to send to now as well) - be sure you use the raw transaction API to add to the original transaction, to ensure the same inputs get used in the new one.\r\n\r\nIgnoring the fact you can't `abandontransaction` on a transaction that's in the mempool, this style is possible with using RBF, but suffers from a _ridiculous_ amount of complexity:\r\n\r\n* You need to handle the possible case your input isn't enough\r\n* You need to handle the case of your change dropping too much\r\n* You need to handle the handle the fee logic (including the increasing requirements of bip125)\r\n* The amount of fees required for a batch becomes O(N^2) for N replacements of increasing size, as you need to continually pay for the relay costs of the replacements\r\n* And the most complex: You need to then monitor the blockchain to see which of the N transactions confirms to know which outputs to recreate and send\r\n* <probably a lot more I haven't thought of>\r\n\r\nIn short, this isn't a feasibly solution for a company that just wants to send bitcoin transactions and not reimplement half of a wallet.\r\n\r\n\r\n\r\n",
      "created_at" : "2017-08-26T02:22:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325074746",
      "id" : 325074746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T02:23:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325074746",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "@RHavar  I think the main lens through which I look at this is whether this is better for miners or not.  The downside to increasing the limits is a slowdown in mempool operations and, specifically, CreateNewBlock.  Quantifying that slowdown should be part of any argument in favor of raising it, along with motivation for miner income going up to compensate for that.\r\n\r\nEven putting aside arguments that a different workflow would make more sense -- from the use case described, it's not clear to me that the chain limits need to be increased in order for the transactions to confirm?  What's the problem with generating the long-chain of transactions and just rebroadcasting them as the ancestors confirm?  That could be done just by using higher local policy limits and/or -walletrejectlongchain=0 (or whatever that command line option is called).",
      "created_at" : "2017-08-26T02:24:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325074903",
      "id" : 325074903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T02:24:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325074903",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@sdaftuar Thanks for the well reasoned reply. \r\n\r\n> Quantifying that slowdown should be part of any argument in favor of raising it, along with motivation for miner income going up to compensate for that.\r\n\r\n I'll close the issue as I do not have the time or skill to do so; but if anyone wants to take up the torch I think it's a useful change :D\r\n\r\n > What's the problem with generating the long-chain of transactions and just rebroadcasting them as the ancestors confirm? \r\n\r\nThis was actually my solution, and works well. The main limitation of it is that the site gives txid's that aren't on the network (a little confusing) and the transaction unfortunately has no chance of confirming next block (even though it pays enough) which is a bit unfortunate. There's also a bit of a risk that you continually outpace the network, but that can be solved by just sending in 1 minute batches or so.",
      "created_at" : "2017-08-26T02:32:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325075551",
      "id" : 325075551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T02:32:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325075551",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "FWIW, I wasn't trying to get you to close the issue--  but you're arguing for a change and not even trying to answer why blowing the cpu time way up again wouldn't be a concern. I thought maybe you knew something you weren't mentioning.\r\n\r\n> > A few weeks ago you were asking the that allowed unconfirmed chaining depth be made 0. :(\r\n\r\n> Was that really necessary? It's a clever one-liner to try undermine my credibility \r\n\r\nCome on now, that is really unfair to me. I am not trying to undermine your credibility. We know who you are here and your participation is welcome and appreciated.  I wasn't thinking about it in terms of 'just BIP125' (also because I expect virtually all transactions to be BIP125), only that you seemed to be proposing diametrically opposed things here.   You're a smart guy and so when I see you saying things the seem at odds I want to understand why.\r\n\r\nI apologize for making you feel unwelcome, it wasn't my intent.\r\n\r\nAs far as the replacing logic, we'd like to implement that ourselves in the wallet; but prior to segwit activation there were corner cases where there was just no clean solution that we could find.  I hope you'll provide feedback on efforts to implement that in the wallet.",
      "created_at" : "2017-08-26T03:49:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325081391",
      "id" : 325081391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T03:51:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325081391",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : ">  but you're arguing for a change and not even trying to answer why blowing the cpu time way up again wouldn't be a concern. \r\n\r\nYeah, I agree the onus should be on me to show it doesn't cause problems. I'm pretty sure it doesn't for nodes, but I didn't check the mining functionality like @sdaftuar mentioned. I was kind of hoping it was just a forgotten about thing that could safely be restored due to all the improvements that have happened in the mean time.\r\n\r\n> Come on now, that is really unfair to me. I am not trying to undermine your credibility.\r\n\r\nI apologize, I should've been more charitable in my reading. I see bip125 as a special case for when you're specifically planning on replacing transactions (e.g. doing what Luke suggested earlier) which would mean that if someone spent from it before it confirmed it would strictly be a nuisance and greatly complicate your code (as well as make you pay to orphan it).\r\n\r\n> I hope you'll provide feedback on efforts to implement that in the wallet.\r\n\r\nAll the batching and replacement stuff is a bit of a nightmare of complexity to manage for an end user. There's just a surprising  amount of cases that can happen, and they can all cost you a lot of money if you ignore them or handle them badly.\r\n\r\nLater this year I'm hoping to release a software bundle to make it sane for businesses to accept/send bitcoin, and a pretty big aspect of it is decoupling \"sends\" with actual bitcoin transactions. And the actual wallet does the logic of bundling in a single transaction (or not), and resending (e.g. monitoring and seeing if a previous transaction got confirmed, and then creating a new transaction for the parts that didn't get sent etc.),\r\n\r\nFrom the end user experience, it really should be \"fire and forget\" and they get some internal identifier to be able to query the current state of things if they're interested\r\n\r\nI'm not really sure how much of that is suitable for a consumer-level wallet though. I'm not sure there's many people who send bitcoin transactions with such a frequency that would justify that sort of thing.",
      "created_at" : "2017-08-26T04:46:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11152#issuecomment-325085701",
      "id" : 325085701,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11152",
      "updated_at" : "2017-08-26T04:47:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325085701",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   }
]
