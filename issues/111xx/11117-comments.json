[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134646607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134646607"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Block instead?\r\n```cpp\r\nif (...) {\r\n  throw ...;\r\n}\r\n```",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T02:47:42Z",
      "diff_hunk" : "@@ -271,11 +271,9 @@ static void MutateTxAddOutAddr(CMutableTransaction& tx, const std::string& strIn\n \n     // extract and validate ADDRESS\n     std::string strAddr = vStrInputParts[1];\n-    CBitcoinAddress addr(strAddr);\n-    if (!addr.IsValid())\n-        throw std::runtime_error(\"invalid TX output address\");\n-    // build standard output script via GetScriptForDestination()\n-    CScript scriptPubKey = GetScriptForDestination(addr.Get());\n+    CTxDestination destination = DecodeDestination(strAddr);\n+    if (!IsValidDestination(destination)) throw std::runtime_error(\"invalid TX output address\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134646607",
      "id" : 134646607,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 10,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_review_id" : 57961836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134646607",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134647726"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134647726"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Change to\r\n```cpp\r\nif (!destinations.insert(destination).second) {\r\n```",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T02:59:37Z",
      "diff_hunk" : "@@ -393,15 +393,17 @@ UniValue createrawtransaction(const JSONRPCRequest& request)\n             CTxOut out(0, CScript() << OP_RETURN << data);\n             rawTx.vout.push_back(out);\n         } else {\n-            CBitcoinAddress address(name_);\n-            if (!address.IsValid())\n-                throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \")+name_);\n+            CTxDestination destination = DecodeDestination(name_);\n+            if (!IsValidDestination(destination)) {\n+                throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + name_);\n+            }\n \n-            if (setAddress.count(address))\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \")+name_);\n-            setAddress.insert(address);\n+            if (destinations.count(destination)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134647726",
      "id" : 134647726,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 24,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 57961836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134647726",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134648199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134648199"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, kind of unrelated, use `.find()` to avoid 2nd lookup below.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T03:04:57Z",
      "diff_hunk" : "@@ -275,24 +275,25 @@ UniValue setaccount(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n+    }\n \n     std::string strAccount;\n     if (!request.params[1].isNull())\n         strAccount = AccountFromValue(request.params[1]);\n \n     // Only add the account if the address is yours.\n-    if (IsMine(*pwallet, address.Get())) {\n+    if (IsMine(*pwallet, dest)) {\n         // Detect when changing the account of an address that is the 'unused current key' of another account:\n-        if (pwallet->mapAddressBook.count(address.Get())) {\n-            std::string strOldAccount = pwallet->mapAddressBook[address.Get()].name;\n-            if (address == GetAccountAddress(pwallet, strOldAccount)) {\n+        if (pwallet->mapAddressBook.count(dest)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134648199",
      "id" : 134648199,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 62,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 62,
      "pull_request_review_id" : 57961836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134648199",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134648405"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134648405"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Follow up, should the error message be `Invalid destination address`? ",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T03:07:34Z",
      "diff_hunk" : "@@ -451,9 +454,10 @@ UniValue sendtoaddress(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134648405",
      "id" : 134648405,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 115,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 48,
      "pull_request_review_id" : 57961836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134648405",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134648552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134648552"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Replace with `.insert().second` like above.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T03:09:28Z",
      "diff_hunk" : "@@ -2695,18 +2704,20 @@ UniValue listunspent(const JSONRPCRequest& request)\n         nMaxDepth = request.params[1].get_int();\n     }\n \n-    std::set<CBitcoinAddress> setAddress;\n+    std::set<CTxDestination> destinations;\n     if (!request.params[2].isNull()) {\n         RPCTypeCheckArgument(request.params[2], UniValue::VARR);\n         UniValue inputs = request.params[2].get_array();\n         for (unsigned int idx = 0; idx < inputs.size(); idx++) {\n             const UniValue& input = inputs[idx];\n-            CBitcoinAddress address(input.get_str());\n-            if (!address.IsValid())\n-                throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \")+input.get_str());\n-            if (setAddress.count(address))\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \")+input.get_str());\n-           setAddress.insert(address);\n+            CTxDestination dest = DecodeDestination(input.get_str());\n+            if (!IsValidDestination(dest)) {\n+                throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + input.get_str());\n+            }\n+            if (destinations.count(dest)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134648552",
      "id" : 134648552,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 346,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 57961836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134648552",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134653190"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134653190"
         }
      },
      "author_association" : "OWNER",
      "body" : "An address is just the string-encoded form of a CTxDestination, so no. I think the \"destination\" name should be internal.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T04:07:41Z",
      "diff_hunk" : "@@ -451,9 +454,10 @@ UniValue sendtoaddress(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134653190",
      "id" : 134653190,
      "in_reply_to_id" : 134648405,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 115,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 48,
      "pull_request_review_id" : 57969073,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134653190",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134653255"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134653255"
         }
      },
      "author_association" : "OWNER",
      "body" : "Trying to keep this as much of a straightforward change as possible, as it may need backporting.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T04:08:27Z",
      "diff_hunk" : "@@ -275,24 +275,25 @@ UniValue setaccount(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n+    }\n \n     std::string strAccount;\n     if (!request.params[1].isNull())\n         strAccount = AccountFromValue(request.params[1]);\n \n     // Only add the account if the address is yours.\n-    if (IsMine(*pwallet, address.Get())) {\n+    if (IsMine(*pwallet, dest)) {\n         // Detect when changing the account of an address that is the 'unused current key' of another account:\n-        if (pwallet->mapAddressBook.count(address.Get())) {\n-            std::string strOldAccount = pwallet->mapAddressBook[address.Get()].name;\n-            if (address == GetAccountAddress(pwallet, strOldAccount)) {\n+        if (pwallet->mapAddressBook.count(dest)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134653255",
      "id" : 134653255,
      "in_reply_to_id" : 134648199,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 62,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 62,
      "pull_request_review_id" : 57969142,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134653255",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134654401"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134654401"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Off topic, just `Invalid address` as it seems irrelevant to have `Bitcoin` in the error message?",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T04:22:29Z",
      "diff_hunk" : "@@ -451,9 +454,10 @@ UniValue sendtoaddress(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134654401",
      "id" : 134654401,
      "in_reply_to_id" : 134648405,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 115,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 48,
      "pull_request_review_id" : 57970358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134654401",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134654485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134654485"
         }
      },
      "author_association" : "OWNER",
      "body" : "Oh, sure!",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-23T04:23:40Z",
      "diff_hunk" : "@@ -451,9 +454,10 @@ UniValue sendtoaddress(const JSONRPCRequest& request)\n \n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r134654485",
      "id" : 134654485,
      "in_reply_to_id" : 134654401,
      "original_commit_id" : "36eb9f2c1a5f979a07e619852c2bf7c8777f9410",
      "original_position" : 115,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 48,
      "pull_request_review_id" : 57970443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134654485",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> What about:\r\n> \r\n> ```c++\r\n> CTxDestination dest;\r\n> if (!DecodeDestination(str, dest)) {\r\n> ```\r\n\r\nThere are plenty of cases where the result of decoding can just be passed to something else, and `Function(DecodeDestination(addr))` is far cleaner than `CTxDestination dest; DecodeDestination(addr, dest); Function(dest);`, so I prefer to keep that possible.\r\n\r\nThe current pattern is indeed a bit verbose, but once we rewrite `CTxDestination` to be a native type (rather than a `boost::variant`; see follow-up plans in the PR description), it could at least simplify to `dest.IsValid()` or so.",
      "created_at" : "2017-08-23T06:38:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-324235865",
      "id" : 324235865,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-08-23T06:39:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324235865",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa sure, I just wanted to question that \"style\" because it's used elsewhere.\r\n\r\nACK 8363a2c.",
      "created_at" : "2017-08-23T10:10:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-324284520",
      "id" : 324284520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-08-23T10:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324284520",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "utACK 8363a2ccaffba793068db4f97184121730707104",
      "created_at" : "2017-08-23T10:45:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-324292279",
      "id" : 324292279,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-08-23T10:45:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324292279",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Added 0.15.1 milestone",
      "created_at" : "2017-08-23T20:11:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-324448577",
      "id" : 324448577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-08-23T20:11:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324448577",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135028452"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135028452"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've stared at this for 5 min now. What trickery made this work before?",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T14:22:44Z",
      "diff_hunk" : "@@ -82,14 +82,14 @@ class AddressTablePriv\n             LOCK(wallet->cs_wallet);\n             for (const std::pair<CTxDestination, CAddressBookData>& item : wallet->mapAddressBook)\n             {\n-                const CBitcoinAddress& address = item.first;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135028452",
      "id" : 135028452,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 4,
      "path" : "src/qt/addresstablemodel.cpp",
      "position" : 4,
      "pull_request_review_id" : 58393378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135028452",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135034714"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135034714"
         }
      },
      "author_association" : "MEMBER",
      "body" : "!keyID",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T14:42:33Z",
      "diff_hunk" : "@@ -117,16 +117,14 @@ void SignVerifyMessageDialog::on_signMessageButton_SM_clicked()\n     /* Clear old signature to ensure users don't get confused on error with an old signature displayed */\n     ui->signatureOut_SM->clear();\n \n-    CBitcoinAddress addr(ui->addressIn_SM->text().toStdString());\n-    if (!addr.IsValid())\n-    {\n+    CTxDestination destination = DecodeDestination(ui->addressIn_SM->text().toStdString());\n+    if (!IsValidDestination(destination)) {\n         ui->statusLabel_SM->setStyleSheet(\"QLabel { color: red; }\");\n         ui->statusLabel_SM->setText(tr(\"The entered address is invalid.\") + QString(\" \") + tr(\"Please check the address and try again.\"));\n         return;\n     }\n-    CKeyID keyID;\n-    if (!addr.GetKeyID(keyID))\n-    {\n+    const CKeyID* keyID = boost::get<CKeyID>(&destination);\n+    if (keyID) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135034714",
      "id" : 135034714,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 17,
      "path" : "src/qt/signverifymessagedialog.cpp",
      "position" : null,
      "pull_request_review_id" : 58393378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135034714",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135040915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135040915"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe add a quick comment that this is CNoDestination so it comes up when grepping for future changes.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T15:03:13Z",
      "diff_hunk" : "@@ -317,3 +317,7 @@ CScript GetScriptForWitness(const CScript& redeemscript)\n     ret << OP_0 << ToByteVector(hash);\n     return ret;\n }\n+\n+bool IsValidDestination(const CTxDestination& dest) {\n+    return dest.which() != 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135040915",
      "id" : 135040915,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 6,
      "path" : "src/script/standard.cpp",
      "position" : 6,
      "pull_request_review_id" : 58393378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135040915",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135041298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135041298"
         }
      },
      "author_association" : "MEMBER",
      "body" : "got it. ignore last nit.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T15:04:44Z",
      "diff_hunk" : "@@ -77,10 +77,13 @@ class CNoDestination {\n  *  * CNoDestination: no destination set\n  *  * CKeyID: TX_PUBKEYHASH destination\n  *  * CScriptID: TX_SCRIPTHASH destination\n- *  A CTxDestination is the internal data type encoded in a CBitcoinAddress\n+ *  A CTxDestination is the internal data type encoded in a bitcoin address\n  */\n typedef boost::variant<CNoDestination, CKeyID, CScriptID> CTxDestination;\n \n+/** Check whether a CTxDestination is a CNoDestination. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135041298",
      "id" : 135041298,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 9,
      "path" : "src/script/standard.h",
      "position" : 9,
      "pull_request_review_id" : 58393378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135041298",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135051638"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135051638"
         }
      },
      "author_association" : "MEMBER",
      "body" : "heh.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T15:39:20Z",
      "diff_hunk" : "@@ -529,16 +533,16 @@ UniValue listaddressgroupings(const JSONRPCRequest& request)\n \n     UniValue jsonGroupings(UniValue::VARR);\n     std::map<CTxDestination, CAmount> balances = pwallet->GetAddressBalances();\n-    for (std::set<CTxDestination> grouping : pwallet->GetAddressGroupings()) {\n+    for (const std::set<CTxDestination>& grouping : pwallet->GetAddressGroupings()) {\n         UniValue jsonGrouping(UniValue::VARR);\n-        for (CTxDestination address : grouping)\n+        for (const CTxDestination& address : grouping)\n         {\n             UniValue addressInfo(UniValue::VARR);\n-            addressInfo.push_back(CBitcoinAddress(address).ToString());\n+            addressInfo.push_back(EncodeDestination(address));\n             addressInfo.push_back(ValueFromAmount(balances[address]));\n             {\n-                if (pwallet->mapAddressBook.find(CBitcoinAddress(address).Get()) != pwallet->mapAddressBook.end()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135051638",
      "id" : 135051638,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 145,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 145,
      "pull_request_review_id" : 58393378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135051638",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135060603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135060603"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good catch.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T16:11:26Z",
      "diff_hunk" : "@@ -117,16 +117,14 @@ void SignVerifyMessageDialog::on_signMessageButton_SM_clicked()\n     /* Clear old signature to ensure users don't get confused on error with an old signature displayed */\n     ui->signatureOut_SM->clear();\n \n-    CBitcoinAddress addr(ui->addressIn_SM->text().toStdString());\n-    if (!addr.IsValid())\n-    {\n+    CTxDestination destination = DecodeDestination(ui->addressIn_SM->text().toStdString());\n+    if (!IsValidDestination(destination)) {\n         ui->statusLabel_SM->setStyleSheet(\"QLabel { color: red; }\");\n         ui->statusLabel_SM->setText(tr(\"The entered address is invalid.\") + QString(\" \") + tr(\"Please check the address and try again.\"));\n         return;\n     }\n-    CKeyID keyID;\n-    if (!addr.GetKeyID(keyID))\n-    {\n+    const CKeyID* keyID = boost::get<CKeyID>(&destination);\n+    if (keyID) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135060603",
      "id" : 135060603,
      "in_reply_to_id" : 135034714,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 17,
      "path" : "src/qt/signverifymessagedialog.cpp",
      "position" : null,
      "pull_request_review_id" : 58429780,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135060603",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135089262"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135089262"
         }
      },
      "author_association" : "OWNER",
      "body" : "It was creating a temporary of type CBitcoinAddress by converting the CTxDestination initializer, using the implicit `CBitcoinAddress(const CTxDestination &dest)` constructor. That temporary's lifetime was then extended by taking a reference to it, named `address`.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T18:08:51Z",
      "diff_hunk" : "@@ -82,14 +82,14 @@ class AddressTablePriv\n             LOCK(wallet->cs_wallet);\n             for (const std::pair<CTxDestination, CAddressBookData>& item : wallet->mapAddressBook)\n             {\n-                const CBitcoinAddress& address = item.first;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135089262",
      "id" : 135089262,
      "in_reply_to_id" : 135028452,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 4,
      "path" : "src/qt/addresstablemodel.cpp",
      "position" : 4,
      "pull_request_review_id" : 58462422,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135089262",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135089886"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135089886"
         }
      },
      "author_association" : "OWNER",
      "body" : "It took me a while to figure out what this `CBitcoinAddress` was doing. Answer: nothing at all.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T18:11:25Z",
      "diff_hunk" : "@@ -529,16 +533,16 @@ UniValue listaddressgroupings(const JSONRPCRequest& request)\n \n     UniValue jsonGroupings(UniValue::VARR);\n     std::map<CTxDestination, CAmount> balances = pwallet->GetAddressBalances();\n-    for (std::set<CTxDestination> grouping : pwallet->GetAddressGroupings()) {\n+    for (const std::set<CTxDestination>& grouping : pwallet->GetAddressGroupings()) {\n         UniValue jsonGrouping(UniValue::VARR);\n-        for (CTxDestination address : grouping)\n+        for (const CTxDestination& address : grouping)\n         {\n             UniValue addressInfo(UniValue::VARR);\n-            addressInfo.push_back(CBitcoinAddress(address).ToString());\n+            addressInfo.push_back(EncodeDestination(address));\n             addressInfo.push_back(ValueFromAmount(balances[address]));\n             {\n-                if (pwallet->mapAddressBook.find(CBitcoinAddress(address).Get()) != pwallet->mapAddressBook.end()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135089886",
      "id" : 135089886,
      "in_reply_to_id" : 135051638,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 145,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 145,
      "pull_request_review_id" : 58463181,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135089886",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135090175"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135090175"
         }
      },
      "author_association" : "OWNER",
      "body" : "Wow, thanks :S",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T18:12:30Z",
      "diff_hunk" : "@@ -117,16 +117,14 @@ void SignVerifyMessageDialog::on_signMessageButton_SM_clicked()\n     /* Clear old signature to ensure users don't get confused on error with an old signature displayed */\n     ui->signatureOut_SM->clear();\n \n-    CBitcoinAddress addr(ui->addressIn_SM->text().toStdString());\n-    if (!addr.IsValid())\n-    {\n+    CTxDestination destination = DecodeDestination(ui->addressIn_SM->text().toStdString());\n+    if (!IsValidDestination(destination)) {\n         ui->statusLabel_SM->setStyleSheet(\"QLabel { color: red; }\");\n         ui->statusLabel_SM->setText(tr(\"The entered address is invalid.\") + QString(\" \") + tr(\"Please check the address and try again.\"));\n         return;\n     }\n-    CKeyID keyID;\n-    if (!addr.GetKeyID(keyID))\n-    {\n+    const CKeyID* keyID = boost::get<CKeyID>(&destination);\n+    if (keyID) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135090175",
      "id" : 135090175,
      "in_reply_to_id" : 135034714,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 17,
      "path" : "src/qt/signverifymessagedialog.cpp",
      "position" : null,
      "pull_request_review_id" : 58463514,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135090175",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135092929"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135092929"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Interesting, I didn't know an implicit conversion could be done when extending the lifetime of a const ref. Scary!",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-08-24T18:22:58Z",
      "diff_hunk" : "@@ -82,14 +82,14 @@ class AddressTablePriv\n             LOCK(wallet->cs_wallet);\n             for (const std::pair<CTxDestination, CAddressBookData>& item : wallet->mapAddressBook)\n             {\n-                const CBitcoinAddress& address = item.first;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r135092929",
      "id" : 135092929,
      "in_reply_to_id" : 135028452,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 4,
      "path" : "src/qt/addresstablemodel.cpp",
      "position" : 4,
      "pull_request_review_id" : 58466568,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135092929",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Removed `CBitcoinAddress` entirely, using a commit from #11167.",
      "created_at" : "2017-08-27T17:26:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-325212262",
      "id" : 325212262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-08-27T17:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325212262",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136665819"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136665819"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, sort.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-01T21:09:06Z",
      "diff_hunk" : "@@ -12,6 +12,7 @@\n #include <string.h>\n #include <vector>\n #include <string>\n+#include <algorithm>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136665819",
      "id" : 136665819,
      "original_commit_id" : "4bc71a6cc6f9194d5607d6d94ebd54d8884b5b70",
      "original_position" : 4,
      "path" : "src/base58.cpp",
      "position" : null,
      "pull_request_review_id" : 60242881,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136665819",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136671601"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136671601"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, fix braces.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-01T21:50:02Z",
      "diff_hunk" : "@@ -777,21 +777,20 @@ void SendCoinsDialog::coinControlChangeEdited(const QString& text)\n         CoinControlDialog::coinControl->destChange = CNoDestination();\n         ui->labelCoinControlChangeLabel->setStyleSheet(\"QLabel{color:red;}\");\n \n-        CBitcoinAddress addr = CBitcoinAddress(text.toStdString());\n+        CTxDestination destination = DecodeDestination(text.toStdString());\n \n         if (text.isEmpty()) // Nothing entered\n         {\n             ui->labelCoinControlChangeLabel->setText(\"\");\n         }\n-        else if (!addr.IsValid()) // Invalid address\n+        else if (!IsValidDestination(destination)) // Invalid address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136671601",
      "id" : 136671601,
      "original_commit_id" : "4bc71a6cc6f9194d5607d6d94ebd54d8884b5b70",
      "original_position" : 12,
      "path" : "src/qt/sendcoinsdialog.cpp",
      "position" : null,
      "pull_request_review_id" : 60242881,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136671601",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136672068"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136672068"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could use `currentAddress = request.params[0].get_str();`?",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-01T21:53:32Z",
      "diff_hunk" : "@@ -207,15 +208,14 @@ UniValue validateaddress(const JSONRPCRequest& request)\n     LOCK(cs_main);\n #endif\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    bool isValid = address.IsValid();\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    bool isValid = IsValidDestination(dest);\n \n     UniValue ret(UniValue::VOBJ);\n     ret.push_back(Pair(\"isvalid\", isValid));\n     if (isValid)\n     {\n-        CTxDestination dest = address.Get();\n-        std::string currentAddress = address.ToString();\n+        std::string currentAddress = EncodeDestination(dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136672068",
      "id" : 136672068,
      "original_commit_id" : "4bc71a6cc6f9194d5607d6d94ebd54d8884b5b70",
      "original_position" : 27,
      "path" : "src/rpc/misc.cpp",
      "position" : 27,
      "pull_request_review_id" : 60242881,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136672068",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136724818"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136724818"
         }
      },
      "author_association" : "OWNER",
      "body" : "Fixed.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-03T19:51:41Z",
      "diff_hunk" : "@@ -12,6 +12,7 @@\n #include <string.h>\n #include <vector>\n #include <string>\n+#include <algorithm>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136724818",
      "id" : 136724818,
      "in_reply_to_id" : 136665819,
      "original_commit_id" : "4bc71a6cc6f9194d5607d6d94ebd54d8884b5b70",
      "original_position" : 4,
      "path" : "src/base58.cpp",
      "position" : null,
      "pull_request_review_id" : 60303599,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136724818",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136724828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136724828"
         }
      },
      "author_association" : "OWNER",
      "body" : "Not going to reflow this entire function in a PR intended for backporting.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-03T19:52:03Z",
      "diff_hunk" : "@@ -777,21 +777,20 @@ void SendCoinsDialog::coinControlChangeEdited(const QString& text)\n         CoinControlDialog::coinControl->destChange = CNoDestination();\n         ui->labelCoinControlChangeLabel->setStyleSheet(\"QLabel{color:red;}\");\n \n-        CBitcoinAddress addr = CBitcoinAddress(text.toStdString());\n+        CTxDestination destination = DecodeDestination(text.toStdString());\n \n         if (text.isEmpty()) // Nothing entered\n         {\n             ui->labelCoinControlChangeLabel->setText(\"\");\n         }\n-        else if (!addr.IsValid()) // Invalid address\n+        else if (!IsValidDestination(destination)) // Invalid address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136724828",
      "id" : 136724828,
      "in_reply_to_id" : 136671601,
      "original_commit_id" : "4bc71a6cc6f9194d5607d6d94ebd54d8884b5b70",
      "original_position" : 12,
      "path" : "src/qt/sendcoinsdialog.cpp",
      "position" : null,
      "pull_request_review_id" : 60303605,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136724828",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136724866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136724866"
         }
      },
      "author_association" : "OWNER",
      "body" : "There may be reasons not to do that. Bech32 addresses (added in a later PR) can be uppercase or lowercase, but we always want to store and look up in lowercase form. This is an easy way of doing that, and we should probably check that it's done consistently elsewhere too.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-03T19:53:04Z",
      "diff_hunk" : "@@ -207,15 +208,14 @@ UniValue validateaddress(const JSONRPCRequest& request)\n     LOCK(cs_main);\n #endif\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    bool isValid = address.IsValid();\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    bool isValid = IsValidDestination(dest);\n \n     UniValue ret(UniValue::VOBJ);\n     ret.push_back(Pair(\"isvalid\", isValid));\n     if (isValid)\n     {\n-        CTxDestination dest = address.Get();\n-        std::string currentAddress = address.ToString();\n+        std::string currentAddress = EncodeDestination(dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r136724866",
      "id" : 136724866,
      "in_reply_to_id" : 136672068,
      "original_commit_id" : "4bc71a6cc6f9194d5607d6d94ebd54d8884b5b70",
      "original_position" : 27,
      "path" : "src/rpc/misc.cpp",
      "position" : 27,
      "pull_request_review_id" : 60303627,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136724866",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> Since this is the base for Bech32, maybe move everything related to CTxDestination out of base58, including tests, to a new place.\r\n\r\nYes, read the PR description. I plan to do this, but not in a patch that's intended for backporting.\r\n\r\n> Also move `CTxDestination` definition and related functions from `src/script/standard.h`?\r\n\r\nWhy? To where?",
      "created_at" : "2017-09-03T20:23:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-326828908",
      "id" : 326828908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-03T20:23:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326828908",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/11117/commits/87d5c28583374f1be6273c3620b29b0a505e0191\r\n\r\nthough I do not know the QT stuff well.",
      "created_at" : "2017-09-05T21:55:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327314920",
      "id" : 327314920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-05T21:55:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327314920",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r137140957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137140957"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree, I'm +1 for clear data validation and/or sanitization. Although `encode(decode(data))` is a obscure way of doing it, not to mention `encode(decode(data))` should equal `data`?",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-05T23:36:39Z",
      "diff_hunk" : "@@ -207,15 +208,14 @@ UniValue validateaddress(const JSONRPCRequest& request)\n     LOCK(cs_main);\n #endif\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    bool isValid = address.IsValid();\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    bool isValid = IsValidDestination(dest);\n \n     UniValue ret(UniValue::VOBJ);\n     ret.push_back(Pair(\"isvalid\", isValid));\n     if (isValid)\n     {\n-        CTxDestination dest = address.Get();\n-        std::string currentAddress = address.ToString();\n+        std::string currentAddress = EncodeDestination(dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r137140957",
      "id" : 137140957,
      "in_reply_to_id" : 136672068,
      "original_commit_id" : "4bc71a6cc6f9194d5607d6d94ebd54d8884b5b70",
      "original_position" : 27,
      "path" : "src/rpc/misc.cpp",
      "position" : 27,
      "pull_request_review_id" : 60769887,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137140957",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Removed CBitcoinAddress entirely, using a commit from #11167.\r\n\r\n@sipa missing this commit as `CBitcoinAddress` is still around.",
      "created_at" : "2017-09-05T23:41:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327333436",
      "id" : 327333436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-05T23:41:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327333436",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@promag Yes, I removed it again.\n\nThis PR is just the part that is likely to break easily and need non-trivial rebasing.",
      "created_at" : "2017-09-05T23:44:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327333849",
      "id" : 327333849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-05T23:44:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327333849",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r137145517"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137145517"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This incur in a double decoding since above `IsValidDestination` also decodes. Maybe swap:\r\n```cpp\r\nCTxDestination address = DecodeDestination(rec->address);\r\nif (IsValidDestination(address)) {\r\n```\r\nThis is how it's done multiples times in this PR.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-06T00:13:29Z",
      "diff_hunk" : "@@ -91,9 +91,8 @@ QString TransactionDesc::toHTML(CWallet *wallet, CWalletTx &wtx, TransactionReco\n         if (nNet > 0)\n         {\n             // Credit\n-            if (CBitcoinAddress(rec->address).IsValid())\n-            {\n-                CTxDestination address = CBitcoinAddress(rec->address).Get();\n+            if (IsValidDestination(rec->address)) {\n+                CTxDestination address = DecodeDestination(rec->address);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r137145517",
      "id" : 137145517,
      "original_commit_id" : "87d5c28583374f1be6273c3620b29b0a505e0191",
      "original_position" : 8,
      "path" : "src/qt/transactiondesc.cpp",
      "position" : null,
      "pull_request_review_id" : 60774966,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137145517",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r137145882"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137145882"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could use `!(operator==)` instead?",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-09-06T00:16:03Z",
      "diff_hunk" : "@@ -317,3 +317,7 @@ CScript GetScriptForWitness(const CScript& redeemscript)\n     ret << OP_0 << ToByteVector(hash);\n     return ret;\n }\n+\n+bool IsValidDestination(const CTxDestination& dest) {\n+    return dest.which() != 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r137145882",
      "id" : 137145882,
      "in_reply_to_id" : 135040915,
      "original_commit_id" : "4b1249999ba18a7a7666b6f04037c8202837337c",
      "original_position" : 6,
      "path" : "src/script/standard.cpp",
      "position" : 6,
      "pull_request_review_id" : 60775316,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-09-06T20:07:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137145882",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Not sure if we support this version, but I get the following compile error with clang 3.5.0:\r\n```\r\n/home/user/src/bitcoin/src/qt/signverifymessagedialog.cpp:235:40: error: invalid operands to binary expression ('CTxDestination' (aka 'variant<CNoDestination, CKeyID, CScriptID>') and 'CTxDestination')\r\n    if (CTxDestination(pubkey.GetID()) != destination) {\r\n```\r\nThen a lot of note: candidate function not viable like:\r\n```\r\n/usr/include/x86_64-linux-gnu/qt5/QtCore/qchar.h:544:13: note: candidate function not viable: no known conversion from 'CTxDestination' (aka 'variant<CNoDestination, CKeyID, CScriptID>') to 'QChar' for 1st argument\r\ninline bool operator!=(QChar c1, QChar c2) { return c1.unicode() != c2.unicode(); }\r\n```\r\n\r\nEdit: Ok, to answer my own question @morcos, the 0.13.0 release notes mention:\r\n```\r\nEffectively this means GCC 4.7 or higher, or Clang 3.3 or higher.\r\n```\r\nSo yes we should try to support 3.5.\r\n",
      "created_at" : "2017-09-06T00:20:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327338742",
      "id" : 327338742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-06T00:23:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327338742",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj \r\n\r\nchanging it to \r\n\r\n\r\n    if (!(CTxDestination(pubkey.GetID()) == destination)) {\r\n\r\nprobably fixes it. Ran into this while writing https://github.com/bitcoin/bitcoin/pull/9991",
      "created_at" : "2017-09-06T00:23:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327339172",
      "id" : 327339172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-06T00:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327339172",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I confirm that @JeremyRubin's workaround makes it compile.\r\n\r\nEdit: after discussion it seems likely that this is due to a boost version difference, not a compiler difference.",
      "created_at" : "2017-09-06T00:30:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327340242",
      "id" : 327340242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-06T16:53:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327340242",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@JeremyRubin Fixed",
      "created_at" : "2017-09-06T16:47:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327544596",
      "id" : 327544596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-06T16:47:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327544596",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK eebedca",
      "created_at" : "2017-09-06T19:53:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327594770",
      "id" : 327594770,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-06T19:53:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327594770",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@laanwj Changed to `IsValidDestinationString`.",
      "created_at" : "2017-09-06T20:26:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327603166",
      "id" : 327603166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-06T20:26:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327603166",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK 864cd2787",
      "created_at" : "2017-09-06T20:30:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#issuecomment-327604099",
      "id" : 327604099,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11117",
      "updated_at" : "2017-09-06T20:30:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327604099",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r143325678"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143325678"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Any reason why this was changed from \"Invalid Bitcoin address\" to \"Invalid address\" and the other places left as is. This is part of a error string, so shouldn't break anything I guess.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-10-07T08:05:19Z",
      "diff_hunk" : "@@ -454,9 +457,10 @@ UniValue sendtoaddress(const JSONRPCRequest& request)\n     ObserveSafeMode();\n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n-        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid address\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r143325678",
      "id" : 143325678,
      "original_commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "original_position" : 116,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 116,
      "pull_request_review_id" : 67828157,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-10-07T08:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143325678",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r143326237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143326237"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@achow101 regarding the need for error testing.",
      "commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "created_at" : "2017-10-07T08:41:34Z",
      "diff_hunk" : "@@ -454,9 +457,10 @@ UniValue sendtoaddress(const JSONRPCRequest& request)\n     ObserveSafeMode();\n     LOCK2(cs_main, pwallet->cs_wallet);\n \n-    CBitcoinAddress address(request.params[0].get_str());\n-    if (!address.IsValid())\n-        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    if (!IsValidDestination(dest)) {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid address\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11117#discussion_r143326237",
      "id" : 143326237,
      "in_reply_to_id" : 143325678,
      "original_commit_id" : "864cd278741ab0e17e7d93eedee39417d4797b37",
      "original_position" : 116,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 116,
      "pull_request_review_id" : 67828707,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11117",
      "updated_at" : "2017-10-07T08:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143326237",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
