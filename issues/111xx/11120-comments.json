[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r134954343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134954343"
         }
      },
      "body" : "Remove `or` maybe? I.e. `Result: (empty if proof is invalid)\\n`",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-24T08:21:04Z",
      "diff_hunk" : "@@ -258,19 +258,23 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the blockhash and transactions it commits to\\n\"\n+            \", throwing an RPC error if the block is not in our best chain\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"proof\\\"    (string, required) The hex-encoded proof generated by gettxoutproof\\n\"\n-            \"\\nResult:\\n\"\n-            \"[\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to, or empty array if the proof is invalid\\n\"\n+            \"\\nResult: (or empty if proof is invalid)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r134954343",
      "id" : 134954343,
      "original_commit_id" : "d77cded0b1d026f030ee424b89a01cfd6b7b9000",
      "original_position" : 12,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58306840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T14:28:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134954343",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "updated with nit fix",
      "created_at" : "2017-08-24T13:34:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#issuecomment-324636599",
      "id" : 324636599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11120",
      "updated_at" : "2017-08-24T13:34:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324636599",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135263051"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135263051"
         }
      },
      "body" : "Nit, `,` in the above line?",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T13:50:30Z",
      "diff_hunk" : "@@ -258,19 +258,23 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the blockhash and transactions it commits to\\n\"\n+            \", throwing an RPC error if the block is not in our best chain\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135263051",
      "id" : 135263051,
      "original_commit_id" : "e7f9824f49a8910ef58ad4604e8ea5184dcec8aa",
      "original_position" : 7,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58658246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T14:28:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135263051",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135263165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135263165"
         }
      },
      "body" : "`... the block hash and ...`",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T13:51:04Z",
      "diff_hunk" : "@@ -258,19 +258,23 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the blockhash and transactions it commits to\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135263165",
      "id" : 135263165,
      "original_commit_id" : "e7f9824f49a8910ef58ad4604e8ea5184dcec8aa",
      "original_position" : 6,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58658246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T14:28:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135263165",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135264288"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135264288"
         }
      },
      "body" : "This is breaking change as the result is now an object instead of an array, needs release note.",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T13:56:08Z",
      "diff_hunk" : "@@ -258,19 +258,23 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the blockhash and transactions it commits to\\n\"\n+            \", throwing an RPC error if the block is not in our best chain\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"proof\\\"    (string, required) The hex-encoded proof generated by gettxoutproof\\n\"\n-            \"\\nResult:\\n\"\n-            \"[\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to, or empty array if the proof is invalid\\n\"\n+            \"\\nResult: (empty if proof is invalid)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135264288",
      "id" : 135264288,
      "original_commit_id" : "e7f9824f49a8910ef58ad4604e8ea5184dcec8aa",
      "original_position" : 12,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 12,
      "pull_request_review_id" : 58658246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T14:28:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135264288",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135264478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135264478"
         }
      },
      "body" : "Nit, add curly braces.",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T13:56:53Z",
      "diff_hunk" : "@@ -283,7 +287,10 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found in chain\");\n \n     for (const uint256& hash : vMatch)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135264478",
      "id" : 135264478,
      "original_commit_id" : "e7f9824f49a8910ef58ad4604e8ea5184dcec8aa",
      "original_position" : 32,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58658246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T14:28:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135264478",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135266093"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135266093"
         }
      },
      "body" : "I was gonna mention that but chose not to. Agree though, I think that would look better.",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T14:04:08Z",
      "diff_hunk" : "@@ -258,19 +258,23 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the blockhash and transactions it commits to\\n\"\n+            \", throwing an RPC error if the block is not in our best chain\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135266093",
      "id" : 135266093,
      "in_reply_to_id" : 135263051,
      "original_commit_id" : "e7f9824f49a8910ef58ad4604e8ea5184dcec8aa",
      "original_position" : 7,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58661961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T14:28:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135266093",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "fixed @promag nits, curly-bracketed the surrounding statements since I'm touching it already",
      "created_at" : "2017-08-25T14:07:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#issuecomment-324930717",
      "id" : 324930717,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11120",
      "updated_at" : "2017-08-25T14:07:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324930717",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135271467"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135271467"
         }
      },
      "body" : "Push `blockhash` first.",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T14:26:36Z",
      "diff_hunk" : "@@ -258,32 +258,42 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the block hash and transactions it commits to,\\n\"\n+            \"throwing an RPC error if the block is not in our best chain\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"proof\\\"    (string, required) The hex-encoded proof generated by gettxoutproof\\n\"\n-            \"\\nResult:\\n\"\n-            \"[\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to, or empty array if the proof is invalid\\n\"\n+            \"\\nResult: (empty if proof is invalid)\\n\"\n+            \"{\\n\"\n+            \"    \\\"blockhash\\\"   (string) The blockhash the included proof commits to\\n\"\n+            \"    [\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to\\n\"\n+            \"}\\n\"\n         );\n \n     CDataStream ssMB(ParseHexV(request.params[0], \"proof\"), SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n     CMerkleBlock merkleBlock;\n     ssMB >> merkleBlock;\n \n-    UniValue res(UniValue::VARR);\n+    UniValue res(UniValue::VOBJ);\n+    UniValue txids(UniValue::VARR);\n \n     std::vector<uint256> vMatch;\n     std::vector<unsigned int> vIndex;\n-    if (merkleBlock.txn.ExtractMatches(vMatch, vIndex) != merkleBlock.header.hashMerkleRoot)\n+    if (merkleBlock.txn.ExtractMatches(vMatch, vIndex) != merkleBlock.header.hashMerkleRoot) {\n         return res;\n+    }\n \n     LOCK(cs_main);\n \n-    if (!mapBlockIndex.count(merkleBlock.header.GetHash()) || !chainActive.Contains(mapBlockIndex[merkleBlock.header.GetHash()]))\n+    if (!mapBlockIndex.count(merkleBlock.header.GetHash()) || !chainActive.Contains(mapBlockIndex[merkleBlock.header.GetHash()])) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found in chain\");\n+    }\n+\n+    for (const uint256& hash : vMatch) {\n+        txids.push_back(hash.GetHex());\n+    }\n \n-    for (const uint256& hash : vMatch)\n-        res.push_back(hash.GetHex());\n+    res.push_back(Pair(\"txids\", txids));\n+    res.push_back(Pair(\"blockhash\", merkleBlock.header.GetHash().GetHex()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135271467",
      "id" : 135271467,
      "original_commit_id" : "57d35fff538e07fe043ce147223227ee732d2261",
      "original_position" : 48,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58668396,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T14:28:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135271467",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135367340"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135367340"
         }
      },
      "body" : "I'm curious about the reason for this request. Alphabetical ordering?",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T22:47:33Z",
      "diff_hunk" : "@@ -258,32 +258,42 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the block hash and transactions it commits to,\\n\"\n+            \"throwing an RPC error if the block is not in our best chain\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"proof\\\"    (string, required) The hex-encoded proof generated by gettxoutproof\\n\"\n-            \"\\nResult:\\n\"\n-            \"[\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to, or empty array if the proof is invalid\\n\"\n+            \"\\nResult: (empty if proof is invalid)\\n\"\n+            \"{\\n\"\n+            \"    \\\"blockhash\\\"   (string) The blockhash the included proof commits to\\n\"\n+            \"    [\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to\\n\"\n+            \"}\\n\"\n         );\n \n     CDataStream ssMB(ParseHexV(request.params[0], \"proof\"), SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n     CMerkleBlock merkleBlock;\n     ssMB >> merkleBlock;\n \n-    UniValue res(UniValue::VARR);\n+    UniValue res(UniValue::VOBJ);\n+    UniValue txids(UniValue::VARR);\n \n     std::vector<uint256> vMatch;\n     std::vector<unsigned int> vIndex;\n-    if (merkleBlock.txn.ExtractMatches(vMatch, vIndex) != merkleBlock.header.hashMerkleRoot)\n+    if (merkleBlock.txn.ExtractMatches(vMatch, vIndex) != merkleBlock.header.hashMerkleRoot) {\n         return res;\n+    }\n \n     LOCK(cs_main);\n \n-    if (!mapBlockIndex.count(merkleBlock.header.GetHash()) || !chainActive.Contains(mapBlockIndex[merkleBlock.header.GetHash()]))\n+    if (!mapBlockIndex.count(merkleBlock.header.GetHash()) || !chainActive.Contains(mapBlockIndex[merkleBlock.header.GetHash()])) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found in chain\");\n+    }\n+\n+    for (const uint256& hash : vMatch) {\n+        txids.push_back(hash.GetHex());\n+    }\n \n-    for (const uint256& hash : vMatch)\n-        res.push_back(hash.GetHex());\n+    res.push_back(Pair(\"txids\", txids));\n+    res.push_back(Pair(\"blockhash\", merkleBlock.header.GetHash().GetHex()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135367340",
      "id" : 135367340,
      "in_reply_to_id" : 135271467,
      "original_commit_id" : "57d35fff538e07fe043ce147223227ee732d2261",
      "original_position" : 48,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58779382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T22:47:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135367340",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135371711"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135371711"
         }
      },
      "body" : "Also matches the documentation above.",
      "commit_id" : "9efd4fed2f1b858f05620cdfc9776e8ab483ec68",
      "created_at" : "2017-08-25T23:35:30Z",
      "diff_hunk" : "@@ -258,32 +258,42 @@ UniValue verifytxoutproof(const JSONRPCRequest& request)\n     if (request.fHelp || request.params.size() != 1)\n         throw std::runtime_error(\n             \"verifytxoutproof \\\"proof\\\"\\n\"\n-            \"\\nVerifies that a proof points to a transaction in a block, returning the transaction it commits to\\n\"\n-            \"and throwing an RPC error if the block is not in our best chain\\n\"\n+            \"\\nVerifies that a proof points to a transaction in a block, returning the block hash and transactions it commits to,\\n\"\n+            \"throwing an RPC error if the block is not in our best chain\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"proof\\\"    (string, required) The hex-encoded proof generated by gettxoutproof\\n\"\n-            \"\\nResult:\\n\"\n-            \"[\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to, or empty array if the proof is invalid\\n\"\n+            \"\\nResult: (empty if proof is invalid)\\n\"\n+            \"{\\n\"\n+            \"    \\\"blockhash\\\"   (string) The blockhash the included proof commits to\\n\"\n+            \"    [\\\"txid\\\"]      (array, strings) The txid(s) which the proof commits to\\n\"\n+            \"}\\n\"\n         );\n \n     CDataStream ssMB(ParseHexV(request.params[0], \"proof\"), SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n     CMerkleBlock merkleBlock;\n     ssMB >> merkleBlock;\n \n-    UniValue res(UniValue::VARR);\n+    UniValue res(UniValue::VOBJ);\n+    UniValue txids(UniValue::VARR);\n \n     std::vector<uint256> vMatch;\n     std::vector<unsigned int> vIndex;\n-    if (merkleBlock.txn.ExtractMatches(vMatch, vIndex) != merkleBlock.header.hashMerkleRoot)\n+    if (merkleBlock.txn.ExtractMatches(vMatch, vIndex) != merkleBlock.header.hashMerkleRoot) {\n         return res;\n+    }\n \n     LOCK(cs_main);\n \n-    if (!mapBlockIndex.count(merkleBlock.header.GetHash()) || !chainActive.Contains(mapBlockIndex[merkleBlock.header.GetHash()]))\n+    if (!mapBlockIndex.count(merkleBlock.header.GetHash()) || !chainActive.Contains(mapBlockIndex[merkleBlock.header.GetHash()])) {\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found in chain\");\n+    }\n+\n+    for (const uint256& hash : vMatch) {\n+        txids.push_back(hash.GetHex());\n+    }\n \n-    for (const uint256& hash : vMatch)\n-        res.push_back(hash.GetHex());\n+    res.push_back(Pair(\"txids\", txids));\n+    res.push_back(Pair(\"blockhash\", merkleBlock.header.GetHash().GetHex()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11120#discussion_r135371711",
      "id" : 135371711,
      "in_reply_to_id" : 135271467,
      "original_commit_id" : "57d35fff538e07fe043ce147223227ee732d2261",
      "original_position" : 48,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 58784193,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11120",
      "updated_at" : "2017-08-25T23:35:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135371711",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
