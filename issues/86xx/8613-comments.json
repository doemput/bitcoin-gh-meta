[
   {
      "body" : "Concept ACK",
      "created_at" : "2016-08-28T14:06:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-242976690",
      "id" : 242976690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-08-28T14:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242976690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Configures OK, compiles OK, one warning removed:\r\n\r\n```\r\nleveldb/util/bloom.cc:50:26: warning: comparison of integers of different signs: 'size_t' (aka 'unsigned long') and 'int' [-Wsign-compare]\r\n    for (size_t i = 0; i < n; i++) {\r\n                       ~ ^ ~\r\n1 warning generated.\r\n```\r\n\r\nACK\r\n",
      "created_at" : "2016-08-29T08:14:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-243060550",
      "id" : 243060550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-08-29T08:14:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243060550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Updated to include @laanwj's NewAppendableFile change (see bitcoin-core/leveldb#14). This should be tested on various platforms.",
      "created_at" : "2016-12-02T00:17:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-264336686",
      "id" : 264336686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-12-02T00:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/264336686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I'm testing this on Windows x86_64. Also going to test on ARM/Linux.",
      "created_at" : "2016-12-02T06:55:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-264387056",
      "id" : 264387056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-12-02T06:55:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/264387056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj My understanding is that the NewAppendableFile won't actually be used unless we enable the new options.reuse_logs option.",
      "created_at" : "2016-12-03T02:26:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-264609530",
      "id" : 264609530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-12-03T02:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/264609530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Ehm yes that seems the case. It is used in only two places and both are guarded by `reuse_logs`. I didn't notice the latter point. \r\n```\r\n  // EXPERIMENTAL: If true, append to existing MANIFEST and log files\r\n  // when a database is opened.  This can significantly speed up open.\r\n  //\r\n  // Default: currently false, but may become true later.\r\n  bool reuse_logs;\r\n```\r\nReading the description, speeding up \"open\" isn't really an important concern for us at the moment.\r\nWell at least we can switch the option on now if we wanted... ",
      "created_at" : "2016-12-03T06:31:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-264621004",
      "id" : 264621004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-12-03T06:31:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/264621004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj When you run with a huge dbcache, sync a lot at once, and shutdown, the next startup takes a very long time. I believe that reuse_logs may improve upon that.",
      "created_at" : "2016-12-05T08:36:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-264795271",
      "id" : 264795271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-12-05T08:36:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/264795271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Going to merge this - gives the new version of leveldb some time to be tested in master before 0.14 is released.\r\n\r\n> I believe that reuse_logs may improve upon that.\r\n\r\nThe option is still experimental in leveldb so enabling it by default is probably not a good idea.\r\n\r\nBut I guess we could first add it too as an experimental feature enabled by a command-line argument.\r\n",
      "created_at" : "2016-12-05T09:58:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8613#issuecomment-264812125",
      "id" : 264812125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8613",
      "updated_at" : "2016-12-05T09:58:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/264812125",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
