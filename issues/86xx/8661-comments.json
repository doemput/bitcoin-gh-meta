[
   {
      "body" : "@sipa @EthanHeilman  Is this sensible in your view?",
      "created_at" : "2016-09-03T19:06:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-244564315",
      "id" : 244564315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-03T19:06:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244564315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2016-09-05T09:53:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-244707241",
      "id" : 244707241,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-05T09:53:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244707241",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@gmaxwell utACK. Feeler connections don't currently send addr messages so they would not benefit from this change. I think that is ok for now.\r\n\r\nI plan on investigating the benefits of having feeler connections either send an addr message containing only themselves (if they accept incoming connections) or having feeler connections send a full addr message but that goes beyond the scope of this PR and should be discussed later.",
      "created_at" : "2016-09-06T15:03:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-244979756",
      "id" : 244979756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-06T15:03:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244979756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/274814?v=3",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "body" : "I think there would be a good argument for feeler connections going as far as trying to determine if the peers have distinct chaintips-- and attempting to sync them if they do-- before moving along. But right, orthogonal to this.  Thanks for taking a look.",
      "created_at" : "2016-09-06T20:28:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-245079965",
      "id" : 245079965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-06T20:28:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/245079965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell Can you summarise what the impact of this is please? (as if talking to someone who is unfamiliar with addrman)",
      "created_at" : "2016-09-15T14:59:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-247353422",
      "id" : 247353422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-15T14:59:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247353422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad The node keeps track of when it last heard from a peer and uses this information when trying to figure out who to connect to (esp when connected to no one). Advertisements rumored through third parties have that time artificially increased, because we're getting the information second hand and it might not be correct. But when a peer advertises themselves this information is first hand. ",
      "created_at" : "2016-09-15T16:25:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-247378501",
      "id" : 247378501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-15T16:25:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247378501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK 6d0ced1",
      "created_at" : "2016-09-22T23:26:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-249056967",
      "id" : 249056967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-22T23:26:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249056967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Yes, this makes sense.\r\nutACK https://github.com/bitcoin/bitcoin/pull/8661/commits/6d0ced18655a4f3619a6f478846f3241f1d040f7",
      "created_at" : "2016-09-23T11:55:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-249172756",
      "id" : 249172756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-23T11:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249172756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@gmaxwell thanks for the explanation. I notice that the addresses advertised via 3rd parties go into the same database as the \"last heard from a peer database\" with fake times ranging from 3 to 7 days... why the need to fake anything - why not simply keep a database of nodes actually heard from, and a database of rumored nodes?",
      "created_at" : "2016-09-23T12:41:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-249181568",
      "id" : 249181568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-23T12:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249181568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad The new table is a database of rumored nodes, the tried table is a database of nodes that we have heard from or nodes that we have made an outgoing connection to.\r\n\r\nThe PR #8594 changes the tried table to just be a database of nodes which we have connected to. \r\n\r\nOne idea could be to have three tables: new, tried, heard. I think this is a good idea but it requires careful design to insure it could not be manipulated by an attacker attempting to partition or eclipse a node.\r\n",
      "created_at" : "2016-09-23T18:22:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8661#issuecomment-249266353",
      "id" : 249266353,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8661",
      "updated_at" : "2016-09-23T18:22:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249266353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/274814?v=3",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   }
]
