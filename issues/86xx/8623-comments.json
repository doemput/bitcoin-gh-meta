[
   {
      "body" : "Why not. Concept ACK. ~~What about hiding this option under `showDebug` as this is regtest only?~~",
      "created_at" : "2016-08-29T12:16:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-243107548",
      "id" : 243107548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-08-29T14:06:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243107548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Yes sure, have a look here: https://github.com/Conio/bitcoin/blob/37584b2191d1d7bc8cc39822b488abd989780994/src/init.cpp#L400-L416",
      "created_at" : "2016-08-29T14:01:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-243132374",
      "id" : 243132374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-08-29T14:01:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243132374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7901246?v=3",
         "events_url" : "https://api.github.com/users/daddinuz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/daddinuz/followers",
         "following_url" : "https://api.github.com/users/daddinuz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/daddinuz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/daddinuz",
         "id" : 7901246,
         "login" : "daddinuz",
         "organizations_url" : "https://api.github.com/users/daddinuz/orgs",
         "received_events_url" : "https://api.github.com/users/daddinuz/received_events",
         "repos_url" : "https://api.github.com/users/daddinuz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/daddinuz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/daddinuz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/daddinuz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8623#discussion_r76737943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76737943"
         }
      },
      "body" : "What speaks against directly use\r\n```\r\nconsensus.nSubsidyHalvingInterval = GetArg(\"-halvinginterval\", DEFAULT_REGTEST_HALVING_INTERVAL);\r\n```\r\n\r\n... and remove the `UpdateSubsidyHalvingIntervalParameter` function loop?",
      "commit_id" : "37584b2191d1d7bc8cc39822b488abd989780994",
      "created_at" : "2016-08-30T06:43:47Z",
      "diff_hunk" : "@@ -240,11 +240,13 @@ static CTestNetParams testNetParams;\n /**\n  * Regression test\n  */\n+const int DEFAULT_REGTEST_HALVING_INTERVAL = 150;\n+\n class CRegTestParams : public CChainParams {\n public:\n     CRegTestParams() {\n         strNetworkID = \"regtest\";\n-        consensus.nSubsidyHalvingInterval = 150;\n+        consensus.nSubsidyHalvingInterval = DEFAULT_REGTEST_HALVING_INTERVAL;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#discussion_r76737943",
      "id" : 76737943,
      "original_commit_id" : "37584b2191d1d7bc8cc39822b488abd989780994",
      "original_position" : 11,
      "path" : "src/chainparams.cpp",
      "position" : 11,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8623",
      "updated_at" : "2016-08-30T06:43:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76737943",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Concept ACK.",
      "created_at" : "2016-08-30T06:43:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-243347776",
      "id" : 243347776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-08-30T06:43:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243347776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8623#discussion_r76755919"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76755919"
         }
      },
      "body" : "Yes, that was the initial solution I have opted for, but then I discovered that `CRegTestParams` is constructed before `ReadConfigFile` is called and the hasmaps `GetArg` read were empty, so it returned always the `DEFAULT_REGTEST_HALVING_INTERVAL`. I noticed that few lines below in https://github.com/Conio/bitcoin/blob/37584b2191d1d7bc8cc39822b488abd989780994/src/chainparams.cpp#L344-L347 was used this function to update bip39 parameters so I decided to go for a similar solution.",
      "commit_id" : "37584b2191d1d7bc8cc39822b488abd989780994",
      "created_at" : "2016-08-30T09:01:21Z",
      "diff_hunk" : "@@ -240,11 +240,13 @@ static CTestNetParams testNetParams;\n /**\n  * Regression test\n  */\n+const int DEFAULT_REGTEST_HALVING_INTERVAL = 150;\n+\n class CRegTestParams : public CChainParams {\n public:\n     CRegTestParams() {\n         strNetworkID = \"regtest\";\n-        consensus.nSubsidyHalvingInterval = 150;\n+        consensus.nSubsidyHalvingInterval = DEFAULT_REGTEST_HALVING_INTERVAL;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#discussion_r76755919",
      "id" : 76755919,
      "original_commit_id" : "37584b2191d1d7bc8cc39822b488abd989780994",
      "original_position" : 11,
      "path" : "src/chainparams.cpp",
      "position" : 11,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8623",
      "updated_at" : "2016-08-30T09:01:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76755919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7901246?v=3",
         "events_url" : "https://api.github.com/users/daddinuz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/daddinuz/followers",
         "following_url" : "https://api.github.com/users/daddinuz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/daddinuz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/daddinuz",
         "id" : 7901246,
         "login" : "daddinuz",
         "organizations_url" : "https://api.github.com/users/daddinuz/orgs",
         "received_events_url" : "https://api.github.com/users/daddinuz/received_events",
         "repos_url" : "https://api.github.com/users/daddinuz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/daddinuz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/daddinuz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/daddinuz"
      }
   },
   {
      "body" : "Sorry, I need some help to understand why this is useful, especially why it should be possible to set a halving interval less than it takes the coinbase to mature.\r\n\r\n> test all the possible scenarios that can be faced before or after an halving\r\n\r\nWhat relevant scenarios are there that are not present with the default halving interval? Also, why is there need to test them, considering that there are no plans to change the halving interval for bitcoin main net?",
      "created_at" : "2016-09-16T19:56:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-247693850",
      "id" : 247693850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-09-16T19:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247693850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "You're right @MarcoFalke, I didn't think about an halving interval lower than the coinbase maturity and maybe this should be avoided. Thank you!\r\nBy the way, please let me try to explain my point of view while coding this pull request.\r\nIn our pipeline we run a series of tests which stimulate the generation of more than 150 blocks to be completed. \r\nFar from testing the halving mechanism, we normally generate blocks in order to produce new Bitcoins to be spent in our test scenarios. \r\nAfter a while, though, the reward drops to zero and this causes failures in our CI environment as we can not generate any more Bitcoins.\r\nWe believe this could be a very common scenario in a CI environment.\r\nSince it seems hard to find an arbitrary value which would fit everyone's needs, I thought it could come in handy to leave the choice to developers.\r\nAlso, this would allow to re-run the suite consecutively without having the miners reward to zero after few thousands blocks.",
      "created_at" : "2016-09-19T14:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-248004554",
      "id" : 248004554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-09-19T14:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248004554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7901246?v=3",
         "events_url" : "https://api.github.com/users/daddinuz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/daddinuz/followers",
         "following_url" : "https://api.github.com/users/daddinuz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/daddinuz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/daddinuz",
         "id" : 7901246,
         "login" : "daddinuz",
         "organizations_url" : "https://api.github.com/users/daddinuz/orgs",
         "received_events_url" : "https://api.github.com/users/daddinuz/received_events",
         "repos_url" : "https://api.github.com/users/daddinuz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/daddinuz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/daddinuz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/daddinuz"
      }
   },
   {
      "body" : "You could send smaller amounts in regtest to avoid draining the wallet too fast, but utACK 37584b2 from me.",
      "created_at" : "2016-09-27T19:26:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-249971447",
      "id" : 249971447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-09-27T19:26:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249971447",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Not so sure about this from a design perspective. We've kind of been here. We switched forth and back between mutable and non-mutable parameters in chainparams.cpp:\r\n\r\n- a25fd6be138ff2bff7e2ad6a1a789db523c0193f (#4845) introduced CModifiableParams\r\n- 59bd89f11636e90b2d684e8f411d8d7a88622458 (#5871) removed them again\r\n\r\nThis does the same, in yet another way.\r\nBack then we decided we didn't actually need modifyable parameters for testing.\r\n\r\nDid that change again?",
      "created_at" : "2016-09-28T08:28:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-250104372",
      "id" : 250104372,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-09-28T08:28:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/250104372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The last post may sound excessively negative, I'm not against doing this (again) if it can result in better test coverage. But we should think how to go at it, instead of just slapping on arguments.\r\n\r\nAnother thing proposed as future idea was to be able to load the entire test chain definition from a configuration file. This would be preferable to adding a command line option and special-purpose interface per individual parameter (ping @jtimon).",
      "created_at" : "2016-09-29T05:53:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-250376549",
      "id" : 250376549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-09-29T05:54:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/250376549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Concept ACK. This would be very useful for some of the testing that I do at BitPay.",
      "created_at" : "2016-09-29T19:35:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-250568548",
      "id" : 250568548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-09-29T19:35:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/250568548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4419243?v=3",
         "events_url" : "https://api.github.com/users/gabegattis/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gabegattis/followers",
         "following_url" : "https://api.github.com/users/gabegattis/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gabegattis/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gabegattis",
         "id" : 4419243,
         "login" : "gabegattis",
         "organizations_url" : "https://api.github.com/users/gabegattis/orgs",
         "received_events_url" : "https://api.github.com/users/gabegattis/received_events",
         "repos_url" : "https://api.github.com/users/gabegattis/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gabegattis/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gabegattis/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gabegattis"
      }
   },
   {
      "body" : "Closing this for now. The patch itself looks fine and is of good quality, but it is not clear that we want to take this direction. Please feel free to open an issue to track ideas/brainstorm on this topic.",
      "created_at" : "2016-10-18T19:07:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8623#issuecomment-254607823",
      "id" : 254607823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8623",
      "updated_at" : "2016-10-18T19:07:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254607823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
