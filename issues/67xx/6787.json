{
   "assignee" : null,
   "body" : "there two transaction, because  bitcoin malleability attack ,the transaction 3bb876013ffdac65ada2b89b042212a5f12750aeb97d1019950c83354985402c be confirmed.so the other transaction  cdec67e52e7f7c73256bcd4dc07d8b7d4d1d8326faea396d189fb81612eed7ba  will be invalid,and not in mempool. but when i run below the invalid transaction cdec67e52e7f7c73256bcd4dc07d8b7d4d1d8326faea396d189fb81612eed7ba  still in mempool.\r\nsee below:\r\n<pre><code>[root@centos]# bitcoin-cli getrawtransaction 3bb876013ffdac65ada2b89b042212a5f12750aeb97d1019950c83354985402c 1\r\n{\r\n    \"hex\" : \"0100000001a1240e62b297f2152826ebe23fc73ad5f022b86acd53a9ff3ce9a152ff41ef82010000006b483045022031745451764c82722921f74603c956e0b679085f62b0ea64ba7f8799ffd440b2022100fd4c4d98a7706abdbeef8796480dc0e56dd2d767e16db2c7d8f23ba04efa28060121022c495c8dfd8be23a268843865b3220dfd08310c55079ab0de59a8fb7a28a8872feffffff02aba27a12000000001976a9145cbfc7b26c28233adc77c4fa7aea27a7ea648d9088accd162029000000001976a914df3b8fdc90efa2c6ca508d5e5ef2b55039cd1c4388ace0c40500\",\r\n    \"txid\" : \"3bb876013ffdac65ada2b89b042212a5f12750aeb97d1019950c83354985402c\",\r\n    \"version\" : 1,\r\n    \"locktime\" : 378080,\r\n    \"vin\" : [\r\n        {\r\n            \"txid\" : \"82ef41ff52a1e93cffa953cd6ab822f0d53ac73fe2eb262815f297b2620e24a1\",\r\n            \"vout\" : 1,\r\n            \"scriptSig\" : {\r\n                \"asm\" : \"3045022031745451764c82722921f74603c956e0b679085f62b0ea64ba7f8799ffd440b2022100fd4c4d98a7706abdbeef8796480dc0e56dd2d767e16db2c7d8f23ba04efa280601 022c495c8dfd8be23a268843865b3220dfd08310c55079ab0de59a8fb7a28a8872\",\r\n                \"hex\" : \"483045022031745451764c82722921f74603c956e0b679085f62b0ea64ba7f8799ffd440b2022100fd4c4d98a7706abdbeef8796480dc0e56dd2d767e16db2c7d8f23ba04efa28060121022c495c8dfd8be23a268843865b3220dfd08310c55079ab0de59a8fb7a28a8872\"\r\n            },\r\n            \"sequence\" : 4294967294\r\n        }\r\n    ],\r\n    \"vout\" : [\r\n        {\r\n            \"value\" : 3.10026923,\r\n            \"n\" : 0,\r\n            \"scriptPubKey\" : {\r\n                \"asm\" : \"OP_DUP OP_HASH160 5cbfc7b26c28233adc77c4fa7aea27a7ea648d90 OP_EQUALVERIFY OP_CHECKSIG\",\r\n                \"hex\" : \"76a9145cbfc7b26c28233adc77c4fa7aea27a7ea648d9088ac\",\r\n                \"reqSigs\" : 1,\r\n                \"type\" : \"pubkeyhash\",\r\n                \"addresses\" : [\r\n                    \"19TQum92fZfCNrTHWoazwd3UHXEf8htqow\"\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"value\" : 6.89968845,\r\n            \"n\" : 1,\r\n            \"scriptPubKey\" : {\r\n                \"asm\" : \"OP_DUP OP_HASH160 df3b8fdc90efa2c6ca508d5e5ef2b55039cd1c43 OP_EQUALVERIFY OP_CHECKSIG\",\r\n                \"hex\" : \"76a914df3b8fdc90efa2c6ca508d5e5ef2b55039cd1c4388ac\",\r\n                \"reqSigs\" : 1,\r\n                \"type\" : \"pubkeyhash\",\r\n                \"addresses\" : [\r\n                    \"1MMM3DWWcDU6ZAw74huLi8daoztr6M4gd7\"\r\n                ]\r\n            }\r\n        }\r\n    ],\r\n    \"blockhash\" : \"00000000000000000d1ce717c49be25b22be331913e3f2d1337788036f2e3c49\",\r\n    \"confirmations\" : 30,\r\n    \"time\" : 1444369147,\r\n    \"blocktime\" : 1444369147\r\n}\r\n[root@centos ]# bitcoin-cli getrawtransaction cdec67e52e7f7c73256bcd4dc07d8b7d4d1d8326faea396d189fb81612eed7ba 1\r\n{\r\n    \"hex\" : \"0100000001a1240e62b297f2152826ebe23fc73ad5f022b86acd53a9ff3ce9a152ff41ef82010000006a473044022031745451764c82722921f74603c956e0b679085f62b0ea64ba7f8799ffd440b2022002b3b267588f954241107869b7f23f194cdc057ecddaed73e6e022ec813c193b0121022c495c8dfd8be23a268843865b3220dfd08310c55079ab0de59a8fb7a28a8872feffffff02aba27a12000000001976a9145cbfc7b26c28233adc77c4fa7aea27a7ea648d9088accd162029000000001976a914df3b8fdc90efa2c6ca508d5e5ef2b55039cd1c4388ace0c40500\",\r\n    \"txid\" : \"cdec67e52e7f7c73256bcd4dc07d8b7d4d1d8326faea396d189fb81612eed7ba\",\r\n    \"version\" : 1,\r\n    \"locktime\" : 378080,\r\n    \"vin\" : [\r\n        {\r\n            \"txid\" : \"82ef41ff52a1e93cffa953cd6ab822f0d53ac73fe2eb262815f297b2620e24a1\",\r\n            \"vout\" : 1,\r\n            \"scriptSig\" : {\r\n                \"asm\" : \"3044022031745451764c82722921f74603c956e0b679085f62b0ea64ba7f8799ffd440b2022002b3b267588f954241107869b7f23f194cdc057ecddaed73e6e022ec813c193b01 022c495c8dfd8be23a268843865b3220dfd08310c55079ab0de59a8fb7a28a8872\",\r\n                \"hex\" : \"473044022031745451764c82722921f74603c956e0b679085f62b0ea64ba7f8799ffd440b2022002b3b267588f954241107869b7f23f194cdc057ecddaed73e6e022ec813c193b0121022c495c8dfd8be23a268843865b3220dfd08310c55079ab0de59a8fb7a28a8872\"\r\n            },\r\n            \"sequence\" : 4294967294\r\n        }\r\n    ],\r\n    \"vout\" : [\r\n        {\r\n            \"value\" : 3.10026923,\r\n            \"n\" : 0,\r\n            \"scriptPubKey\" : {\r\n                \"asm\" : \"OP_DUP OP_HASH160 5cbfc7b26c28233adc77c4fa7aea27a7ea648d90 OP_EQUALVERIFY OP_CHECKSIG\",\r\n                \"hex\" : \"76a9145cbfc7b26c28233adc77c4fa7aea27a7ea648d9088ac\",\r\n                \"reqSigs\" : 1,\r\n                \"type\" : \"pubkeyhash\",\r\n                \"addresses\" : [\r\n                    \"19TQum92fZfCNrTHWoazwd3UHXEf8htqow\"\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"value\" : 6.89968845,\r\n            \"n\" : 1,\r\n            \"scriptPubKey\" : {\r\n                \"asm\" : \"OP_DUP OP_HASH160 df3b8fdc90efa2c6ca508d5e5ef2b55039cd1c43 OP_EQUALVERIFY OP_CHECKSIG\",\r\n                \"hex\" : \"76a914df3b8fdc90efa2c6ca508d5e5ef2b55039cd1c4388ac\",\r\n                \"reqSigs\" : 1,\r\n                \"type\" : \"pubkeyhash\",\r\n                \"addresses\" : [\r\n                    \"1MMM3DWWcDU6ZAw74huLi8daoztr6M4gd7\"\r\n                ]\r\n            }\r\n        }\r\n    ],\r\n    \"blockhash\" : \"0000000000000000030ad9ac88e664eff0a6de343a086dea5bba708e052227aa\",\r\n    \"confirmations\" : 0\r\n}\r\n[root@centos ]# bitcoin-cli getinfo\r\n{\r\n    \"version\" : 100200,\r\n    \"protocolversion\" : 70002,\r\n    \"walletversion\" : 60000,\r\n    \"balance\" : 0.00000000,\r\n    \"blocks\" : 378121,\r\n    \"timeoffset\" : 523,\r\n    \"connections\" : 49,\r\n    \"proxy\" : \"\",\r\n    \"difficulty\" : 60813224039.44034576,\r\n    \"testnet\" : false,\r\n    \"keypoololdest\" : 1426660142,\r\n    \"keypoolsize\" : 101,\r\n    \"paytxfee\" : 0.00000000,\r\n    \"relayfee\" : 0.00001000,\r\n    \"errors\" : \"\"\r\n}\r\n\r\n</pre></code>\r\n\r\nit's a bug !",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6787/comments",
   "created_at" : "2015-10-09T09:14:35Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6787/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/6787",
   "id" : 110618881,
   "labels" : [
      {
         "color" : "fbca04",
         "name" : "UTXO Db and Indexes",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6787/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 6787,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Transactions in stale blocks still show in txindex",
   "updated_at" : "2016-01-09T04:15:15Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6787",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6994201?v=3",
      "events_url" : "https://api.github.com/users/maiiz/events{/privacy}",
      "followers_url" : "https://api.github.com/users/maiiz/followers",
      "following_url" : "https://api.github.com/users/maiiz/following{/other_user}",
      "gists_url" : "https://api.github.com/users/maiiz/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/maiiz",
      "id" : 6994201,
      "login" : "maiiz",
      "organizations_url" : "https://api.github.com/users/maiiz/orgs",
      "received_events_url" : "https://api.github.com/users/maiiz/received_events",
      "repos_url" : "https://api.github.com/users/maiiz/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/maiiz/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/maiiz/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/maiiz"
   }
}
