[
   {
      "body" : "@ryanofsky This seems like overkill. How about https://github.com/theuni/bitcoin/commit/b493819ac800c6ba2c34b15ab9a11c8bd2d0c1f2 ?\r\n\r\nAfaik, the minimal platform is available everywhere, and seems to be enough to make this work.\r\n\r\n(this needs a bit of extra configure logic though, so that we don't disable all of qt in the rare event that qminimal is missing).",
      "created_at" : "2017-03-30T01:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10117#issuecomment-290275236",
      "id" : 290275236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10117",
      "updated_at" : "2017-03-30T01:29:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290275236",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Interesting, I didn't know about the minimal platform. If you like, I can use your change as a starting point and try to add the needed configuration logic. I'd also like to keep optional support for the regular platforms, because it can be useful to show or interact with widgets while debugging the test.",
      "created_at" : "2017-03-30T02:21:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10117#issuecomment-290282855",
      "id" : 290282855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10117",
      "updated_at" : "2017-03-30T02:21:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290282855",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Sure. You can just make it minimal by default, and overridable to something else.\r\n\r\nFwiw, you can use either \"-platform minimal\" or use the QT_QPA_PLATFORM env. The env was easier for a poc, but maybe you'll want to set the platform arg if there's not one set already.",
      "created_at" : "2017-03-30T02:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10117#issuecomment-290286431",
      "id" : 290286431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10117",
      "updated_at" : "2017-03-30T02:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290286431",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Closing this in favor of #10142.\r\n\r\n> this needs a bit of extra configure logic though, so that we don't disable all of qt in the rare event that qminimal is missing\r\n\r\nIt seems easier to just require the minimal platform, unless there are cases where you think this isn't a reasonable requirement. Adding extra configure logic to make the check for `-lqminimal` nonfatal in a static Qt build isn't enough to know whether the `setenv(QT_QPA_PLATFORM)` call will be safe, so the test could still fail without more runtime code, which seems not worth writing.\r\n",
      "created_at" : "2017-04-03T15:19:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10117#issuecomment-291175634",
      "id" : 291175634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10117",
      "updated_at" : "2017-04-03T15:19:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/291175634",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
