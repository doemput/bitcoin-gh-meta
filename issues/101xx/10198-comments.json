[
   {
      "body" : "closing until #10143 is merged",
      "created_at" : "2017-04-12T16:08:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-293628029",
      "id" : 293628029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-04-12T16:08:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/293628029",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "#10143 is now merged, so rebasing and re-opening this.\r\n\r\n@kallewoof - you've been working on listsinceblock recently. Do you mind reviewing this and letting me know what you think?",
      "created_at" : "2017-04-20T15:15:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-295774364",
      "id" : 295774364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-04-20T15:15:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/295774364",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112571700"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112571700"
         }
      },
      "body" : "This seems like it would be made better as the for loop condition:\r\n\r\n    for _ in range(50): \r\n        ...\r\n        time.sleep(0.1)\r\n    else:\r\n        assert 0, \"timed out waiting for disconnect\"\r\n\r\nAt least for me, that's a bit easier to read.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:10:09Z",
      "diff_hunk" : "@@ -385,6 +385,17 @@ def set_node_times(nodes, t):\n     for node in nodes:\n         node.setmocktime(t)\n \n+def disconnect_nodes(from_connection, node_num):\n+    timeout = 5\n+    while True:\n+        peer_ids = [peer['id'] for peer in from_connection.getpeerinfo() if \"testnode%d\" % node_num in peer['subver']]\n+        if not peer_ids:\n+            break\n+        [from_connection.disconnectnode(nodeid=peer_id) for peer_id in peer_ids]\n+        assert timeout > 0.1, \"timed out waiting for disconnect\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112571700",
      "id" : 112571700,
      "original_commit_id" : "c5881ae81539e7d4a81b8572422e09356179678b",
      "original_position" : 20,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112571700",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112572078"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112572078"
         }
      },
      "body" : "This happens every time through the loop. Is that your intention? Doesn't this only have to be done once?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:12:52Z",
      "diff_hunk" : "@@ -385,6 +385,17 @@ def set_node_times(nodes, t):\n     for node in nodes:\n         node.setmocktime(t)\n \n+def disconnect_nodes(from_connection, node_num):\n+    timeout = 5\n+    while True:\n+        peer_ids = [peer['id'] for peer in from_connection.getpeerinfo() if \"testnode%d\" % node_num in peer['subver']]\n+        if not peer_ids:\n+            break\n+        [from_connection.disconnectnode(nodeid=peer_id) for peer_id in peer_ids]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112572078",
      "id" : 112572078,
      "original_commit_id" : "c5881ae81539e7d4a81b8572422e09356179678b",
      "original_position" : 19,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112572078",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112572382"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112572382"
         }
      },
      "body" : "If you're going to do this, why not just a single for loop?\r\n\r\n    for group in node_groups:\r\n        sync_blocks(group)\r\n        sync_mempools(group)\r\n\r\nFor me, that's a little easier to read.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:14:54Z",
      "diff_hunk" : "@@ -85,15 +85,15 @@ def split_network(self):\n         stop_nodes(self.nodes)\n         self.setup_network(True)\n \n-    def sync_all(self):\n-        if self.is_network_split:\n-            sync_blocks(self.nodes[:2])\n-            sync_blocks(self.nodes[2:])\n-            sync_mempools(self.nodes[:2])\n-            sync_mempools(self.nodes[2:])\n-        else:\n-            sync_blocks(self.nodes)\n-            sync_mempools(self.nodes)\n+    def sync_all(self, node_groups=None):\n+        if not node_groups:\n+            if hasattr(self, \"is_network_split\") and self.is_network_split:\n+                node_groups = [self.nodes[:2], self.nodes[2:]]\n+            else:\n+                node_groups = [self.nodes]\n+\n+        [sync_blocks(group) for group in node_groups]\n+        [sync_mempools(group) for group in node_groups]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112572382",
      "id" : 112572382,
      "original_commit_id" : "ec27a4bc915e52a8668d74b27a84470163a3f7f3",
      "original_position" : 21,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112572382",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112572993"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112572993"
         }
      },
      "body" : "Shouldn't this go in `__init__`?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:19:07Z",
      "diff_hunk" : "@@ -21,15 +21,11 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 2\n         self.setup_clean_chain = False\n+        self.extra_args = [[], [\"-acceptnonstdtxn=0\"]]\n \n-    def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir))\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-acceptnonstdtxn=0\"]))\n+    def run_test(self):\n         self.relayfee = self.nodes[0].getnetworkinfo()[\"relayfee\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112572993",
      "id" : 112572993,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 11,
      "path" : "test/functional/bip68-sequence.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112572993",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573088"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573088"
         }
      },
      "body" : "Doesn't this or `setup_nodes` need to be called at some point?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:19:54Z",
      "diff_hunk" : "@@ -21,15 +21,11 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 2\n         self.setup_clean_chain = False\n+        self.extra_args = [[], [\"-acceptnonstdtxn=0\"]]\n \n-    def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir))\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-acceptnonstdtxn=0\"]))\n+    def run_test(self):\n         self.relayfee = self.nodes[0].getnetworkinfo()[\"relayfee\"]\n-        connect_nodes(self.nodes[0], 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573088",
      "id" : 112573088,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 12,
      "path" : "test/functional/bip68-sequence.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573088",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573217"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573217"
         }
      },
      "body" : "Shouldn't this have an empty list first? Node 0 has no opts, Node 1 has blockversion=2, etc?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:20:51Z",
      "diff_hunk" : "@@ -12,12 +12,10 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 3\n         self.setup_clean_chain = False\n+        self.extra_args = [[\"-blockversion=2\"], [\"-blockversion=3\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573217",
      "id" : 112573217,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 4,
      "path" : "test/functional/bipdersig.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573217",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573551"
         }
      },
      "body" : "shouldn't this be in `__init__`?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:23:26Z",
      "diff_hunk" : "@@ -9,20 +9,17 @@\n \n class MempoolLimitTest(BitcoinTestFramework):\n \n-    def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-maxmempool=5\", \"-spendzeroconfchange=0\"]))\n-        self.sync_all()\n-        self.relayfee = self.nodes[0].getnetworkinfo()['relayfee']\n-\n     def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n+        self.extra_args = [[\"-maxmempool=5\", \"-spendzeroconfchange=0\"]]\n \n+    def run_test(self):\n         self.txouts = gen_return_txouts()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573551",
      "id" : 112573551,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 17,
      "path" : "test/functional/mempool_limit.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573551",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573652"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573652"
         }
      },
      "body" : "keep comment?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:24:08Z",
      "diff_hunk" : "@@ -22,12 +22,7 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 1\n         self.setup_clean_chain = False\n-\n-    def setup_network(self):\n-        # Just need one node for this test",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112573652",
      "id" : 112573652,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 6,
      "path" : "test/functional/mempool_spendcoinbase.py",
      "position" : 6,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112573652",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574113"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574113"
         }
      },
      "body" : "isn't this necessary?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:26:59Z",
      "diff_hunk" : "@@ -73,10 +73,6 @@ def __init__(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = False\n \n-    def setup_network(self):\n-        self.nodes = self.setup_nodes()\n-        connect_nodes_bi(self.nodes, 0, 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574113",
      "id" : 112574113,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 6,
      "path" : "test/functional/getblocktemplate_proposals.py",
      "position" : 6,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574113",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574315"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574315"
         }
      },
      "body" : "do you need the `sync_all` ?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:28:34Z",
      "diff_hunk" : "@@ -12,12 +12,10 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 3\n         self.setup_clean_chain = False\n+        self.extra_args = [[], [\"-blockversion=3\"], [\"-blockversion=4\"]]\n \n     def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, []))\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-blockversion=3\"]))\n-        self.nodes.append(start_node(2, self.options.tmpdir, [\"-blockversion=4\"]))\n+        self.setup_nodes()\n         connect_nodes(self.nodes[1], 0)\n         connect_nodes(self.nodes[2], 0)\n         self.sync_all()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574315",
      "id" : 112574315,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 14,
      "path" : "test/functional/bip65-cltv.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574315",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574387"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574387"
         }
      },
      "body" : "Necessary?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:29:00Z",
      "diff_hunk" : "@@ -12,12 +12,10 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 3\n         self.setup_clean_chain = False\n+        self.extra_args = [[\"-blockversion=2\"], [\"-blockversion=3\"]]\n \n     def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, []))\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-blockversion=2\"]))\n-        self.nodes.append(start_node(2, self.options.tmpdir, [\"-blockversion=3\"]))\n+        self.setup_nodes()\n         connect_nodes(self.nodes[1], 0)\n         connect_nodes(self.nodes[2], 0)\n         self.sync_all()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574387",
      "id" : 112574387,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 14,
      "path" : "test/functional/bipdersig.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574387",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574494"
         }
      },
      "body" : "This is the same as the parent, no? Can be deleted?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:29:47Z",
      "diff_hunk" : "@@ -12,8 +12,8 @@ def __init__(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n \n-    def setup_network(self, split=False):\n-        self.nodes = start_nodes(2, self.options.tmpdir)\n+    def setup_network(self):\n+        self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574494",
      "id" : 112574494,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 7,
      "path" : "test/functional/importmulti.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574494",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574518"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574518"
         }
      },
      "body" : "Deleted?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:29:58Z",
      "diff_hunk" : "@@ -8,19 +8,15 @@\n from test_framework.util import *\n \n class InvalidateTest(BitcoinTestFramework):\n-    \n-        \n+\n     def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n \n     def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir))\n-        self.nodes.append(start_node(1, self.options.tmpdir))\n-        self.nodes.append(start_node(2, self.options.tmpdir))\n-        \n+        self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574518",
      "id" : 112574518,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 18,
      "path" : "test/functional/invalidateblock.py",
      "position" : 19,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574518",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574612"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574612"
         }
      },
      "body" : "Also in `__init__`?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:30:47Z",
      "diff_hunk" : "@@ -9,20 +9,17 @@\n \n class MempoolLimitTest(BitcoinTestFramework):\n \n-    def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-maxmempool=5\", \"-spendzeroconfchange=0\"]))\n-        self.sync_all()\n-        self.relayfee = self.nodes[0].getnetworkinfo()['relayfee']\n-\n     def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n+        self.extra_args = [[\"-maxmempool=5\", \"-spendzeroconfchange=0\"]]\n \n+    def run_test(self):\n         self.txouts = gen_return_txouts()\n \n-    def run_test(self):\n+        self.relayfee = self.nodes[0].getnetworkinfo()['relayfee']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574612",
      "id" : 112574612,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 20,
      "path" : "test/functional/mempool_limit.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574612",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574737"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574737"
         }
      },
      "body" : "delete?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:31:47Z",
      "diff_hunk" : "@@ -98,17 +98,13 @@ def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 2\n+        self.extra_args = [[], [\"-whitelist=127.0.0.1\"]]\n \n     def setup_network(self):\n         # Node0 will be used to test behavior of processing unrequested blocks\n         # from peers which are not whitelisted, while Node1 will be used for\n         # the whitelisted case.\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir,\n-                                     binary=self.options.testbinary))\n-        self.nodes.append(start_node(1, self.options.tmpdir,\n-                                     [\"-whitelist=127.0.0.1\"],\n-                                     binary=self.options.testbinary))\n+        self.nodes = self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574737",
      "id" : 112574737,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 16,
      "path" : "test/functional/p2p-acceptblock.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574737",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574794"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574794"
         }
      },
      "body" : "not needed?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:32:10Z",
      "diff_hunk" : "@@ -183,17 +183,13 @@ def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n+        self.extra_args = [[\"-whitelist=127.0.0.1\"], [\"-whitelist=127.0.0.1\", \"-acceptnonstdtxn=0\"], [\"-whitelist=127.0.0.1\", \"-bip9params=segwit:0:0\"]]\n \n     def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-whitelist=127.0.0.1\"]))\n-        # Start a node for testing IsStandard rules.\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-whitelist=127.0.0.1\", \"-acceptnonstdtxn=0\"]))\n+        self.nodes = self.setup_nodes()\n         connect_nodes(self.nodes[0], 1)\n-\n-        # Disable segwit's bip9 parameter to simulate upgrading after activation.\n-        self.nodes.append(start_node(2, self.options.tmpdir, [\"-whitelist=127.0.0.1\", \"-bip9params=segwit:0:0\"]))\n         connect_nodes(self.nodes[0], 2)\n+        self.sync_all()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574794",
      "id" : 112574794,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 17,
      "path" : "test/functional/p2p-segwit.py",
      "position" : 17,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574794",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574813"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574813"
         }
      },
      "body" : "delete?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:32:19Z",
      "diff_hunk" : "@@ -72,11 +72,10 @@ def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 2\n+        self.extra_args = [[\"-peerbloomfilters=0\"]]\n \n     def setup_network(self):\n-        # Start a node with maxuploadtarget of 200 MB (/24h)\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-peerbloomfilters=0\"]))\n+        self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574813",
      "id" : 112574813,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 10,
      "path" : "test/functional/p2p-mempool.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574813",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574968"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574968"
         }
      },
      "body" : "why did this move from `__init__`?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:33:32Z",
      "diff_hunk" : "@@ -331,6 +322,14 @@ def wallet_test(self):\n     def run_test(self):\n         self.log.info(\"Warning! This test requires 4GB of disk space and takes over 30 mins (up to 2 hours)\")\n         self.log.info(\"Mining a big blockchain of 995 blocks\")\n+\n+        # Determine default relay fee\n+        self.relayfee = self.nodes[0].getnetworkinfo()[\"relayfee\"]\n+\n+        # Cache for utxos, as the listunspent may take a long time later in the test\n+        self.utxo_cache_0 = []\n+        self.utxo_cache_1 = []",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112574968",
      "id" : 112574968,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 53,
      "path" : "test/functional/pruning.py",
      "position" : 54,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112574968",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112575013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112575013"
         }
      },
      "body" : "`self.setup_nodes()` or `super().setup_network()`?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-20T22:33:52Z",
      "diff_hunk" : "@@ -24,20 +24,9 @@ def __init__(self):\n         self.num_nodes = 3\n \n     def setup_network(self, split=False):\n-        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir)\n-\n-        #connect to a local machine for debugging\n-        #url = \"http://bitcoinrpc:DP6DvqZtqXarpeNWyN3LZTFchCCyCUuHwNF7E8pX99x1@%s:%d\" % ('127.0.0.1', 18332)\n-        #proxy = AuthServiceProxy(url)\n-        #proxy.url = url # store URL on proxy for info\n-        #self.nodes.append(proxy)\n-\n-        connect_nodes_bi(self.nodes,0,1)\n-        connect_nodes_bi(self.nodes,1,2)\n+        super().setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r112575013",
      "id" : 112575013,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 14,
      "path" : "test/functional/rawtransactions.py",
      "position" : null,
      "pull_request_review_id" : 33898720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112575013",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "body" : "ACK b9e9ef2415e3df508b0c0663502e60196bc37f0f\r\n\r\nNice, -231 lines of code. :) The listsinceblock stuff looks fine to me. I ran tests and only briefly looked at code changes for other tests.",
      "created_at" : "2017-04-21T01:52:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-296010748",
      "id" : 296010748,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-04-21T01:52:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296010748",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "@fanquake Can you label this Tests?",
      "created_at" : "2017-04-24T13:53:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-296675467",
      "id" : 296675467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-04-24T13:53:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296675467",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113221114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113221114"
         }
      },
      "body" : "It *should* only need to be called once, but I called this every loop in case either:\r\n\r\n- `disconnectnode` fails for one of the nodes and we need to rerun it.\r\n- a new connection to the node is added while we're in the loop.\r\n\r\nI don't think either of those should happen, so we can probably just remove this.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:04:05Z",
      "diff_hunk" : "@@ -385,6 +385,17 @@ def set_node_times(nodes, t):\n     for node in nodes:\n         node.setmocktime(t)\n \n+def disconnect_nodes(from_connection, node_num):\n+    timeout = 5\n+    while True:\n+        peer_ids = [peer['id'] for peer in from_connection.getpeerinfo() if \"testnode%d\" % node_num in peer['subver']]\n+        if not peer_ids:\n+            break\n+        [from_connection.disconnectnode(nodeid=peer_id) for peer_id in peer_ids]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113221114",
      "id" : 113221114,
      "original_commit_id" : "c5881ae81539e7d4a81b8572422e09356179678b",
      "original_position" : 19,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113221114",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113222663"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113222663"
         }
      },
      "body" : "yes, makes sense. Changed",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:09:31Z",
      "diff_hunk" : "@@ -385,6 +385,17 @@ def set_node_times(nodes, t):\n     for node in nodes:\n         node.setmocktime(t)\n \n+def disconnect_nodes(from_connection, node_num):\n+    timeout = 5\n+    while True:\n+        peer_ids = [peer['id'] for peer in from_connection.getpeerinfo() if \"testnode%d\" % node_num in peer['subver']]\n+        if not peer_ids:\n+            break\n+        [from_connection.disconnectnode(nodeid=peer_id) for peer_id in peer_ids]\n+        assert timeout > 0.1, \"timed out waiting for disconnect\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113222663",
      "id" : 113222663,
      "original_commit_id" : "c5881ae81539e7d4a81b8572422e09356179678b",
      "original_position" : 20,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113222663",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113223740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113223740"
         }
      },
      "body" : "should be `super().setup_network()`. Fixed",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:12:32Z",
      "diff_hunk" : "@@ -24,20 +24,9 @@ def __init__(self):\n         self.num_nodes = 3\n \n     def setup_network(self, split=False):\n-        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir)\n-\n-        #connect to a local machine for debugging\n-        #url = \"http://bitcoinrpc:DP6DvqZtqXarpeNWyN3LZTFchCCyCUuHwNF7E8pX99x1@%s:%d\" % ('127.0.0.1', 18332)\n-        #proxy = AuthServiceProxy(url)\n-        #proxy.url = url # store URL on proxy for info\n-        #self.nodes.append(proxy)\n-\n-        connect_nodes_bi(self.nodes,0,1)\n-        connect_nodes_bi(self.nodes,1,2)\n+        super().setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113223740",
      "id" : 113223740,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 14,
      "path" : "test/functional/rawtransactions.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113223740",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113224438"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113224438"
         }
      },
      "body" : "Because I'd really prefer `__init__()` to only set up the network topology. (eventually I think we should try to move away from individual test cases overriding the `__init__()` method entirely).",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:14:43Z",
      "diff_hunk" : "@@ -331,6 +322,14 @@ def wallet_test(self):\n     def run_test(self):\n         self.log.info(\"Warning! This test requires 4GB of disk space and takes over 30 mins (up to 2 hours)\")\n         self.log.info(\"Mining a big blockchain of 995 blocks\")\n+\n+        # Determine default relay fee\n+        self.relayfee = self.nodes[0].getnetworkinfo()[\"relayfee\"]\n+\n+        # Cache for utxos, as the listunspent may take a long time later in the test\n+        self.utxo_cache_0 = []\n+        self.utxo_cache_1 = []",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113224438",
      "id" : 113224438,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 53,
      "path" : "test/functional/pruning.py",
      "position" : 54,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113224438",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113224723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113224723"
         }
      },
      "body" : "probably not, but I don't see any harm in calling `sync_all()` once all connections have been added.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:15:34Z",
      "diff_hunk" : "@@ -183,17 +183,13 @@ def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n+        self.extra_args = [[\"-whitelist=127.0.0.1\"], [\"-whitelist=127.0.0.1\", \"-acceptnonstdtxn=0\"], [\"-whitelist=127.0.0.1\", \"-bip9params=segwit:0:0\"]]\n \n     def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-whitelist=127.0.0.1\"]))\n-        # Start a node for testing IsStandard rules.\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-whitelist=127.0.0.1\", \"-acceptnonstdtxn=0\"]))\n+        self.nodes = self.setup_nodes()\n         connect_nodes(self.nodes[0], 1)\n-\n-        # Disable segwit's bip9 parameter to simulate upgrading after activation.\n-        self.nodes.append(start_node(2, self.options.tmpdir, [\"-whitelist=127.0.0.1\", \"-bip9params=segwit:0:0\"]))\n         connect_nodes(self.nodes[0], 2)\n+        self.sync_all()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113224723",
      "id" : 113224723,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 17,
      "path" : "test/functional/p2p-segwit.py",
      "position" : 17,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113224723",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113228490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113228490"
         }
      },
      "body" : "Yes, and I can also reduce the number of nodes in this test to 1.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:27:56Z",
      "diff_hunk" : "@@ -72,11 +72,10 @@ def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 2\n+        self.extra_args = [[\"-peerbloomfilters=0\"]]\n \n     def setup_network(self):\n-        # Start a node with maxuploadtarget of 200 MB (/24h)\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-peerbloomfilters=0\"]))\n+        self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113228490",
      "id" : 113228490,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 10,
      "path" : "test/functional/p2p-mempool.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113228490",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113231595"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113231595"
         }
      },
      "body" : "No. The base class `setup_network()` would connect the two nodes, which we don't want in this test, so it is correct to override here. However, there is a bug here - I shouldn't assign `self.nodes` to the return value, which is None.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:38:39Z",
      "diff_hunk" : "@@ -98,17 +98,13 @@ def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 2\n+        self.extra_args = [[], [\"-whitelist=127.0.0.1\"]]\n \n     def setup_network(self):\n         # Node0 will be used to test behavior of processing unrequested blocks\n         # from peers which are not whitelisted, while Node1 will be used for\n         # the whitelisted case.\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir,\n-                                     binary=self.options.testbinary))\n-        self.nodes.append(start_node(1, self.options.tmpdir,\n-                                     [\"-whitelist=127.0.0.1\"],\n-                                     binary=self.options.testbinary))\n+        self.nodes = self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113231595",
      "id" : 113231595,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 16,
      "path" : "test/functional/p2p-acceptblock.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113231595",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113231859"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113231859"
         }
      },
      "body" : "meh. Should be clear from the `self.num_nodes` assignment in `__init__()`. I don't think we need this comment (and if we do need it, then there should be a similar comment in every other test case.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:39:42Z",
      "diff_hunk" : "@@ -22,12 +22,7 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 1\n         self.setup_clean_chain = False\n-\n-    def setup_network(self):\n-        # Just need one node for this test",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113231859",
      "id" : 113231859,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 6,
      "path" : "test/functional/mempool_spendcoinbase.py",
      "position" : 6,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113231859",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113232339"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113232339"
         }
      },
      "body" : "As below. I'd prefer `__init__()` to just be for setting up the test network topology.\r\n\r\nHowever, these could be changed to be local variables instead of object variables.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:41:26Z",
      "diff_hunk" : "@@ -9,20 +9,17 @@\n \n class MempoolLimitTest(BitcoinTestFramework):\n \n-    def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-maxmempool=5\", \"-spendzeroconfchange=0\"]))\n-        self.sync_all()\n-        self.relayfee = self.nodes[0].getnetworkinfo()['relayfee']\n-\n     def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n+        self.extra_args = [[\"-maxmempool=5\", \"-spendzeroconfchange=0\"]]\n \n+    def run_test(self):\n         self.txouts = gen_return_txouts()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113232339",
      "id" : 113232339,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 17,
      "path" : "test/functional/mempool_limit.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113232339",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113232371"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113232371"
         }
      },
      "body" : "ditto",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:41:31Z",
      "diff_hunk" : "@@ -9,20 +9,17 @@\n \n class MempoolLimitTest(BitcoinTestFramework):\n \n-    def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, [\"-maxmempool=5\", \"-spendzeroconfchange=0\"]))\n-        self.sync_all()\n-        self.relayfee = self.nodes[0].getnetworkinfo()['relayfee']\n-\n     def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n+        self.extra_args = [[\"-maxmempool=5\", \"-spendzeroconfchange=0\"]]\n \n+    def run_test(self):\n         self.txouts = gen_return_txouts()\n \n-    def run_test(self):\n+        self.relayfee = self.nodes[0].getnetworkinfo()['relayfee']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113232371",
      "id" : 113232371,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 20,
      "path" : "test/functional/mempool_limit.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113232371",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113233119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113233119"
         }
      },
      "body" : "`setup_nodes()` starts the nodes, but doesn't add connections between them. That's what we need here.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:43:51Z",
      "diff_hunk" : "@@ -8,19 +8,15 @@\n from test_framework.util import *\n \n class InvalidateTest(BitcoinTestFramework):\n-    \n-        \n+\n     def __init__(self):\n         super().__init__()\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n \n     def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir))\n-        self.nodes.append(start_node(1, self.options.tmpdir))\n-        self.nodes.append(start_node(2, self.options.tmpdir))\n-        \n+        self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113233119",
      "id" : 113233119,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 18,
      "path" : "test/functional/invalidateblock.py",
      "position" : 19,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113233119",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113235664"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113235664"
         }
      },
      "body" : "This is now done by the base class `setup_network()`",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:52:31Z",
      "diff_hunk" : "@@ -73,10 +73,6 @@ def __init__(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = False\n \n-    def setup_network(self):\n-        self.nodes = self.setup_nodes()\n-        connect_nodes_bi(self.nodes, 0, 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113235664",
      "id" : 113235664,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 6,
      "path" : "test/functional/getblocktemplate_proposals.py",
      "position" : 6,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113235664",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113235833"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113235833"
         }
      },
      "body" : "correct. Fixed",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T15:53:08Z",
      "diff_hunk" : "@@ -12,12 +12,10 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 3\n         self.setup_clean_chain = False\n+        self.extra_args = [[\"-blockversion=2\"], [\"-blockversion=3\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113235833",
      "id" : 113235833,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 4,
      "path" : "test/functional/bipdersig.py",
      "position" : null,
      "pull_request_review_id" : 34591771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113235833",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113258078"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113258078"
         }
      },
      "body" : "The base class calls `setup_network()`, which calls `setup_nodes()`",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T17:22:55Z",
      "diff_hunk" : "@@ -21,15 +21,11 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 2\n         self.setup_clean_chain = False\n+        self.extra_args = [[], [\"-acceptnonstdtxn=0\"]]\n \n-    def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir))\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-acceptnonstdtxn=0\"]))\n+    def run_test(self):\n         self.relayfee = self.nodes[0].getnetworkinfo()[\"relayfee\"]\n-        connect_nodes(self.nodes[0], 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113258078",
      "id" : 113258078,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 12,
      "path" : "test/functional/bip68-sequence.py",
      "position" : null,
      "pull_request_review_id" : 34630842,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113258078",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113258121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113258121"
         }
      },
      "body" : "probably not, but harmless",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T17:23:08Z",
      "diff_hunk" : "@@ -12,12 +12,10 @@ def __init__(self):\n         super().__init__()\n         self.num_nodes = 3\n         self.setup_clean_chain = False\n+        self.extra_args = [[\"-blockversion=2\"], [\"-blockversion=3\"]]\n \n     def setup_network(self):\n-        self.nodes = []\n-        self.nodes.append(start_node(0, self.options.tmpdir, []))\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-blockversion=2\"]))\n-        self.nodes.append(start_node(2, self.options.tmpdir, [\"-blockversion=3\"]))\n+        self.setup_nodes()\n         connect_nodes(self.nodes[1], 0)\n         connect_nodes(self.nodes[2], 0)\n         self.sync_all()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113258121",
      "id" : 113258121,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 14,
      "path" : "test/functional/bipdersig.py",
      "position" : null,
      "pull_request_review_id" : 34630894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113258121",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113258332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113258332"
         }
      },
      "body" : "`setup_network()` in the base class also connects the nodes, which we don't want to do for this test.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-04-25T17:24:02Z",
      "diff_hunk" : "@@ -12,8 +12,8 @@ def __init__(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n \n-    def setup_network(self, split=False):\n-        self.nodes = start_nodes(2, self.options.tmpdir)\n+    def setup_network(self):\n+        self.setup_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r113258332",
      "id" : 113258332,
      "original_commit_id" : "b9e9ef2415e3df508b0c0663502e60196bc37f0f",
      "original_position" : 7,
      "path" : "test/functional/importmulti.py",
      "position" : null,
      "pull_request_review_id" : 34631118,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/113258332",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Rebased and added a fixup commit to address the nits.\r\n\r\nI'm planning to squash these all down to a single commit before merge.",
      "created_at" : "2017-04-25T17:26:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-297104644",
      "id" : 297104644,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-04-25T17:26:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/297104644",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "ACK d64f739b3bc78e67212a252a690556bca8098745\r\n\r\nedit: Tested.",
      "created_at" : "2017-04-25T17:30:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-297105885",
      "id" : 297105885,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-04-25T19:04:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/297105885",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "body" : "utACK d64f739b3bc78e67212a252a690556bca8098745",
      "created_at" : "2017-04-26T04:22:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-297234013",
      "id" : 297234013,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-04-26T04:22:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/297234013",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "utACK d64f739, please squash",
      "created_at" : "2017-05-01T07:37:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-298299756",
      "id" : 298299756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-05-01T07:37:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298299756",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Strong concept ACK. Going to review after squash.\n",
      "created_at" : "2017-05-01T14:32:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-298343597",
      "id" : 298343597,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-05-01T14:32:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298343597",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Commits squashed. There should be no difference between https://github.com/bitcoin/bitcoin/commit/d64f739b3bc78e67212a252a690556bca8098745 and 20f67c90c001123ab5bca7e70382c5fe26362aa3. Compare https://github.com/jnewbery/bitcoin/tree/pr10198.1 and https://github.com/jnewbery/bitcoin/tree/pr10198.2",
      "created_at" : "2017-05-01T14:47:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-298346548",
      "id" : 298346548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-05-01T14:47:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298346548",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114337747"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114337747"
         }
      },
      "body" : "This does not work for the `ComparisionFramework`, as it is later overwritten. I don't understand why this commit does not fail, but I'd still like the bug fixed in this pull.\r\n\r\nSee `test/functional/test_framework/test_framework.py:245L`\r\n\r\n\r\nAdditionally, I'd like to see a sanity check in start_nodes:\r\n\r\n```diff\r\ndiff --git a/test/functional/test_framework/util.py b/test/functional/test_framework/util.py\r\nindex 7730e14..9186c3c 100644\r\n--- a/test/functional/test_framework/util.py\r\n+++ b/test/functional/test_framework/util.py\r\n@@ -354,6 +354,8 @@ def start_nodes(num_nodes, dirname, extra_args=None, rpchost=None, timewait=None\r\n     \"\"\"\r\n     if extra_args is None: extra_args = [ None for _ in range(num_nodes) ]\r\n     if binary is None: binary = [ None for _ in range(num_nodes) ]\r\n+    assert_equal(len(extra_args), num_nodes)\r\n+    assert_equal(len(binary), num_nodes)\r\n     rpcs = []\r\n     try:\r\n         for i in range(num_nodes):\r\n",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-05-02T14:53:58Z",
      "diff_hunk" : "@@ -46,12 +46,8 @@ class BIP66Test(ComparisonTestFramework):\n     def __init__(self):\n         super().__init__()\n         self.num_nodes = 1\n-\n-    def setup_network(self):\n         # Must set the blockversion for this test\n-        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir,\n-                                 extra_args=[['-whitelist=127.0.0.1', '-blockversion=2']],\n-                                 binary=[self.options.testbinary])\n+        self.extra_args = [[], ['-whitelist=127.0.0.1', '-blockversion=2']]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114337747",
      "id" : 114337747,
      "original_commit_id" : "20f67c90c001123ab5bca7e70382c5fe26362aa3",
      "original_position" : 10,
      "path" : "test/functional/bipdersig-p2p.py",
      "position" : null,
      "pull_request_review_id" : 35795328,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114337747",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114338269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114338269"
         }
      },
      "body" : "Please add the missing self.extra_args here, and also add an additional test in this file:\r\n```py\r\nassert_raises_jsonrpc(-12, \"Keypool ran out\", lambda: self.nodes[0].generate(1))\r\n```",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-05-02T14:56:02Z",
      "diff_hunk" : "@@ -19,11 +19,6 @@ def __init__(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114338269",
      "id" : 114338269,
      "original_commit_id" : "20f67c90c001123ab5bca7e70382c5fe26362aa3",
      "original_position" : 3,
      "path" : "test/functional/disablewallet.py",
      "position" : null,
      "pull_request_review_id" : 35795328,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114338269",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114370457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114370457"
         }
      },
      "body" : "It turns out the comment was wrong (and had presumably been copy-pasted from another test). blockversion is not required in this test, since the bitcoin node is not generating any blocks. I've removed the extra_args entirely.\r\n\r\nI've also added your suggested asserts.",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-05-02T17:03:47Z",
      "diff_hunk" : "@@ -46,12 +46,8 @@ class BIP66Test(ComparisonTestFramework):\n     def __init__(self):\n         super().__init__()\n         self.num_nodes = 1\n-\n-    def setup_network(self):\n         # Must set the blockversion for this test\n-        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir,\n-                                 extra_args=[['-whitelist=127.0.0.1', '-blockversion=2']],\n-                                 binary=[self.options.testbinary])\n+        self.extra_args = [[], ['-whitelist=127.0.0.1', '-blockversion=2']]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114370457",
      "id" : 114370457,
      "original_commit_id" : "20f67c90c001123ab5bca7e70382c5fe26362aa3",
      "original_position" : 10,
      "path" : "test/functional/bipdersig-p2p.py",
      "position" : null,
      "pull_request_review_id" : 35830732,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114370457",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114370688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114370688"
         }
      },
      "body" : "yes, I've put the extra_args back in. Good spot.\r\n\r\nI don't understand why adding the \"Keypool ran out\" assert should be part of this PR?",
      "commit_id" : "3c94935a22cf2baa75eaa4471340d1681239acd0",
      "created_at" : "2017-05-02T17:04:42Z",
      "diff_hunk" : "@@ -19,11 +19,6 @@ def __init__(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#discussion_r114370688",
      "id" : 114370688,
      "original_commit_id" : "20f67c90c001123ab5bca7e70382c5fe26362aa3",
      "original_position" : 3,
      "path" : "test/functional/disablewallet.py",
      "position" : null,
      "pull_request_review_id" : 35830974,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10198",
      "updated_at" : "2017-05-02T17:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114370688",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Ok, feel free to squash. Planning to merge this.\n",
      "created_at" : "2017-05-02T17:20:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-298701730",
      "id" : 298701730,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-05-02T17:20:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298701730",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "squashed and rebased. I'm currently running the extended test locally.",
      "created_at" : "2017-05-02T17:32:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-298705185",
      "id" : 298705185,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-05-02T17:32:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298705185",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "extended tests all pass locally. This should be good for merge.",
      "created_at" : "2017-05-02T17:55:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10198#issuecomment-298711575",
      "id" : 298711575,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10198",
      "updated_at" : "2017-05-02T17:55:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298711575",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
