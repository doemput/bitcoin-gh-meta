[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108691"
         }
      },
      "body" : "+1 on calling this flag non_anonymous",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-06T08:50:12Z",
      "diff_hunk" : "@@ -372,6 +372,8 @@ class TorController\n     bool reconnect;\n     struct event *reconnect_ev;\n     float reconnect_timeout;\n+    /** Flag for Single Onion Service */\n+    bool non_anonymous;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108691",
      "id" : 110108691,
      "original_commit_id" : "c1f72779d4b4d4fcb1d5df383ee3b71169031ac2",
      "original_position" : 5,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31255438,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108691",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108879"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108879"
         }
      },
      "body" : "As for option: maybe `-listenonion=2`?",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-06T08:51:12Z",
      "diff_hunk" : "@@ -414,6 +416,9 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    // TODO: provide a way to configure it externally\n+    non_anonymous = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108879",
      "id" : 110108879,
      "original_commit_id" : "c1f72779d4b4d4fcb1d5df383ee3b71169031ac2",
      "original_position" : 15,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31255652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108879",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110135814"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110135814"
         }
      },
      "body" : "Yes, thanks for the advice. That should be OK. Will finish it this evening.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-06T11:16:47Z",
      "diff_hunk" : "@@ -414,6 +416,9 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    // TODO: provide a way to configure it externally\n+    non_anonymous = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110135814",
      "id" : 110135814,
      "original_commit_id" : "c1f72779d4b4d4fcb1d5df383ee3b71169031ac2",
      "original_position" : 15,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31284881,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110135814",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110332698"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110332698"
         }
      },
      "body" : "Having `-listenonion=<n>` flag requires allowed values checks and isn't obvious enough as for anonymous/non-anonymous service option. Maybe it would be better to just add another boolean flag instead, with some obvious name?",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-07T07:38:27Z",
      "diff_hunk" : "@@ -414,6 +416,12 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    if (mode == 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110332698",
      "id" : 110332698,
      "original_commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "original_position" : 32,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31498320,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110332698",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110408636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110408636"
         }
      },
      "body" : "Yeah could do that. Though I think the number of options of bitcoind is kind of getting out of hand, and this seems quite obscure so I don't mind hiding it a bit. Could wait and see what other dev's opinions about this are.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-07T14:52:54Z",
      "diff_hunk" : "@@ -414,6 +416,12 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    if (mode == 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110408636",
      "id" : 110408636,
      "original_commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "original_position" : 32,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31581883,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110408636",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Added allowed values check for `-listenonion` and mentioned it in documentation. ",
      "created_at" : "2017-04-07T21:28:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292656341",
      "id" : 292656341,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10161",
      "updated_at" : "2017-04-07T21:28:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/292656341",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "body" : "I am unable to reproduce this failure on my machine. Any advise on what might cause it?",
      "created_at" : "2017-04-07T22:51:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292670243",
      "id" : 292670243,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10161",
      "updated_at" : "2017-04-07T22:51:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/292670243",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110514046"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110514046"
         }
      },
      "body" : "language: Hidded -> Hidden",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-08T09:11:24Z",
      "diff_hunk" : "@@ -102,7 +102,9 @@ affect the number of available .onion nodes.\n This new feature is enabled by default if Bitcoin Core is listening (`-listen`), and\n requires a Tor connection to work. It can be explicitly disabled with `-listenonion=0`\n and, if not disabled, configured using the `-torcontrol` and `-torpassword` settings.\n-To show verbose debugging information, pass `-debug=tor`.\n+To show verbose debugging information, pass `-debug=tor`. Hidded service can also be",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110514046",
      "id" : 110514046,
      "original_commit_id" : "28cc1b4ef820cfffbf91b03237cb97aad0fc07be",
      "original_position" : 5,
      "path" : "doc/tor.md",
      "position" : null,
      "pull_request_review_id" : 31697419,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110514046",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13770485?v=3",
         "events_url" : "https://api.github.com/users/kewde/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kewde/followers",
         "following_url" : "https://api.github.com/users/kewde/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kewde/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kewde",
         "id" : 13770485,
         "login" : "kewde",
         "organizations_url" : "https://api.github.com/users/kewde/orgs",
         "received_events_url" : "https://api.github.com/users/kewde/received_events",
         "repos_url" : "https://api.github.com/users/kewde/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kewde/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kewde/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kewde"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110514507"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110514507"
         }
      },
      "body" : "I'm assuming the problem will be with %d and int64_t. I see you've changed DEFAULT_LISTEN_ONION from a bool to int64_t but did not change it here.\r\n\r\nThe format for int64_t (to (str)printf etc) is typically\r\n- \"I64d\" (Win32/Win64)\r\n-  \"lld\" (32-bit platforms) \r\n- \"ld\" (64-bit platforms) \r\n\r\nI suspect int64_t might not be the right type to use for DEFAULT_LISTEN_ONION.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-08T09:35:41Z",
      "diff_hunk" : "@@ -381,7 +381,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-externalip=<ip>\", _(\"Specify your own public address\"));\n     strUsage += HelpMessageOpt(\"-forcednsseed\", strprintf(_(\"Always query for peer addresses via DNS lookup (default: %u)\"), DEFAULT_FORCEDNSSEED));\n     strUsage += HelpMessageOpt(\"-listen\", _(\"Accept connections from outside (default: 1 if no -proxy or -connect)\"));\n-    strUsage += HelpMessageOpt(\"-listenonion\", strprintf(_(\"Automatically create Tor hidden service (default: %d)\"), DEFAULT_LISTEN_ONION));\n+    strUsage += HelpMessageOpt(\"-listenonion\", strprintf(_(\"Run Tor hidden service (0 - disabled, 1 - normal mode, 2 - single onion service, default: %d)\"), DEFAULT_LISTEN_ONION));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110514507",
      "id" : 110514507,
      "original_commit_id" : "4c25515e45c31b3cac1bbebf02a80299c83165b0",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 31697743,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110514507",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13770485?v=3",
         "events_url" : "https://api.github.com/users/kewde/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kewde/followers",
         "following_url" : "https://api.github.com/users/kewde/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kewde/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kewde",
         "id" : 13770485,
         "login" : "kewde",
         "organizations_url" : "https://api.github.com/users/kewde/orgs",
         "received_events_url" : "https://api.github.com/users/kewde/received_events",
         "repos_url" : "https://api.github.com/users/kewde/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kewde/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kewde/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kewde"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110515054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110515054"
         }
      },
      "body" : "Oh, right, that was lame. Thanks for pointing it out.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-08T10:02:35Z",
      "diff_hunk" : "@@ -381,7 +381,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-externalip=<ip>\", _(\"Specify your own public address\"));\n     strUsage += HelpMessageOpt(\"-forcednsseed\", strprintf(_(\"Always query for peer addresses via DNS lookup (default: %u)\"), DEFAULT_FORCEDNSSEED));\n     strUsage += HelpMessageOpt(\"-listen\", _(\"Accept connections from outside (default: 1 if no -proxy or -connect)\"));\n-    strUsage += HelpMessageOpt(\"-listenonion\", strprintf(_(\"Automatically create Tor hidden service (default: %d)\"), DEFAULT_LISTEN_ONION));\n+    strUsage += HelpMessageOpt(\"-listenonion\", strprintf(_(\"Run Tor hidden service (0 - disabled, 1 - normal mode, 2 - single onion service, default: %d)\"), DEFAULT_LISTEN_ONION));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110515054",
      "id" : 110515054,
      "original_commit_id" : "4c25515e45c31b3cac1bbebf02a80299c83165b0",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 31698131,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110515054",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110515272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110515272"
         }
      },
      "body" : "Thanks for a thorough review!",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-08T10:14:17Z",
      "diff_hunk" : "@@ -102,7 +102,9 @@ affect the number of available .onion nodes.\n This new feature is enabled by default if Bitcoin Core is listening (`-listen`), and\n requires a Tor connection to work. It can be explicitly disabled with `-listenonion=0`\n and, if not disabled, configured using the `-torcontrol` and `-torpassword` settings.\n-To show verbose debugging information, pass `-debug=tor`.\n+To show verbose debugging information, pass `-debug=tor`. Hidded service can also be",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110515272",
      "id" : 110515272,
      "original_commit_id" : "28cc1b4ef820cfffbf91b03237cb97aad0fc07be",
      "original_position" : 5,
      "path" : "doc/tor.md",
      "position" : null,
      "pull_request_review_id" : 31698295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110515272",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110582261"
         }
      },
      "body" : "We don't use the OS' printf function but tinyformat, so you must use %d for any kind of integer. It doesn't understand most of the size specifiers and ignores them as it's typesafe and regards the actual argument types.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-10T06:41:24Z",
      "diff_hunk" : "@@ -381,7 +381,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-externalip=<ip>\", _(\"Specify your own public address\"));\n     strUsage += HelpMessageOpt(\"-forcednsseed\", strprintf(_(\"Always query for peer addresses via DNS lookup (default: %u)\"), DEFAULT_FORCEDNSSEED));\n     strUsage += HelpMessageOpt(\"-listen\", _(\"Accept connections from outside (default: 1 if no -proxy or -connect)\"));\n-    strUsage += HelpMessageOpt(\"-listenonion\", strprintf(_(\"Automatically create Tor hidden service (default: %d)\"), DEFAULT_LISTEN_ONION));\n+    strUsage += HelpMessageOpt(\"-listenonion\", strprintf(_(\"Run Tor hidden service (0 - disabled, 1 - normal mode, 2 - single onion service, default: %d)\"), DEFAULT_LISTEN_ONION));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582261",
      "id" : 110582261,
      "original_commit_id" : "4c25515e45c31b3cac1bbebf02a80299c83165b0",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 31764451,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110582261",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582608"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110582608"
         }
      },
      "body" : "String constant cannot be defined reliably in headers. It must be `extern` and defined in a c++ file. Otherwise it will get included into every single compilation unit that includes this header. Sometimes that runs into linker errors or causes executable bloat at the least.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-10T06:44:23Z",
      "diff_hunk" : "@@ -11,7 +11,7 @@\n #include \"scheduler.h\"\n \n extern const std::string DEFAULT_TOR_CONTROL;\n-static const bool DEFAULT_LISTEN_ONION = true;\n+static const std::string DEFAULT_LISTEN_ONION = \"0\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582608",
      "id" : 110582608,
      "original_commit_id" : "84b8c4d05054dcc6377879987ad4165f2eb84326",
      "original_position" : 5,
      "path" : "src/torcontrol.h",
      "position" : null,
      "pull_request_review_id" : 31764778,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110582608",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110582810"
         }
      },
      "body" : "Please make this interface take an `enum` mode, to make the available choices clear in the API and to maintainers of this code.\r\nConversion between the argument and the enum should be done outside this class at the call site\r\n(for example `TorControlThread()`)",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-10T06:46:04Z",
      "diff_hunk" : "@@ -395,7 +397,7 @@ class TorController\n     static void reconnect_cb(evutil_socket_t fd, short what, void *arg);\n };\n \n-TorController::TorController(struct event_base* _base, const std::string& _target):\n+TorController::TorController(struct event_base* _base, const std::string& _target, const std::string& mode):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582810",
      "id" : 110582810,
      "original_commit_id" : "84b8c4d05054dcc6377879987ad4165f2eb84326",
      "original_position" : 23,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31764964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110582810",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Interesting discussion in #9836 as to whether this is a good idea.",
      "created_at" : "2017-04-10T07:10:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292867377",
      "id" : 292867377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10161",
      "updated_at" : "2017-04-10T07:10:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/292867377",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110654542"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110654542"
         }
      },
      "body" : "Thought of `enum` in the first place, but then Ocham's razor principle, don't multiply entities etc:) Anyway, done.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-10T13:30:32Z",
      "diff_hunk" : "@@ -395,7 +397,7 @@ class TorController\n     static void reconnect_cb(evutil_socket_t fd, short what, void *arg);\n };\n \n-TorController::TorController(struct event_base* _base, const std::string& _target):\n+TorController::TorController(struct event_base* _base, const std::string& _target, const std::string& mode):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110654542",
      "id" : 110654542,
      "original_commit_id" : "84b8c4d05054dcc6377879987ad4165f2eb84326",
      "original_position" : 23,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31841159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:30:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110654542",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110655047"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110655047"
         }
      },
      "body" : "Yes thanks, my bad. It's been a long time without c++ preprocessor.",
      "commit_id" : "1d25dd7744ab13d3cecf9908fb62d726c29ae4d5",
      "created_at" : "2017-04-10T13:32:34Z",
      "diff_hunk" : "@@ -11,7 +11,7 @@\n #include \"scheduler.h\"\n \n extern const std::string DEFAULT_TOR_CONTROL;\n-static const bool DEFAULT_LISTEN_ONION = true;\n+static const std::string DEFAULT_LISTEN_ONION = \"0\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110655047",
      "id" : 110655047,
      "original_commit_id" : "84b8c4d05054dcc6377879987ad4165f2eb84326",
      "original_position" : 5,
      "path" : "src/torcontrol.h",
      "position" : null,
      "pull_request_review_id" : 31841687,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-10T13:32:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110655047",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "body" : "@laanwj , I applied changes according to both of your notes, but considering discussion in #9836 , I should probably close this PR. I'll leave the branch anyway, in case we need a more robust and general solution in future.",
      "created_at" : "2017-04-10T13:34:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292950723",
      "id" : 292950723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10161",
      "updated_at" : "2017-04-10T13:34:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/292950723",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "body" : "@mrwhythat Agreed. And sure, makes sense to keep the branch, maybe someone wants to add this patch manually, doesn't hurt to have the code available.",
      "created_at" : "2017-04-10T14:05:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292959344",
      "id" : 292959344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10161",
      "updated_at" : "2017-04-10T14:05:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/292959344",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
