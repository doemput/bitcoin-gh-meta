[
   {
      "body" : "Huh, I seriously thought this it was already the case that whitelisted peers could get around this limit.\r\nIn any case a more fine-grained whitelisting configuration where 'allow client to ignore serving limit' is an option would make sense to me.\r\n\r\nping @theuni (would make sense to take this into account in https://github.com/bitcoin/bitcoin/pull/10051#issuecomment-289114010)",
      "created_at" : "2017-03-31T05:52:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10131#issuecomment-290622830",
      "id" : 290622830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10131",
      "updated_at" : "2017-03-31T05:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290622830",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "EvenÃ¢ÂÂaa\n\nOn 31 Mar 2017 1:53 p.m., \"Wladimir J. van der Laan\" <\nnotifications@github.com> wrote:\n\n> Huh, I seriously thought this it was already the case that whitelisted\n> peers could get around this limit.\n> In any case a more fine-grained whitelisting configuration where 'allow\n> client to ignore serving limit' is an option would make sense to me.\n>\n> ping @cfields <https://github.com/cfields> (would make sense to take this\n> into account in #10051 (comment)\n> <https://github.com/bitcoin/bitcoin/pull/10051#issuecomment-289114010>)\n>\n> Ã¢ÂÂ\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/10131#issuecomment-290622830>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AEItph_tqVwbNWbEj8JqnjOKef7Bk_pGks5rrJTBgaJpZM4MvPH5>\n> .\n>\n",
      "created_at" : "2017-03-31T06:07:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10131#issuecomment-290625468",
      "id" : 290625468,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10131",
      "updated_at" : "2017-03-31T06:07:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290625468",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4337062?v=3",
         "events_url" : "https://api.github.com/users/smartbrain/events{/privacy}",
         "followers_url" : "https://api.github.com/users/smartbrain/followers",
         "following_url" : "https://api.github.com/users/smartbrain/following{/other_user}",
         "gists_url" : "https://api.github.com/users/smartbrain/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/smartbrain",
         "id" : 4337062,
         "login" : "smartbrain",
         "organizations_url" : "https://api.github.com/users/smartbrain/orgs",
         "received_events_url" : "https://api.github.com/users/smartbrain/received_events",
         "repos_url" : "https://api.github.com/users/smartbrain/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/smartbrain/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/smartbrain/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/smartbrain"
      }
   },
   {
      "body" : "Whitelisted peers are exempted.  Localhost is not whitelisted (in part because that includes all Tor HS inbound.)\r\n\r\nPlease do not use general 'whitelist' functionality for this, the general whitelist functionality changes transaction relay behavior in a way that is almost never wanted.\r\n\r\nI think if not for the fact that Tor HS inbound is localhost it would make sense to except localhost. I don't know what to do about that except for hacky solutions like having a probablyLocal flag set for any peer which has a <1ms minimum pingtime.\r\n\r\n> if (send && connman.OutboundTargetReached(true) && ( ((pindexBestHeader != NULL) && (pindexBestHeader->GetBlockTime() - mi->second->GetBlockTime() > nOneWeek)) || inv.type == MSG_FILTERED_BLOCK) &&  ***** !pfrom->fWhitelisted   ***** )\r\n",
      "created_at" : "2017-04-02T20:59:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10131#issuecomment-291014718",
      "id" : 291014718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10131",
      "updated_at" : "2017-04-02T21:02:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/291014718",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
