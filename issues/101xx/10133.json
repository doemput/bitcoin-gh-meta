{
   "assignee" : null,
   "assignees" : [],
   "body" : "In #10126 we changed the calculation of when to flush so that the requested dbcache memory limit would be respected even by the peak usage occurring at flush.\r\n\r\nWithout doubling the default dbcache limit, this would lead to an effective default of half the previous which I believe is too low.\r\n\r\nFirst commit doubles the default and applies the DB_PEAK_USAGE_FACTOR in 2 other places.\r\nThe debug logging of the usage still reports the current usage.\r\n\r\nThe second commit lowers the defaults slightly to ensure 0.14.1 has a lower memory footprint than 0.13.2.\r\n\r\nThe third commit makes the delayed flushing on large dbcaches a bit less aggressive, so the limit is less likely to be violated in practice.",
   "closed_at" : "2017-04-05T06:11:08Z",
   "closed_by" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10133/comments",
   "created_at" : "2017-03-31T14:33:27Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10133/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/10133",
   "id" : 218520469,
   "labels" : [
      {
         "color" : "981023",
         "default" : false,
         "id" : 326918230,
         "name" : "Resource usage",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Resource%20usage"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10133/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 19,
      "created_at" : "2017-02-21T12:32:10Z",
      "creator" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      },
      "description" : "",
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestone/27",
      "id" : 2337607,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/27/labels",
      "number" : 27,
      "open_issues" : 0,
      "state" : "open",
      "title" : "0.14.1",
      "updated_at" : "2017-04-05T06:37:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/27"
   },
   "number" : 10133,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/10133.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10133",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/10133.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10133"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Clean up calculations of pcoinsTip memory usage",
   "updated_at" : "2017-04-05T06:24:10Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10133",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/4360349?v=3",
      "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
      "followers_url" : "https://api.github.com/users/morcos/followers",
      "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/morcos",
      "id" : 4360349,
      "login" : "morcos",
      "organizations_url" : "https://api.github.com/users/morcos/orgs",
      "received_events_url" : "https://api.github.com/users/morcos/received_events",
      "repos_url" : "https://api.github.com/users/morcos/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/morcos"
   }
}
