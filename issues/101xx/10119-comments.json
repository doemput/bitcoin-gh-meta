[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108992551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108992551"
         }
      },
      "body" : "Any reason to not return a const ref?\r\n\r\nAlso, ArgsAt is a bit of an odd name, perhaps ArgsFor or something (but maybe not worth the effort to redo this)",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-03-30T17:50:11Z",
      "diff_hunk" : "@@ -378,63 +374,94 @@ void ParseParameters(int argc, const char* const argv[])\n         InterpretNegativeSetting(str, strValue);\n \n         mapArgs[str] = strValue;\n-        _mapMultiArgs[str].push_back(strValue);\n+        mapMultiArgs[str].push_back(strValue);\n     }\n }\n \n-bool IsArgSet(const std::string& strArg)\n+std::vector<std::string> ArgsManager::ArgsAt(const std::string& strArg)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108992551",
      "id" : 108992551,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 55,
      "path" : "src/util.cpp",
      "position" : 44,
      "pull_request_review_id" : 30064767,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108992551",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108993944"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108993944"
         }
      },
      "body" : "Should this push_back or replace?",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-03-30T17:55:25Z",
      "diff_hunk" : "@@ -378,63 +374,94 @@ void ParseParameters(int argc, const char* const argv[])\n         InterpretNegativeSetting(str, strValue);\n \n         mapArgs[str] = strValue;\n-        _mapMultiArgs[str].push_back(strValue);\n+        mapMultiArgs[str].push_back(strValue);\n     }\n }\n \n-bool IsArgSet(const std::string& strArg)\n+std::vector<std::string> ArgsManager::ArgsAt(const std::string& strArg)\n+{\n+    LOCK(cs_args);\n+    return mapMultiArgs.at(strArg);\n+}\n+\n+bool ArgsManager::IsArgSet(const std::string& strArg)\n {\n     LOCK(cs_args);\n     return mapArgs.count(strArg);\n }\n \n-std::string GetArg(const std::string& strArg, const std::string& strDefault)\n+std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return mapArgs[strArg];\n     return strDefault;\n }\n \n-int64_t GetArg(const std::string& strArg, int64_t nDefault)\n+int64_t ArgsManager::GetArg(const std::string& strArg, int64_t nDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return atoi64(mapArgs[strArg]);\n     return nDefault;\n }\n \n-bool GetBoolArg(const std::string& strArg, bool fDefault)\n+bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return InterpretBool(mapArgs[strArg]);\n     return fDefault;\n }\n \n-bool SoftSetArg(const std::string& strArg, const std::string& strValue)\n+bool ArgsManager::SoftSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return false;\n-    mapArgs[strArg] = strValue;\n+    this->ForceSetArg(strArg, strValue);\n     return true;\n }\n \n-bool SoftSetBoolArg(const std::string& strArg, bool fValue)\n+bool ArgsManager::SoftSetBoolArg(const std::string& strArg, bool fValue)\n {\n     if (fValue)\n         return SoftSetArg(strArg, std::string(\"1\"));\n     else\n         return SoftSetArg(strArg, std::string(\"0\"));\n }\n \n-void ForceSetArg(const std::string& strArg, const std::string& strValue)\n+void ArgsManager::ForceSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     mapArgs[strArg] = strValue;\n+    mapMultiArgs[strArg].push_back(strValue);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108993944",
      "id" : 108993944,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 119,
      "path" : "src/util.cpp",
      "position" : 108,
      "pull_request_review_id" : 30064767,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108993944",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108994163"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108994163"
         }
      },
      "body" : "Is the PR too big if you get rid of these?",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-03-30T17:56:17Z",
      "diff_hunk" : "@@ -378,63 +374,94 @@ void ParseParameters(int argc, const char* const argv[])\n         InterpretNegativeSetting(str, strValue);\n \n         mapArgs[str] = strValue;\n-        _mapMultiArgs[str].push_back(strValue);\n+        mapMultiArgs[str].push_back(strValue);\n     }\n }\n \n-bool IsArgSet(const std::string& strArg)\n+std::vector<std::string> ArgsManager::ArgsAt(const std::string& strArg)\n+{\n+    LOCK(cs_args);\n+    return mapMultiArgs.at(strArg);\n+}\n+\n+bool ArgsManager::IsArgSet(const std::string& strArg)\n {\n     LOCK(cs_args);\n     return mapArgs.count(strArg);\n }\n \n-std::string GetArg(const std::string& strArg, const std::string& strDefault)\n+std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return mapArgs[strArg];\n     return strDefault;\n }\n \n-int64_t GetArg(const std::string& strArg, int64_t nDefault)\n+int64_t ArgsManager::GetArg(const std::string& strArg, int64_t nDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return atoi64(mapArgs[strArg]);\n     return nDefault;\n }\n \n-bool GetBoolArg(const std::string& strArg, bool fDefault)\n+bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return InterpretBool(mapArgs[strArg]);\n     return fDefault;\n }\n \n-bool SoftSetArg(const std::string& strArg, const std::string& strValue)\n+bool ArgsManager::SoftSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return false;\n-    mapArgs[strArg] = strValue;\n+    this->ForceSetArg(strArg, strValue);\n     return true;\n }\n \n-bool SoftSetBoolArg(const std::string& strArg, bool fValue)\n+bool ArgsManager::SoftSetBoolArg(const std::string& strArg, bool fValue)\n {\n     if (fValue)\n         return SoftSetArg(strArg, std::string(\"1\"));\n     else\n         return SoftSetArg(strArg, std::string(\"0\"));\n }\n \n-void ForceSetArg(const std::string& strArg, const std::string& strValue)\n+void ArgsManager::ForceSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     mapArgs[strArg] = strValue;\n+    mapMultiArgs[strArg].push_back(strValue);\n }\n \n+bool IsArgSet(const std::string& strArg)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108994163",
      "id" : 108994163,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 122,
      "path" : "src/util.cpp",
      "position" : 111,
      "pull_request_review_id" : 30064767,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108994163",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108994438"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108994438"
         }
      },
      "body" : "why not use multimap?",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-03-30T17:57:19Z",
      "diff_hunk" : "@@ -133,6 +131,16 @@ inline bool IsSwitchChar(char c)\n #endif\n }\n \n+class ArgsManager\n+{\n+protected:\n+    CCriticalSection cs_args;\n+    std::map<std::string, std::string> mapArgs;\n+    std::map<std::string, std::vector<std::string> > mapMultiArgs;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r108994438",
      "id" : 108994438,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 41,
      "path" : "src/util.h",
      "position" : 41,
      "pull_request_review_id" : 30064767,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108994438",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109659230"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109659230"
         }
      },
      "body" : "I believe push_back, but it's a good point, I am not sure now.",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-04-04T13:20:50Z",
      "diff_hunk" : "@@ -378,63 +374,94 @@ void ParseParameters(int argc, const char* const argv[])\n         InterpretNegativeSetting(str, strValue);\n \n         mapArgs[str] = strValue;\n-        _mapMultiArgs[str].push_back(strValue);\n+        mapMultiArgs[str].push_back(strValue);\n     }\n }\n \n-bool IsArgSet(const std::string& strArg)\n+std::vector<std::string> ArgsManager::ArgsAt(const std::string& strArg)\n+{\n+    LOCK(cs_args);\n+    return mapMultiArgs.at(strArg);\n+}\n+\n+bool ArgsManager::IsArgSet(const std::string& strArg)\n {\n     LOCK(cs_args);\n     return mapArgs.count(strArg);\n }\n \n-std::string GetArg(const std::string& strArg, const std::string& strDefault)\n+std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return mapArgs[strArg];\n     return strDefault;\n }\n \n-int64_t GetArg(const std::string& strArg, int64_t nDefault)\n+int64_t ArgsManager::GetArg(const std::string& strArg, int64_t nDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return atoi64(mapArgs[strArg]);\n     return nDefault;\n }\n \n-bool GetBoolArg(const std::string& strArg, bool fDefault)\n+bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return InterpretBool(mapArgs[strArg]);\n     return fDefault;\n }\n \n-bool SoftSetArg(const std::string& strArg, const std::string& strValue)\n+bool ArgsManager::SoftSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return false;\n-    mapArgs[strArg] = strValue;\n+    this->ForceSetArg(strArg, strValue);\n     return true;\n }\n \n-bool SoftSetBoolArg(const std::string& strArg, bool fValue)\n+bool ArgsManager::SoftSetBoolArg(const std::string& strArg, bool fValue)\n {\n     if (fValue)\n         return SoftSetArg(strArg, std::string(\"1\"));\n     else\n         return SoftSetArg(strArg, std::string(\"0\"));\n }\n \n-void ForceSetArg(const std::string& strArg, const std::string& strValue)\n+void ArgsManager::ForceSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     mapArgs[strArg] = strValue;\n+    mapMultiArgs[strArg].push_back(strValue);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109659230",
      "id" : 109659230,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 119,
      "path" : "src/util.cpp",
      "position" : 108,
      "pull_request_review_id" : 30774652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109659230",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109661779"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109661779"
         }
      },
      "body" : "I was just using the same that was used before. We can move to multimap, what would be the gain?",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-04-04T13:30:52Z",
      "diff_hunk" : "@@ -133,6 +131,16 @@ inline bool IsSwitchChar(char c)\n #endif\n }\n \n+class ArgsManager\n+{\n+protected:\n+    CCriticalSection cs_args;\n+    std::map<std::string, std::string> mapArgs;\n+    std::map<std::string, std::vector<std::string> > mapMultiArgs;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109661779",
      "id" : 109661779,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 41,
      "path" : "src/util.h",
      "position" : 41,
      "pull_request_review_id" : 30777372,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109661779",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109672784"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109672784"
         }
      },
      "body" : "No real gain, just slightly simpler (because multi_map is intended to be used I think exactly in this type of case).",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-04-04T14:10:46Z",
      "diff_hunk" : "@@ -133,6 +131,16 @@ inline bool IsSwitchChar(char c)\n #endif\n }\n \n+class ArgsManager\n+{\n+protected:\n+    CCriticalSection cs_args;\n+    std::map<std::string, std::string> mapArgs;\n+    std::map<std::string, std::vector<std::string> > mapMultiArgs;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109672784",
      "id" : 109672784,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 41,
      "path" : "src/util.h",
      "position" : 41,
      "pull_request_review_id" : 30789559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109672784",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109692600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109692600"
         }
      },
      "body" : "The less disruptive to remove are removed in https://github.com/bitcoin/bitcoin/pull/10119 I'm happy to squash that in https://github.com/bitcoin/bitcoin/pull/9494\r\nOthers are more disruptive to remove, but I'm working on doing it for SoftSetBoolArg and IsArgSet in https://github.com/jtimon/bitcoin/compare/0.14-args-wrappers...jtimon:0.14-args-isargset-wrapper but I'm not sure everybody will like that way of doing it.\r\n",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-04-04T15:17:19Z",
      "diff_hunk" : "@@ -378,63 +374,94 @@ void ParseParameters(int argc, const char* const argv[])\n         InterpretNegativeSetting(str, strValue);\n \n         mapArgs[str] = strValue;\n-        _mapMultiArgs[str].push_back(strValue);\n+        mapMultiArgs[str].push_back(strValue);\n     }\n }\n \n-bool IsArgSet(const std::string& strArg)\n+std::vector<std::string> ArgsManager::ArgsAt(const std::string& strArg)\n+{\n+    LOCK(cs_args);\n+    return mapMultiArgs.at(strArg);\n+}\n+\n+bool ArgsManager::IsArgSet(const std::string& strArg)\n {\n     LOCK(cs_args);\n     return mapArgs.count(strArg);\n }\n \n-std::string GetArg(const std::string& strArg, const std::string& strDefault)\n+std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return mapArgs[strArg];\n     return strDefault;\n }\n \n-int64_t GetArg(const std::string& strArg, int64_t nDefault)\n+int64_t ArgsManager::GetArg(const std::string& strArg, int64_t nDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return atoi64(mapArgs[strArg]);\n     return nDefault;\n }\n \n-bool GetBoolArg(const std::string& strArg, bool fDefault)\n+bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return InterpretBool(mapArgs[strArg]);\n     return fDefault;\n }\n \n-bool SoftSetArg(const std::string& strArg, const std::string& strValue)\n+bool ArgsManager::SoftSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     if (mapArgs.count(strArg))\n         return false;\n-    mapArgs[strArg] = strValue;\n+    this->ForceSetArg(strArg, strValue);\n     return true;\n }\n \n-bool SoftSetBoolArg(const std::string& strArg, bool fValue)\n+bool ArgsManager::SoftSetBoolArg(const std::string& strArg, bool fValue)\n {\n     if (fValue)\n         return SoftSetArg(strArg, std::string(\"1\"));\n     else\n         return SoftSetArg(strArg, std::string(\"0\"));\n }\n \n-void ForceSetArg(const std::string& strArg, const std::string& strValue)\n+void ArgsManager::ForceSetArg(const std::string& strArg, const std::string& strValue)\n {\n     LOCK(cs_args);\n     mapArgs[strArg] = strValue;\n+    mapMultiArgs[strArg].push_back(strValue);\n }\n \n+bool IsArgSet(const std::string& strArg)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r109692600",
      "id" : 109692600,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 122,
      "path" : "src/util.cpp",
      "position" : 111,
      "pull_request_review_id" : 30811081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-04T15:17:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109692600",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needed rebase.",
      "created_at" : "2017-04-04T15:17:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#issuecomment-291533224",
      "id" : 291533224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10119",
      "updated_at" : "2017-04-04T15:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/291533224",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r110014965"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110014965"
         }
      },
      "body" : "See https://github.com/bitcoin/bitcoin/pull/9494#discussion_r95578281 for some reason all your reviews are appearing in #10119 instead of #9494 . Can you make the comments there for other reviewers to get them? Remember after #9494 this PR (#10119) is a single commit (that could be squashed to #9494 or not)",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-04-05T20:07:05Z",
      "diff_hunk" : "@@ -378,63 +374,94 @@ void ParseParameters(int argc, const char* const argv[])\n         InterpretNegativeSetting(str, strValue);\n \n         mapArgs[str] = strValue;\n-        _mapMultiArgs[str].push_back(strValue);\n+        mapMultiArgs[str].push_back(strValue);\n     }\n }\n \n-bool IsArgSet(const std::string& strArg)\n+std::vector<std::string> ArgsManager::ArgsAt(const std::string& strArg)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r110014965",
      "id" : 110014965,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 55,
      "path" : "src/util.cpp",
      "position" : 44,
      "pull_request_review_id" : 31155983,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-05T20:07:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110014965",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r110015488"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110015488"
         }
      },
      "body" : "I thought it was more for when you wanted the elements on the vector to be ordered in certain way or something. Leaving the same structure seems easier to review, but once encapsulated it is easy to make further improvements to ArgsManager's internal implementation. ",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-04-05T20:09:36Z",
      "diff_hunk" : "@@ -133,6 +131,16 @@ inline bool IsSwitchChar(char c)\n #endif\n }\n \n+class ArgsManager\n+{\n+protected:\n+    CCriticalSection cs_args;\n+    std::map<std::string, std::string> mapArgs;\n+    std::map<std::string, std::vector<std::string> > mapMultiArgs;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r110015488",
      "id" : 110015488,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 41,
      "path" : "src/util.h",
      "position" : 41,
      "pull_request_review_id" : 31156564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-05T20:09:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110015488",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r110019152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110019152"
         }
      },
      "body" : "oh -- I didn't understand 'includes' to mean builds on the PR. gotcha",
      "commit_id" : "1a52af837b9f20ecd3c9486b120d493e5f5b2fd9",
      "created_at" : "2017-04-05T20:26:06Z",
      "diff_hunk" : "@@ -378,63 +374,94 @@ void ParseParameters(int argc, const char* const argv[])\n         InterpretNegativeSetting(str, strValue);\n \n         mapArgs[str] = strValue;\n-        _mapMultiArgs[str].push_back(strValue);\n+        mapMultiArgs[str].push_back(strValue);\n     }\n }\n \n-bool IsArgSet(const std::string& strArg)\n+std::vector<std::string> ArgsManager::ArgsAt(const std::string& strArg)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#discussion_r110019152",
      "id" : 110019152,
      "original_commit_id" : "11b82c4e32e97e63b779b242d234c855dd187200",
      "original_position" : 55,
      "path" : "src/util.cpp",
      "position" : 44,
      "pull_request_review_id" : 31160548,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10119",
      "updated_at" : "2017-04-05T20:26:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110019152",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "body" : "Incorportated in #9494",
      "created_at" : "2017-05-05T13:11:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10119#issuecomment-299460664",
      "id" : 299460664,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10119",
      "updated_at" : "2017-05-05T13:11:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299460664",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
