{
   "assignee" : null,
   "body" : "Although some code has already been introduced for \"misbehaving\" nodes, I think this could be further extended.\r\n\r\nE.g. nodes ignoring getdata requests. So far, this can cause a node to wait 2 minutes before re-asking, but if enough nodes started ignoring getdata requests, this could possibly cause significant detriment to the network.\r\n\r\nI propose some code that allows nodes to learn the network speed they are operating on, e.g. average times between asking for a tx or a block and receiving one. Then it should be possible to introduce timeouts for nodes which are significantly taking longer than average, and mark them as suspicious (may be that they just have poor network connectivity). This can be particularly of significance when catching up with the blockchain.\r\n\r\nBy learning network speeds, the node can determine whether to download blocks from a number of nodes at once, rather than just one at a time, and also whether to upload blocks to many nodes at once or just one at a time.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1157/comments",
   "created_at" : "2012-04-28T13:50:39Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1157/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/1157",
   "id" : 4335175,
   "labels" : [
      {
         "color" : "ebd775",
         "name" : "Brainstorming",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming"
      },
      {
         "color" : "006b75",
         "name" : "P2P",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1157/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 1157,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "potential problem with nodes ignoring getdata requests",
   "updated_at" : "2014-07-26T17:57:21Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1157",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
      "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
      "followers_url" : "https://api.github.com/users/rebroad/followers",
      "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/rebroad",
      "id" : 1530283,
      "login" : "rebroad",
      "organizations_url" : "https://api.github.com/users/rebroad/orgs",
      "received_events_url" : "https://api.github.com/users/rebroad/received_events",
      "repos_url" : "https://api.github.com/users/rebroad/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/rebroad"
   }
}
