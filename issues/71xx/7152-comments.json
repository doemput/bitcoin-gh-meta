[
   {
      "body" : "utACK. Can't hurt.\r\nBut i guess installing `automake` will install `autoconf` (as depends)?",
      "created_at" : "2015-12-02T06:58:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7152#issuecomment-161201810",
      "id" : 161201810,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7152",
      "updated_at" : "2015-12-02T06:58:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161201810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> But i guess installing `automake` will install `autoconf` (as depends)?\r\n\r\nAh, good point (for both Ubuntu and Debian). Fixed (rebased).",
      "created_at" : "2015-12-02T07:16:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7152#issuecomment-161204635",
      "id" : 161204635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7152",
      "updated_at" : "2015-12-02T07:16:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161204635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/222581?v=3",
         "events_url" : "https://api.github.com/users/posita/events{/privacy}",
         "followers_url" : "https://api.github.com/users/posita/followers",
         "following_url" : "https://api.github.com/users/posita/following{/other_user}",
         "gists_url" : "https://api.github.com/users/posita/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/posita",
         "id" : 222581,
         "login" : "posita",
         "organizations_url" : "https://api.github.com/users/posita/orgs",
         "received_events_url" : "https://api.github.com/users/posita/received_events",
         "repos_url" : "https://api.github.com/users/posita/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/posita/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/posita/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/posita"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-12-02T07:57:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7152#issuecomment-161213267",
      "id" : 161213267,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7152",
      "updated_at" : "2015-12-02T07:57:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161213267",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Isn't it the other way around - doesn't autoconf install automake as dependency?\r\n\r\nI've installed bitcoin core on many VMs (both Debian and Ubuntu) from scratch by following just the build-unix.md instructions, I'm not convinced that this change is needed.\r\n",
      "created_at" : "2015-12-02T10:13:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7152#issuecomment-161247153",
      "id" : 161247153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7152",
      "updated_at" : "2015-12-02T10:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161247153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj wrote:\r\n\r\n> Isn't it the other way around - doesn't autoconf install automake as dependency?\r\n\r\nNo. You are confusing their relationship. From <https://www.gnu.org/software/automake/#introduction> (***emphasis*** added):\r\n\r\n> Automake is a tool for automatically generating `Makefile.in` files compliant with the GNU Coding Standards. ***Automake requires the use of [Autoconf](https://www.gnu.org/software/autoconf/autoconf.html).***\r\n\r\nFrom <https://www.gnu.org/software/autoconf/autoconf.html#family> (***emphasis*** added):\r\n\r\n> Autoconf is often used together with the following software systems:\r\n>\r\n> * ...\r\n> * [GNU Automake](https://www.gnu.org/software/automake/automake.html) ***uses*** Autoconf.\r\n\r\nThis is consistent with Debian's and Ubuntu's package dependencies:\r\n\r\n* https://packages.debian.org/wheezy/automake\r\n* https://packages.debian.org/jessie/automake\r\n* https://packages.debian.org/sid/automake\r\n* http://packages.ubuntu.com/trusty/automake\r\n* http://packages.ubuntu.com/vivid/automake\r\n* http://packages.ubuntu.com/wily/automake\r\n\r\n@laanwj wrote:\r\n\r\n> I've installed bitcoin core on many VMs (both Debian and Ubuntu) from scratch by following just the build-unix.md instructions, I'm not convinced that this change is needed.\r\n\r\nI can't comment on why your intuition is what it is without knowing more about what tools you were using, your understanding of how those tools worked, and what was already on the base images you used for those VMs, but I suspect your confusion stems from one or more of:\r\n\r\n* `automake` was already installed;\r\n* `automake` was getting pulled in as a dependency of something else; or\r\n* you were indiscriminately installing \"recommended\" packages (in both Debian and Ubuntu, `autoconf` *recommends* `automake`, but it doesn't maintain a circular dependency for it)\r\n\r\nI'm guessing it was the last one, because that is the default behavior for `apt-get`. However, relying on recommended packages breaks if you don't install them (e.g., you're aiming for a minimal system by using `apt-get install --no-install-recommends ...`).\r\n\r\nIf you're still unconvinced, try [these](https://gist.github.com/posita/8b082f3930ee1efaa6f9). Excerpts:\r\n\r\n```\r\n% docker build -f Dockerfile-debian-jessie-autoconf .\r\n...\r\n+ ./autogen.sh\r\nCan't exec \"aclocal\": No such file or directory at /usr/share/autoconf/Autom4te/FileUtils.pm line 326.\r\nautoreconf: failed to run aclocal: No such file or directory\r\nThe command '/bin/sh -c BTCD_VERSION=master /tmp/build-unix.sh' returned a non-zero code: 1\r\n```\r\n\r\n```\r\n% docker build -f Dockerfile-debian-jessie-automake .\r\n...\r\n+ ./autogen.sh\r\nlibtoolize: putting auxiliary files in AC_CONFIG_AUX_DIR, `build-aux'.\r\nlibtoolize: copying file `build-aux/ltmain.sh'\r\nlibtoolize: putting macros in AC_CONFIG_MACRO_DIR, `build-aux/m4'.\r\n...\r\n```\r\n\r\n```\r\n% docker build -f Dockerfile-ubuntu-trusty-autoconf .\r\n...\r\n+ ./autogen.sh\r\nCan't exec \"aclocal\": No such file or directory at /usr/share/autoconf/Autom4te/FileUtils.pm line 326.\r\nautoreconf: failed to run aclocal: No such file or directory\r\nThe command '/bin/sh -c BTCD_VERSION=master /tmp/build-unix.sh' returned a non-zero code: 1\r\n```\r\n\r\n```\r\n% docker build -f Dockerfile-ubuntu-trusty-automake .\r\n...\r\n+ ./autogen.sh\r\nlibtoolize: putting auxiliary files in AC_CONFIG_AUX_DIR, `build-aux'.\r\nlibtoolize: copying file `build-aux/ltmain.sh'\r\nlibtoolize: putting macros in AC_CONFIG_MACRO_DIR, `build-aux/m4'.\r\n...\r\n```",
      "created_at" : "2015-12-02T17:38:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7152#issuecomment-161375597",
      "id" : 161375597,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7152",
      "updated_at" : "2015-12-02T17:38:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161375597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/222581?v=3",
         "events_url" : "https://api.github.com/users/posita/events{/privacy}",
         "followers_url" : "https://api.github.com/users/posita/followers",
         "following_url" : "https://api.github.com/users/posita/following{/other_user}",
         "gists_url" : "https://api.github.com/users/posita/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/posita",
         "id" : 222581,
         "login" : "posita",
         "organizations_url" : "https://api.github.com/users/posita/orgs",
         "received_events_url" : "https://api.github.com/users/posita/received_events",
         "repos_url" : "https://api.github.com/users/posita/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/posita/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/posita/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/posita"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-12-02T19:49:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7152#issuecomment-161412720",
      "id" : 161412720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7152",
      "updated_at" : "2015-12-02T19:49:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161412720",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "OK, utACK then",
      "created_at" : "2015-12-03T12:52:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7152#issuecomment-161626966",
      "id" : 161626966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7152",
      "updated_at" : "2015-12-03T12:52:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161626966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
