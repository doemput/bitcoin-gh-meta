[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7177#discussion_r46779746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7177"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46779746"
         }
      },
      "body" : "For those unfamiliar with this test, could you explain why this is necessary?",
      "commit_id" : "fa2429535f83459275bf71aefa030ecd14263e1d",
      "created_at" : "2015-12-07T00:52:34Z",
      "diff_hunk" : "@@ -54,9 +54,9 @@ def run_test(self):\n         # and make sure the mempool code behaves correctly.\n         b = [ self.nodes[0].getblockhash(n) for n in range(101, 105) ]\n         coinbase_txids = [ self.nodes[0].getblock(h)['tx'][0] for h in b ]\n-        spend_101_raw = self.create_tx(coinbase_txids[1], node1_address, 50)\n-        spend_102_raw = self.create_tx(coinbase_txids[2], node0_address, 50)\n-        spend_103_raw = self.create_tx(coinbase_txids[3], node0_address, 50)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#discussion_r46779746",
      "id" : 46779746,
      "original_commit_id" : "faa2ddf1cda48f299c1a53e6b4399b1f953b01b6",
      "original_position" : 6,
      "path" : "qa/rpc-tests/mempool_reorg.py",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7177",
      "updated_at" : "2015-12-08T19:13:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46779746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@MarcoFalke were these the only changes necessary to make all the RPC tests work with fees only and no longer depend priority?  If so, that's fantastic, huge concept ACK.\r\n",
      "created_at" : "2015-12-07T02:30:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-162391215",
      "id" : 162391215,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2015-12-07T02:30:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162391215",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7177#discussion_r46794065"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7177"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46794065"
         }
      },
      "body" : "* By changing the amount you send in a raw transaction, you adjust the fee. Thus we get a `0.01 BTC` fee here. (The exact fee does not matter for this test but it should be `0.0148 BTC > fee > 0.00001 BTC`)\r\n* Current master is broken with free transactions (because it is already running with blockprioritysize=0), so we need the fee here",
      "commit_id" : "fa2429535f83459275bf71aefa030ecd14263e1d",
      "created_at" : "2015-12-07T08:03:08Z",
      "diff_hunk" : "@@ -54,9 +54,9 @@ def run_test(self):\n         # and make sure the mempool code behaves correctly.\n         b = [ self.nodes[0].getblockhash(n) for n in range(101, 105) ]\n         coinbase_txids = [ self.nodes[0].getblock(h)['tx'][0] for h in b ]\n-        spend_101_raw = self.create_tx(coinbase_txids[1], node1_address, 50)\n-        spend_102_raw = self.create_tx(coinbase_txids[2], node0_address, 50)\n-        spend_103_raw = self.create_tx(coinbase_txids[3], node0_address, 50)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#discussion_r46794065",
      "id" : 46794065,
      "original_commit_id" : "faa2ddf1cda48f299c1a53e6b4399b1f953b01b6",
      "original_position" : 6,
      "path" : "qa/rpc-tests/mempool_reorg.py",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7177",
      "updated_at" : "2015-12-08T19:13:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46794065",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@morcos Yes, as pointed out in https://github.com/luke-jr/bitcoin/commit/e4d7271457140ef36b2b0eee7ebb5783e8ccadb4#commitcomment-14810804 there is currently no rpc test to exercise priority sufficiently. (If you look at the diff, the only check was \"Create a free transaction and a child and see if the child pays a fee.\" )",
      "created_at" : "2015-12-07T08:24:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-162446573",
      "id" : 162446573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2015-12-08T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162446573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke: I'm not fully understanding this PR (and it seems other also have problem with it). Could you update the PR description?",
      "created_at" : "2015-12-09T07:58:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163144621",
      "id" : 163144621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2015-12-09T07:58:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/163144621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Oops, forgot to mention this is a cleanup PR of #7022. (Ideally it should have been squashed in there)",
      "created_at" : "2015-12-09T08:01:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163144985",
      "id" : 163144985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2015-12-09T08:01:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/163144985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7177#discussion_r47072849"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7177"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/47072849"
         }
      },
      "body" : "Thanks @MarcoFalke",
      "commit_id" : "fa2429535f83459275bf71aefa030ecd14263e1d",
      "created_at" : "2015-12-09T10:20:47Z",
      "diff_hunk" : "@@ -54,9 +54,9 @@ def run_test(self):\n         # and make sure the mempool code behaves correctly.\n         b = [ self.nodes[0].getblockhash(n) for n in range(101, 105) ]\n         coinbase_txids = [ self.nodes[0].getblock(h)['tx'][0] for h in b ]\n-        spend_101_raw = self.create_tx(coinbase_txids[1], node1_address, 50)\n-        spend_102_raw = self.create_tx(coinbase_txids[2], node0_address, 50)\n-        spend_103_raw = self.create_tx(coinbase_txids[3], node0_address, 50)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#discussion_r47072849",
      "id" : 47072849,
      "original_commit_id" : "faa2ddf1cda48f299c1a53e6b4399b1f953b01b6",
      "original_position" : 6,
      "path" : "qa/rpc-tests/mempool_reorg.py",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7177",
      "updated_at" : "2015-12-09T10:20:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/47072849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "I've been running the extended tests (excluded `pruning.py`) with `assert(fee!=0)` in mempool to verify there are no zero-fee transactions any more. Haven't yet checked for free transactions (per policy) though.",
      "created_at" : "2015-12-10T19:27:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163725799",
      "id" : 163725799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2016-01-07T16:54:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/163725799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "ACK\r\nThanks for doing this, I agree I should have done it originally.",
      "created_at" : "2015-12-10T21:33:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163755769",
      "id" : 163755769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2015-12-10T21:33:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/163755769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2015-12-11T04:09:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163834602",
      "id" : 163834602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2015-12-11T04:09:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/163834602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-12-11T05:15:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-163843260",
      "id" : 163843260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2015-12-11T05:15:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/163843260",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "* Travis passes\r\n* Extended tests do not fail with `assert(nFees!=0);` and `assert(nFees >= ::minRelayTxFee.GetFee(nSize));` in mempool.\r\n\r\nIf someone wants to verify this, maybe the following diff might be useful:\r\n\r\n`$ qa/pull-tester/rpc-tests.py -extended; git diff`\r\n\r\n```diff\r\ndiff --git a/qa/pull-tester/rpc-tests.py b/qa/pull-tester/rpc-tests.py\r\nindex e7173fd..bb89d65 100755\r\n--- a/qa/pull-tester/rpc-tests.py\r\n+++ b/qa/pull-tester/rpc-tests.py\r\n@@ -117,5 +117,5 @@ testScriptsExt = [\r\n     'txn_doublespend.py',\r\n     'txn_clone.py --mineblock',\r\n-    'pruning.py',\r\n+#    'pruning.py', # too long\r\n     'forknotify.py',\r\n     'invalidateblock.py',\r\ndiff --git a/qa/rpc-tests/prioritise_transaction.py b/qa/rpc-tests/prioritise_transaction.py\r\nindex 4a79d38..2ada1be 100755\r\n--- a/qa/rpc-tests/prioritise_transaction.py\r\n+++ b/qa/rpc-tests/prioritise_transaction.py\r\n@@ -107,10 +107,12 @@ class PrioritiseTransactionTest(BitcoinTestFramework):\r\n \r\n         try:\r\n-            self.nodes[0].sendrawtransaction(tx2_hex)\r\n+            # Don't send 0 fee transaction\r\n+            # self.nodes[0].sendrawtransaction(tx2_hex)\r\n+            pass\r\n         except JSONRPCException as exp:\r\n             assert_equal(exp.error['code'], -26) # insufficient fee\r\n             assert(tx2_id not in self.nodes[0].getrawmempool())\r\n         else:\r\n-            assert(False)\r\n+            assert(True)\r\n \r\n         # This is a less than 1000-byte transaction, so just set the fee\r\n@@ -120,6 +122,6 @@ class PrioritiseTransactionTest(BitcoinTestFramework):\r\n \r\n         print \"Assert that prioritised free transaction is accepted to mempool\"\r\n-        assert_equal(self.nodes[0].sendrawtransaction(tx2_hex), tx2_id)\r\n-        assert(tx2_id in self.nodes[0].getrawmempool())\r\n+        # assert_equal(self.nodes[0].sendrawtransaction(tx2_hex), tx2_id)\r\n+        # assert(tx2_id in self.nodes[0].getrawmempool())\r\n \r\n if __name__ == '__main__':\r\ndiff --git a/src/main.cpp b/src/main.cpp\r\nindex 9870bee..4fda8fc 100644\r\n--- a/src/main.cpp\r\n+++ b/src/main.cpp\r\n@@ -970,4 +970,8 @@ bool AcceptToMemoryPoolWorker(CTxMemPool& pool, CValidationState &state, const C\r\n                 strprintf(\"%d\", nSigOps));\r\n \r\n+        assert(nFees!=0);\r\n+        assert(nFees >= ::minRelayTxFee.GetFee(nSize));\r\n+        assert(nModifiedFees >= ::minRelayTxFee.GetFee(nSize));\r\n+\r\n         CAmount mempoolRejectFee = pool.GetMinFee(GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000).GetFee(nSize);\r\n         if (mempoolRejectFee > 0 && nModifiedFees < mempoolRejectFee) {",
      "created_at" : "2016-01-07T18:46:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-169769968",
      "id" : 169769968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2016-01-20T16:10:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169769968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Needs rebase",
      "created_at" : "2016-01-20T12:46:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173194392",
      "id" : 173194392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2016-01-20T12:46:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173194392",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased",
      "created_at" : "2016-01-20T16:01:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173249399",
      "id" : 173249399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2016-01-20T16:01:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173249399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@morcos I think @laanwj is waiting for you to re-ACK this.",
      "created_at" : "2016-01-22T12:16:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173902205",
      "id" : 173902205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2016-01-22T12:16:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173902205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "I can't re-ACK right now as I'm out of town.  I extensively reviewed and tested the first version.  Without knowing what changed I don't know how to re-ACK without redoing all that work.\r\n",
      "created_at" : "2016-01-22T12:19:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173902638",
      "id" : 173902638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2016-01-22T12:19:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173902638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "The only actual content conflict is in the line where I remove `-blockprioritysize=50000`. If you tell me the commit you reviewed initially I can upload it for you.\r\n\r\nIndirect content conflicts are two rpc test which rely on priority transaction getting accepted into the mempool:\r\n\r\n* abandonconflict.py\r\n* prioritise_transaction.py\r\n\r\nBut those can be addressed in a later pull. (I will only focus on priority transaction getting into blocks)",
      "created_at" : "2016-01-22T12:27:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7177#issuecomment-173907809",
      "id" : 173907809,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7177",
      "updated_at" : "2016-01-22T12:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173907809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
