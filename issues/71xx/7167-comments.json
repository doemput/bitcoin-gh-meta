[
   {
      "body" : "This doesn't crash immediately from the use after free with the CValidationstate escaping its scope?",
      "created_at" : "2015-12-04T00:07:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161829742",
      "id" : 161829742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T00:07:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161829742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Didn't crash for me....odd...tests passed on OSX(which is what I tested the change on), but not other OS's should it have failed?",
      "created_at" : "2015-12-04T00:30:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161834894",
      "id" : 161834894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T00:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161834894",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "Hmm, so it appeared to crash sometimes, hopefully this should fix it.",
      "created_at" : "2015-12-04T01:03:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161841654",
      "id" : 161841654,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T01:03:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161841654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "You still have a race on block.",
      "created_at" : "2015-12-04T01:34:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161846236",
      "id" : 161846236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T01:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161846236",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Yeah, I think I'm missing a lock, which lock does TBV need to be under?",
      "created_at" : "2015-12-04T01:36:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161846481",
      "id" : 161846481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T01:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161846481",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "So what will catch the runtime_error that is thrown if it fails?\r\nPreviously the RPC code caught that and returned an JSON-RPC error, but the node kept running.\r\n",
      "created_at" : "2015-12-04T01:43:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161847312",
      "id" : 161847312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T01:43:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161847312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos I changed it to an assert so that it should shutdown instead",
      "created_at" : "2015-12-04T02:31:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161853651",
      "id" : 161853651,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T02:31:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161853651",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "Please gate this on an option off by default.\nOn Dec 3, 2015 6:31 PM, \"jameshilliard\" <notifications@github.com> wrote:\n\n> @morcos <https://github.com/morcos> I changed it to an assert so that it\n> should shutdown instead\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161853651>.\n>\n",
      "created_at" : "2015-12-04T03:56:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161867129",
      "id" : 161867129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T03:56:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161867129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "@pstratem If it's off by default a miner could keep mining on invalid templates without realizing anything is wrong.",
      "created_at" : "2015-12-04T04:03:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161868236",
      "id" : 161868236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T04:03:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161868236",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "I'm asking for background vs inline to be selectable.\n\nSo you always call TestBlockValidity, the question just being when.\nOn Dec 3, 2015 8:04 PM, \"jameshilliard\" <notifications@github.com> wrote:\n\n> @pstratem <https://github.com/pstratem> If it's off by default a miner\n> could keep mining on invalid templates without realizing anything is wrong.\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161868236>.\n>\n",
      "created_at" : "2015-12-04T04:08:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161868558",
      "id" : 161868558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T04:08:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161868558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "Well I moved TBV to be inside of getblocktemplate, the only tests that seem to be failing now are the ones that expect TBV to be inside of CNB.",
      "created_at" : "2015-12-04T06:36:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-161890424",
      "id" : 161890424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-04T06:36:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161890424",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "I'm thinking the easiest way to do this is to copy the block generated by CNB for the TBV thread and use a modified version of TBV that doesn't depend on the cs_main lock, is it possible to test the block well enough without the cs_main lock?",
      "created_at" : "2015-12-05T01:09:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162121452",
      "id" : 162121452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T01:09:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162121452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "There is no way you can do TBV without cs_main, as it needs to access the\nUTXO set.\n",
      "created_at" : "2015-12-05T03:00:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162134582",
      "id" : 162134582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:00:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162134582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa does it do the check based on the current UTXO set only or is it possible for it to do the check based off a historical UTXO set? ie so the thread can be run in the background with a trylock waiting for GBT to release its lock?",
      "created_at" : "2015-12-05T03:13:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162135151",
      "id" : 162135151,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:13:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162135151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "@jameshilliard the only way to make the test act truly in parallel would be to re-implement the utxo database as a proper mvcc database...",
      "created_at" : "2015-12-05T03:23:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162135606",
      "id" : 162135606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:23:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162135606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "@pstratem it doesn't need to be parallel so much as not block CNB/GBT",
      "created_at" : "2015-12-05T03:27:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162135781",
      "id" : 162135781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:27:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162135781",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "And not block with other calls to ProcessNewBlock.\n",
      "created_at" : "2015-12-05T03:35:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162136076",
      "id" : 162136076,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:35:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162136076",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "What types of failures are we worried about in regards to CNB? Would it be reasonably safe to skip checks that depend on the UTXO set?",
      "created_at" : "2015-12-05T03:39:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162136255",
      "id" : 162136255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:39:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162136255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "If you skip checks based on the UTXO set, it cannot do anything. It can't\ndo double-spend detection, script evaluation, fee/subsidy calculations, ...\n",
      "created_at" : "2015-12-05T03:44:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162136449",
      "id" : 162136449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:44:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162136449",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "The new CNB code is already intended to never ever produce an invalid\nblock. TBV is a last-resort validation to be sure the code is working\nright. If you're going to skip checks, it is no longer useful; you could\njust as well not do any checks at all.\n\nSo, no, you need cs_main. And you need to make sure no ProcessBlock\nhappened in between either.\n",
      "created_at" : "2015-12-05T03:48:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162136634",
      "id" : 162136634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:48:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162136634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Yeah, I wasn't sure if we are trying to protect against mempool errors or more just formatting errors.",
      "created_at" : "2015-12-05T03:50:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-162136859",
      "id" : 162136859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2015-12-05T03:50:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162136859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3298484?v=3",
         "events_url" : "https://api.github.com/users/jameshilliard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jameshilliard/followers",
         "following_url" : "https://api.github.com/users/jameshilliard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jameshilliard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jameshilliard",
         "id" : 3298484,
         "login" : "jameshilliard",
         "organizations_url" : "https://api.github.com/users/jameshilliard/orgs",
         "received_events_url" : "https://api.github.com/users/jameshilliard/received_events",
         "repos_url" : "https://api.github.com/users/jameshilliard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jameshilliard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jameshilliard"
      }
   },
   {
      "body" : "Closing, as this is not a viable strategy.\r\n\r\nI think there are alternatives possible (like not running TBV for every block, or running TBV while still holding cs_main, before after returning from the RPC), but maybe it's just much less needed with the much faster 0.12 CNB?",
      "created_at" : "2016-05-17T06:44:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7167#issuecomment-219632955",
      "id" : 219632955,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7167",
      "updated_at" : "2016-05-17T06:44:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219632955",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
