{
   "assignee" : null,
   "assignees" : [],
   "body" : "As I was testing my new bitcoin core HD wallet through the `bitcoin-qt` interface (v0.13.2), when using `Receive > Request payment` I realized that I was presented with the a payment address which had already been used (despite the checkbox Reuse an existing address not being checked). Looking more closely into this, it seems that this happens if you restore your HD wallet from a backup file (specifically delete your `wallet.dat` file and replace it by the `wallet.dat` which you had saved just after creating your new wallet and encrypting it). So it seems if you need to restore an HD wallet from an old backup file, it will be reusing prior addresses (unless you are being careful and click on Request payment several times until you obtain a brand new address).\r\n\r\n    $ uname -a\r\n    Linux front 4.8.0-1-amd64 #1 SMP Debian 4.8.7-1 (2016-11-13) x86_64 GNU/Linux\r\n",
   "closed_at" : "2017-02-11T21:06:26Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
      "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sipa/followers",
      "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sipa",
      "id" : 548488,
      "login" : "sipa",
      "organizations_url" : "https://api.github.com/users/sipa/orgs",
      "received_events_url" : "https://api.github.com/users/sipa/received_events",
      "repos_url" : "https://api.github.com/users/sipa/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sipa"
   },
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9741/comments",
   "created_at" : "2017-02-11T07:45:45Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9741/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/9741",
   "id" : 206965728,
   "labels" : [
      {
         "color" : "02d7e1",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9741/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 9741,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Bitcoin-core restored HD wallet reusing payment address",
   "updated_at" : "2017-02-11T21:06:34Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9741",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/12125789?v=3",
      "events_url" : "https://api.github.com/users/possientis/events{/privacy}",
      "followers_url" : "https://api.github.com/users/possientis/followers",
      "following_url" : "https://api.github.com/users/possientis/following{/other_user}",
      "gists_url" : "https://api.github.com/users/possientis/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/possientis",
      "id" : 12125789,
      "login" : "possientis",
      "organizations_url" : "https://api.github.com/users/possientis/orgs",
      "received_events_url" : "https://api.github.com/users/possientis/received_events",
      "repos_url" : "https://api.github.com/users/possientis/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/possientis/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/possientis/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/possientis"
   }
}
