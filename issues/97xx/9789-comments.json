[
   {
      "body" : "after two hash.h VLAs fixed:\r\nACK https://github.com/bitcoin/bitcoin/pull/9789/commits/e1cea619753654de3e38194cabc4a8214346f6ce",
      "created_at" : "2017-02-17T21:50:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-280776203",
      "id" : 280776203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-17T21:50:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280776203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "For Travis this should be a hard error, to avoid VLAs (as detected by our compiler) from getting into the code base. For user builds I'm fine with making it just a warning.",
      "created_at" : "2017-02-21T13:35:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281345729",
      "id" : 281345729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-21T13:35:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281345729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I like the idea of having Travis yell about new warnings. Not just this one.\r\n\r\nMany projects have an --enable-werror setting. How about we keep this as a warning, add a --enable-werror, and turn it on for travis (after cleaning up the straggler warnings we have)? We can always disable them case-by-case as they come up, and that keeps Werror from affecting regular user builds.",
      "created_at" : "2017-02-21T15:37:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281379916",
      "id" : 281379916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-21T15:37:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281379916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Sounds good to me.",
      "created_at" : "2017-02-21T16:03:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281388075",
      "id" : 281388075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-21T16:03:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281388075",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Updated. Split into 2 commits in case we want to backport the vla warning.\r\n\r\nWe'll definitely have to do some housecleaning if we enable Werror wholesale for Travis, and I suspect that will cause some grumbles about changing code for the sake of shutting up the compiler.\r\n\r\nSo maybe instead we should begin to slowly add warnings we definitely want Travis to error on?",
      "created_at" : "2017-02-22T06:58:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281586199",
      "id" : 281586199,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-22T06:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281586199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "OK ",
      "created_at" : "2017-02-22T07:01:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281586672",
      "id" : 281586672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-22T07:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281586672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24351366?v=3",
         "events_url" : "https://api.github.com/users/shyii/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shyii/followers",
         "following_url" : "https://api.github.com/users/shyii/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shyii/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shyii",
         "id" : 24351366,
         "login" : "shyii",
         "organizations_url" : "https://api.github.com/users/shyii/orgs",
         "received_events_url" : "https://api.github.com/users/shyii/received_events",
         "repos_url" : "https://api.github.com/users/shyii/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shyii/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shyii/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shyii"
      }
   },
   {
      "body" : "Cory and I talked a bit about this in IRC.\r\n\r\nMy 2ÃÂ¢:\r\n\r\nI think that the usefulness of travis is somewhat finicky. If builds are failing for some large set of style reasons, then this is going to really slow down feature branch development, where this can be fixed up later but getting functional results are more important. Or people will place lower value on red-x's from Travis during development if errors are frequent. Furthermore, just building locally isn't really an option as I think I'm not in the minority that use Travis to test against whatever build platforms travis tests. Ideally, Travis would have multi-axis failures, where you can say code passes functional tests but not style tests. Code that passes functional tests could be ready for review from others, and in some cases, nudging the compiler in the right direction is non-obvious (as is the case with some of the VLA things)! This could be done by only running style checks on bitcoin/bitcoin.\r\n\r\nOne problem with just enabling style checks on bitcoin/bitcoin (and not on forks) is that it will be really frustrating if you pass travis on your fork, and then you PR master and then it fails due to style checks you didn't run yourself.\r\n\r\nI think one way to do this is to add another (few?) travis build targets where strong-er flags are tested. That way, you can see easily if your build fail was from styler errors or from functional errors. It's not ideal in that a style failed build will still get an overall red-x, but at least one can see that a build fail was caused by style & not functionality without needing to muck around in the travis logs.\r\n\r\nAnother nice way to do this would be to add a style-check branch that has the style checks enabled, that one can PR-against on their own branch before PR'ing master, and only enable the style checks on any PR in bitcoin/bitcoin OR on PR to any branch named style-check.",
      "created_at" : "2017-02-22T07:32:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281591405",
      "id" : 281591405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-22T07:32:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281591405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "body" : "@JeremyRubin I agree in general but please, let's not get into that discussion here. This is not merely a style check! VLAs cause stack-protection to not work for that function, so effectively decrease the hardening of the code. I'm fine with making it the only warning that stops travis, but it should do that.\r\n",
      "created_at" : "2017-02-22T08:28:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281601985",
      "id" : 281601985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-22T08:28:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281601985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Ok, I narrowed werror to only vla's for now. We can add to the list as we come up with more obvious errors.\r\n\r\nAs @JeremyRubin had a few concerns about how to actually hook this up to travis, I left that out here. We can do that as a next step.",
      "created_at" : "2017-02-23T06:08:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281903919",
      "id" : 281903919,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-23T06:08:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281903919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "utACK  205830a",
      "created_at" : "2017-02-23T09:48:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9789#issuecomment-281945527",
      "id" : 281945527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9789",
      "updated_at" : "2017-02-23T09:48:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281945527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
