{
   "assignee" : null,
   "assignees" : [],
   "body" : "#9262 introduced `-walletrejectlongchains`, which prevents the wallet from adding transactions which would form a chain which is too long to be accepted by the mempool. However, it's set to false by default.\r\n\r\nThere are legitimate reasons for wanting the wallet to accept longer chains than the mempool, and #9290 does ensure that wallet transactions will be resubmitted to the mempool eventually. However, in the mainline case the behaviour is confusing for the user and the wallet should reject the long chains. See for instance #10004 and #9752.\r\n\r\nThis PR sets `-walletrejectlongchains` to true by default, and makes the wallet reject transactions that form a chain up to (maxlength - 1). This means that the user has one final chance to add a transaction to the chain by restarting with `-walletrejectlongchains` set to false. This could be helpful if a user wants to use CPFP to unstick a transaction package with too low fees.\r\n\r\nTests also updated to verify new behaviour.\r\n\r\nThis PR also changes the error message returned if Coin Selection fails. Currently, if Coin Selection fails, then the error returned to the user is \"Insufficient Funds\". This is misleading as Coin Selection can fail for other reasons, such as if the transaction would form a chain that is too long to enter the mempool. This commit changes the error message returned from \"Insufficient Funds\" to \"Coin Selection Failed\" and updates the test scripts to expect the correct error message.",
   "closed_at" : "2017-06-30T18:24:40Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   },
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10015/comments",
   "created_at" : "2017-03-16T19:00:35Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10015/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/10015",
   "id" : 214806389,
   "labels" : [
      {
         "color" : "02d7e1",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10015/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 10015,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/10015.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10015",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/10015.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10015"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Wallet should reject long chains by default",
   "updated_at" : "2017-06-30T18:24:40Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10015",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   }
}
