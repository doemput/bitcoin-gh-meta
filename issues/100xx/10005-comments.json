[
   {
      "body" : "If this is reproduceable, can you try running with -debug? Either way, can you paste more of the debug.log? There isn't enough in the three lines you posted to figure much out.\n\nOn March 15, 2017 3:16:02 PM PDT, Sheldon <notifications@github.com> wrote:\n>This issue tracker is only for technical issues related to\n>bitcoin-core.\n>\n>General bitcoin questions and/or support requests and are best directed\n>to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com).\n>\n>For reporting security issues, please read instructions at\n>[https://bitcoincore.org/en/contact/](https://bitcoincore.org/en/contact/).\n>\n>The UI never appears. It seems to get stuck at \"Done loading\"\n>\n><img width=\"481\" alt=\"screen shot 2017-03-15 at 6 13 42 pm\"\n>src=\"https://cloud.githubusercontent.com/assets/733784/23973169/4441d62e-09ab-11e7-9670-1b7a817a2848.png\">\n>\n>The final entries in debug.log are\n>```2017-03-15 22:12:34 UPnP Port Mapping successful.\n>2017-03-15 22:12:43 Loading addresses from DNS seeds (could take a\n>while)\n>2017-03-15 22:12:44 202 addresses found from DNS seeds\n>2017-03-15 22:12:44 dnsseed thread exit```\n>\n>### Can you reliably reproduce the issue?\n>#### If so, please list the steps to reproduce below:\n>1. Start bitcoin-qt (on OS X 10.12.3) using a custom data directory\n>\n>### Expected behaviour\n>The QT UI should appear.\n>\n>### Actual behaviour\n>Tell us what happens instead\n>\n>### Screenshots.\n>If the issue is related to the GUI, screenshots can be added to this\n>issue via drag & drop.\n>\n>### What version of bitcoin-core are you using?\n>List the version number/commit ID, and if it is an official binary,\n>self compiled or a distribution package such as PPA.\n>\n>### Machine specs:\n>- OS:\n>- CPU:\n>- RAM:\n>- Disk size:\n>- Disk Type (HD/SDD):\n>\n>### Any extra information that might be useful in the debugging\n>process.\n>This is normally the contents of a `debug.log` or `config.log` file.\n>Raw text or a link to a pastebin type site are preferred.\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/10005\n",
      "created_at" : "2017-03-16T03:19:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-286946768",
      "id" : 286946768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-16T03:19:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286946768",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I vaguely remember that I have also encountered this one time... but I could not reproduce it. Could be a race.\r\n@sheldonth: do you have this behaviour every time you start bitcoin-qt? What QT version are you using? A pastebin of your config.log would indeed be helpful.",
      "created_at" : "2017-03-16T08:59:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-286995540",
      "id" : 286995540,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-16T08:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286995540",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I think it can (rarely) still happen that the start of the GUI is blocked on cs_main because it is verifying blocks (the problem discussed in #8117) that came in last session.\r\nIn that case it should continue to log \"UpdateTip: new best=...\" lines and come up at some point.\r\nSee https://github.com/bitcoin/bitcoin/pull/8392#issuecomment-236897026",
      "created_at" : "2017-03-16T10:07:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-287011485",
      "id" : 287011485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-16T10:07:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287011485",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Hi -- so I just let the \"Done loading\" screen sit there all night and it looks like the entire system behaved as it should have -- loading blocks and catching up the chain. Here is a gist of the entire debug.log @TheBlueMatt https://gist.github.com/sheldonth/2ba09ba625375bee7f2f64957ca4fe10\r\n\r\nI have yet to be able to get the QT UI to appear. I am using 0.14 -- one factor to note is that my bitcoin data directory is on an external drive which also had Time Machine backups start on it (automatically) while bitcoin was trying to open. I realized this morning that I was simultaneously Time Machine'ing a backup onto the same drive that Bitcoin was working off of. I wonder if that could've casued the locks referred to above. Since I can currently reproduce the problem I will try starting bitcoin with the -debug flag and sending any other logs over. ",
      "created_at" : "2017-03-16T14:56:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-287083346",
      "id" : 287083346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-16T14:56:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287083346",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/733784?v=3",
         "events_url" : "https://api.github.com/users/sheldonth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sheldonth/followers",
         "following_url" : "https://api.github.com/users/sheldonth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sheldonth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sheldonth",
         "id" : 733784,
         "login" : "sheldonth",
         "organizations_url" : "https://api.github.com/users/sheldonth/orgs",
         "received_events_url" : "https://api.github.com/users/sheldonth/received_events",
         "repos_url" : "https://api.github.com/users/sheldonth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sheldonth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sheldonth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sheldonth"
      }
   },
   {
      "body" : "Update: Now that I updated to the latest chaintip whilst stuck at the \"Done Loading\" screen overnight I tried again starting 0.14 and I was able to get the GUI up -- should note that it's very UI-lock intenseive (e.g. seeing the spinning pinwheel on OSX very aggressively). But it looks like the lack-of-UI problem has somewhat resolved itself. ",
      "created_at" : "2017-03-16T15:00:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-287084756",
      "id" : 287084756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-16T15:00:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287084756",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/733784?v=3",
         "events_url" : "https://api.github.com/users/sheldonth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sheldonth/followers",
         "following_url" : "https://api.github.com/users/sheldonth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sheldonth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sheldonth",
         "id" : 733784,
         "login" : "sheldonth",
         "organizations_url" : "https://api.github.com/users/sheldonth/orgs",
         "received_events_url" : "https://api.github.com/users/sheldonth/received_events",
         "repos_url" : "https://api.github.com/users/sheldonth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sheldonth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sheldonth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sheldonth"
      }
   },
   {
      "body" : "Yea, Bitcoin Core (still) doesn't do well with super slow disks, though we should likely fix the slow-to-open-GUI issue.\n\nOn March 16, 2017 8:00:44 AM PDT, Sheldon <notifications@github.com> wrote:\n>Update: Now that I updated to the latest chaintip whilst stuck at the\n>\"Done Loading\" screen overnight I tried again starting 0.14 and I was\n>able to get the GUI up -- should note that it's very UI-lock intenseive\n>(e.g. seeing the spinning pinwheel on OSX very aggressively). But it\n>looks like the lack-of-UI problem has somewhat resolved itself. \n>\n>-- \n>You are receiving this because you were mentioned.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-287084756\n",
      "created_at" : "2017-03-16T16:27:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-287112758",
      "id" : 287112758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-16T16:27:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287112758",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Looks after more users affected by this problem: http://bitcoin.stackexchange.com/questions/50117/bitcoint-core-gui-will-not-display-once-index-is-loaded",
      "created_at" : "2017-03-17T14:20:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-287366441",
      "id" : 287366441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-17T14:20:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287366441",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "So it seems the point where it blocks on cs_main has been moved from during the splash screen (albeit with the wrong message) to the handover between the splash screen and the GUI. Somewhat awkward. Seems a well-meant change made the user experience (in some cases) worse.\r\n\r\nIdeally we should never block the GUI on anything that requires cs_main. That's non-trivial, though, as e.g. getting the wallet transaction list from the core requires that lock, and showing the window but not showing transactions is not nice either... (though it could show e.g. a \"Fetching transactions...\" overlay).\r\n\r\nAlso we should find a solution to the validation thread starving other threads of any access to cs_main. It drops the lock but not for long enough for anyone else to have a chance to grab it (?). \"pthread_yield\" didn't seem to solve it either from tests in #8117. Maybe adding a delay is the only option, but that's quite ugly as it would slow down the validation progress... :/",
      "created_at" : "2017-03-18T10:07:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-287532053",
      "id" : 287532053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-03-18T10:08:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287532053",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@jonasschnelli Been doing some testing on the 0.14.2 binaries and I'm certain that your work in !10231 has solved this problem. I'd also like to deeply thank you for that effort, the UI lock issue was a huge usability hangup for me lately. ",
      "created_at" : "2017-06-19T17:05:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-309503871",
      "id" : 309503871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-06-19T17:05:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309503871",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/733784?v=3",
         "events_url" : "https://api.github.com/users/sheldonth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sheldonth/followers",
         "following_url" : "https://api.github.com/users/sheldonth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sheldonth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sheldonth",
         "id" : 733784,
         "login" : "sheldonth",
         "organizations_url" : "https://api.github.com/users/sheldonth/orgs",
         "received_events_url" : "https://api.github.com/users/sheldonth/received_events",
         "repos_url" : "https://api.github.com/users/sheldonth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sheldonth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sheldonth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sheldonth"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "This is closeable. ",
      "created_at" : "2017-09-05T12:59:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10005#issuecomment-327167536",
      "id" : 327167536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10005",
      "updated_at" : "2017-09-05T12:59:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327167536",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/14876936?v=4",
         "events_url" : "https://api.github.com/users/Leviathn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Leviathn/followers",
         "following_url" : "https://api.github.com/users/Leviathn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Leviathn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Leviathn",
         "id" : 14876936,
         "login" : "Leviathn",
         "organizations_url" : "https://api.github.com/users/Leviathn/orgs",
         "received_events_url" : "https://api.github.com/users/Leviathn/received_events",
         "repos_url" : "https://api.github.com/users/Leviathn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Leviathn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Leviathn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Leviathn"
      }
   }
]
