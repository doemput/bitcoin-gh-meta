[
   {
      "body" : "I'm not sure the use of this is in practice, besides testing,but you can effectively already achieve this with `invalidateblock` and `reconsiderblock`. Invalidate the forks that you don't want to be on - and switch back by validating the blocks again.\r\n",
      "created_at" : "2015-11-12T09:27:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156045402",
      "id" : 156045402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T09:27:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156045402",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Yep, indeed those 2 commands do have a method for doing what I've suggested.\r\nHeh, they've only been around for a ... year ... guess I should look closer at the code changes :)\r\n\r\nI'd guess that a switch from a 'valid' fork would be done by invalidating then revalidating a block in the 'other' fork, and an 'offending' fork switch (for a fork that was a network issue like the v3 fork and you wouldn't want to ever continue) would simply be to invalidate a block in the 'offending' fork.",
      "created_at" : "2015-11-12T09:45:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156051307",
      "id" : 156051307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T09:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156051307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=3",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "body" : "@laanwj thats a pretty dangerous suggestion (and the risk of miners doing that was a reason we considered leaving out out those RPCs in the first place)... because in the common case that the fork you heard first was the actual longer one if your software screws up and you fail to revalidate it, you'll continue on forking the network.\r\n\r\nThe normal reason for asks like this is because of a high-ish hashpower miner who found a tying block moments after they had already accepted a first longer block from the network (due to hardware and submission delays); and rather than accept their defeat gracefully they'd like to attempt a momentary majority hashpower attack and try to get lucky excluding the other block.   If you simulate this behavior of selfishly mining on your own later blocks, for many hashrate distributions and latency choices it gives _massively_ worse convergence times for the network. (I think for a toy example of two 50% miners and a 30 second submission latency it increased the frequency of 6+ deep reorgs 100 fold or something insane like that)\r\n\r\nPerhaps it would be better to focus more on cutting down on the submission latency side of it, since asking miners to not behave in a way thats adversarial towards the network may not be sustainable-- but historically many hardware vendors have not cared too much about eliminating these latencies. ",
      "created_at" : "2015-11-12T09:46:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156051325",
      "id" : 156051325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T09:46:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156051325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Based on this thread I think we need to either remove these debugging RPCs in further releases or provide an additional RPC that twiddles the time ordering without invalidating.  Having miners deploy half tested software to prefer their own blocks using invalidateblock would be a disaster waiting to happen which we should have nothing to do with.",
      "created_at" : "2015-11-12T09:48:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156051853",
      "id" : 156051853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T09:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156051853",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "ACK. I would love to remove those RPCs, but I don't think we can, so a time-order-twiddling RPC (that only allows twiddling by 5 seconds or something similar) might be better than the alternative :(\n\nOn November 12, 2015 1:48:54 AM PST, Gregory Maxwell <notifications@github.com> wrote:\n>Based on this thread I think we need to either remove these debugging\n>RPCs in further releases or provide an additional RPC that twiddles the\n>time ordering without invalidating.  Having miners deploy half tested\n>software to prefer their own blocks using invalidate block would be a\n>disaster waiting to happen which we should have nothing to do with.\n>\n>---\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156051853\n",
      "created_at" : "2015-11-12T09:54:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156053161",
      "id" : 156053161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T09:54:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156053161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Ah, so suddenly we have the implication that the person who allowed these RPC calls into bitcoin should not have? Interesting.\r\nThough I do wonder why it is considered half tested software if it is part of the release code.\r\n\r\nYet I've stated a clear use case that is advantageous to the bitcoin network\r\n\r\nI've no specific idea how bitmain and f2pool did resolve their v2/v3 bitcoin states in the biggest fork recently, but when I contacted bitmain and asked them to switch away from their v2 fork, it did indeed take a while for them to do that.\r\nI wonder if they too (like me) didn't realise these commands existed and thus the problem lasted longer than if they had known about these ...",
      "created_at" : "2015-11-12T10:01:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156055368",
      "id" : 156055368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T10:04:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156055368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=3",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "body" : "Would a patch to add an RPC 'preferblock' be acceptable, that makes it win\nfrom all other blocks with the same work?\n",
      "created_at" : "2015-11-12T10:04:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156055980",
      "id" : 156055980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T10:04:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156055980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I'd guess in that case the problem would be if someone on an 'offending' fork wanting to switch to the 'considered correct' fork but the 'offending' fork was higher, then (as stated) it would indeed be possible with the current RPC",
      "created_at" : "2015-11-12T10:07:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156056666",
      "id" : 156056666,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T10:07:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156056666",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=3",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "body" : "@kanoi You mean me? As I was the big prodding force to get these in.  No-- I didn't say they shouldn't have been done, but rather we put them in knowing that the network was currently vulnerable to at the time non-public forking vulnerability (the one that just split PPC recently) and I was concerned that given the difficulty of contacting miners and the problems with reindexing that happened with the March 2013 fork we needed a tool available that would allow switching forks manually without reindexing, but couldn't even disclose the need.  Turns out they're _super_ useful for testing too.  \r\n\r\nBut now that they've been suggested for overriding the fastest convergence behavior that suggestion can't be taken back, and we need to provide a safe way of doing that (preferblock), because doing it via invalidate is not generally safe. Thats all, no big deal. Even 'preferblock' is not all that safe: as I mention, in many network typologies preferring your own blocks over tied earlier ones has really bad impacts on convergence; but we can't stop people from doing that. We can at least reduce provide a way that limits the harm to an increase in large reorgs rather than outright network forking.\r\n\r\nIn the case of f2pool, their bitcoind was on the correct chain; but other mining software which did not enforce any network validity rules was ignoring it and extending another chain because it had more blocks. This didn't help there.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
      "created_at" : "2015-11-12T10:09:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156057103",
      "id" : 156057103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T10:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156057103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I was kind of wary to add these RPC calls in the first place. But it's impossible to keep people from doing bad stuff with them. Even if they were to be removed, miners could just patch their node software to include them. They could implement similar functionality even before it was considered for Bitcoin Core.\r\n\r\nI think it is good to have this discussion though, at least now it is documented publicly that it is a bad idea and why.\r\n",
      "created_at" : "2015-11-12T10:13:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156057946",
      "id" : 156057946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T10:13:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156057946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "What is PPC?\r\n\r\nI'm wondering why orphan races are considered to be such an issue that it would prompt suggestions to change the release code and thus try to ban access to an interface (that is already available)\r\n\r\nI'd consider exaggeration for effect not really a good argument.\r\n5 or 6 depth forks are ever so unlikely that they should only ever to be likely to occur when there is a network problem, and this interface would indeed be the fastest solution to that problem.\r\n\r\n@gmaxwell - I'm not sure why you brought that up, but I've posted details on the forum and told many manufacturers about the importance of latency and block change handling in their miners for many years.\r\nhttps://bitcointalk.org/index.php?topic=294499.0\r\nCon and I implemented the original code for dealing with that in cgminer (a certain 'other' person wouldn't make his changes, he made for that, public after I asked him to implement it in his BFL driver ...)",
      "created_at" : "2015-11-12T10:32:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156064263",
      "id" : 156064263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T10:58:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156064263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=3",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "body" : "PPC is some altcoin based on the bitcoin core codebase; and like most others hasn't kept up with fixes.\r\n\r\nIf miners prefer their own blocks over earlier received ones, then for many combinations of network topology and miner latency this results in significant increases in moderate depth to long reorgs. This is because in a near tie the winning block doesn't just have to win early enough to overcome network and validation latency and be heard uniformly before a competitor, it has to to that by more than the mining stack latency (which can be rather large). When that doesn't happen the fork persists when it otherwise would have resolved, and the result is a longer reorg. The effect is as big as it is, due to the exponential distribution of times between blocks means that a lot of blocks are 'fast'.\r\n\r\nThe comment here was not on that but that now that breaking ties with invalidation was suggested I think we really need to provide a better interface or get rid of the dangerous one---- we probably should have all along but it hadn't come up; even though it hurts convergence people will do it anyways and they might as well do it safely.  Though possible to do via invalidateblock it is quite tricky to get that right, and the result will be miners that refuse to mine on the longest chain even once theirs has fallen behind (e.g. due to state management and details like if they've invalidated they won't even see the longer extension, so they won't know they've fallen behind and will continue to try to mine a fork), which will leave lite clients more vulnerable to double spending and create other issues.  Since it sounds like people are going to do that we should provide an option (preferblock) which is less likely to shoot miners (and the network as a whole) in the foot and completely break things. :)\r\n",
      "created_at" : "2015-11-12T11:24:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156078612",
      "id" : 156078612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T11:24:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156078612",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Actually I'm not at all convinced by your lack of numbers and trying to convince people with vague mathematics.\r\n\r\nConcentrating on some tiny picture and ignoring the big picture isn't gonna help much.\r\n\r\nYou'd have to show what the 'full' current situation is (i.e. not ignore relevant issues and numbers) and what the expected increase is and how that increase is so terrible.\r\nVaguely it looks like a tiny effect on the network due to a rare to occur event that would result in success only the % size of the pool that used it, and then result in an extra 2 block reorg like any current orphan does, in those rare occasions.\r\nAnything beyond that would be so much more rare that you should argue the things that are actually quite large and have been ignored for years and do something about them instead.\r\n\r\nThe hardware issue itself is minor in comparison and also over time will only get better since no one is out there trying to make slower worse hardware ... and as block sizes increase and nothing is done about the important issues, those stale shares from hardware will become less and less significant.\r\n\r\nAmazing being able to suggest you want this RPC removal change and make it sound like it could happen quickly when there are much larger issues directly related to this that have been known for years and very little done about them.\r\n\r\nThe big issues would be block confirmation times in bitcoin, getblocktemplate times, internet latency (that there is no direct solution to) and also block distribution.\r\nInterestingly I discussed with gavin, back in 2012 I think it was, ideas about block distribution and wasted re-validation of transactions and transmission of the entire block and all it's transactions unnecessarily ... and it only took ... until 0.10.0 for similar such changes to finally occur ... without hard forks.\r\nThe issues with getblocktemplate have been known for many years and nothing done about it.\r\nBlock confirmations ... well you're considered to know about the maths in that, show that your worthy of that title and make it faster :)",
      "created_at" : "2015-11-12T13:04:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156098042",
      "id" : 156098042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T13:04:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156098042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=3",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "body" : "See #6996 for an RPC to pick a block to prefer in case there are competing blockchain tips.",
      "created_at" : "2015-11-12T13:39:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156105087",
      "id" : 156105087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T13:39:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156105087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> The issues with getblocktemplate have been known for many years and nothing done about it.\r\n\r\nYou don't understand how an open source project works. If you want something to be done, you have to either do it yourself, or possibly pay/hire someone to do it. Just talking about it or waiting expectantly won't help. Everyone, including @gmaxwell, decides for themselves what they want to work on, despite what you think priorities should be.\r\n",
      "created_at" : "2015-11-12T16:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156156464",
      "id" : 156156464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T16:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156156464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "In fact, something is being done about it: #6898.\n",
      "created_at" : "2015-11-12T16:31:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156157548",
      "id" : 156157548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T16:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156157548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@laanwj Indeed they do, just as I do on the opensource project of the most used miner (cgminer) and my other open source project. Yet I still do have an opinion on what needs to be done and what problems there are in bitcoin for a long time and have been ignored :) Luckily I'm also free to have that opinion ... I hope :) (and my decisions about what I think are best for my opensource projects aren't decided by who pays)",
      "created_at" : "2015-11-12T22:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156259297",
      "id" : 156259297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-12T22:46:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156259297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=3",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "body" : "So, anyone considering trying the invalidateblock followed by a reconsiderblock:\r\nIt would indeed appear to be that the code wasn't tested all that well after all.\r\n\r\nThere was an interesting orphan race today ... between AntPool and Bitfury ... where the outcome was worthy of conspiracy theories:\r\n383291 BWPool\r\n383292 an orphan race between AntPool and Bitfury -> AntPool won ... but ...\r\n383293 Bitfury (the one that confirmed the orphan race block ... of AntPool not Bitfury)\r\n383294 Bitfury\r\n\r\nAnyway, while this was happening I tried \"invalidateblock ...00005df7...\" on a home bitcoind with my home test environment of CKPool running to see what would happen. As expected the 'inactive' fork became the active one (after a VERY long delay of about 4 miutes). However, I left it like that when another block arrived on the ...00005df7... fork to see what would happen - and indeed it stayed where it should have. 3 blocks later after 383295 appeared, I tried \"reconsiderblock ...00005df7...\" but it didn't correct the confirmation counts of a transaction in qt and \"getinfo\" still reported 383292 as the current block. Fortunately a bitcoind restart fixed it, so it must have been the internal state of bitcoind was messed up.\r\n\r\nReason for mentioning that here is so that anyone considering it should test it well before using it and might find it doesn't work.\r\n\r\nHowever, the important use of invalidateblock (to solve a network problem) seems to work ok.",
      "created_at" : "2015-11-13T01:44:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156291389",
      "id" : 156291389,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-13T01:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156291389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1059166?v=3",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "body" : "I think that is NotABug; it's specifically part of the behavior that I was worrying about when thinking of people trying this for preferences.\r\n\r\nI attempted to explain that behavior in my post above \"if they've invalidated they won't even see the longer extension, so they won't know they've fallen behind\": My expectation is that it would have stayed on 383292 until a new block caused to to actually go fetch the children of 00005df7 which it currently wasn't fetching because they were extensions of an invalid chain.",
      "created_at" : "2015-11-13T02:06:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6995#issuecomment-156296557",
      "id" : 156296557,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6995",
      "updated_at" : "2015-11-13T02:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/156296557",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
