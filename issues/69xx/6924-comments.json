[
   {
      "body" : "This is something the application tries very hard to avoid internally.\nPasswords and key material should always be stored in clear-after-use\nmemory.\n\nHowever, it's not possible to do this across the entire library stack. It\nis very likely that Qt or your underlying graphics maintains text entered\nin password entry fields in regular string-like data structures.\n\nDoes this also happen with bitcoind?\n",
      "created_at" : "2015-10-31T19:09:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6924#issuecomment-152764530",
      "id" : 152764530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6924",
      "updated_at" : "2015-10-31T19:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152764530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I haven't checked this on bitcoind. I will give this a try later.",
      "created_at" : "2015-10-31T19:13:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6924#issuecomment-152764837",
      "id" : 152764837,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6924",
      "updated_at" : "2015-10-31T19:14:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152764837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1208409?v=3",
         "events_url" : "https://api.github.com/users/n1000/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n1000/followers",
         "following_url" : "https://api.github.com/users/n1000/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n1000/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n1000",
         "id" : 1208409,
         "login" : "n1000",
         "organizations_url" : "https://api.github.com/users/n1000/orgs",
         "received_events_url" : "https://api.github.com/users/n1000/received_events",
         "repos_url" : "https://api.github.com/users/n1000/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n1000/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n1000/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n1000"
      }
   },
   {
      "body" : "Yes, this also seems to occur with bitcoind.exe. Examining the bitcoind.exe process memory after setting the wallet password via bitcoin-cli.exe shows the password after password timeout.",
      "created_at" : "2015-10-31T19:37:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6924#issuecomment-152765891",
      "id" : 152765891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6924",
      "updated_at" : "2015-10-31T19:37:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152765891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1208409?v=3",
         "events_url" : "https://api.github.com/users/n1000/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n1000/followers",
         "following_url" : "https://api.github.com/users/n1000/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n1000/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n1000",
         "id" : 1208409,
         "login" : "n1000",
         "organizations_url" : "https://api.github.com/users/n1000/orgs",
         "received_events_url" : "https://api.github.com/users/n1000/received_events",
         "repos_url" : "https://api.github.com/users/n1000/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n1000/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n1000/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n1000"
      }
   },
   {
      "body" : "I didn't expect the bitcoind result to be different, personally-- as I pointed out during the concern about heartbleed, the prior json rpc request was being left in memory in openssl alone. I wouldn't be surprised if boost asio were doing the same things.",
      "created_at" : "2015-10-31T19:44:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6924#issuecomment-152766200",
      "id" : 152766200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6924",
      "updated_at" : "2015-10-31T19:44:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152766200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "The JSON/HTTP stack will leave (parts of) requests on the heap. Same for the GUI. It is impossible for a fixed string to not leak into memory at any point, especially not consistent over platforms. A hammer solution on Linux is to set `mallopt(M_PERTURB)`. This will overwrite all memory when allocated *and* when deallocated. That will impact performance (not something we'll do for the entire process by default) and still leaves the stack (per thread) to contend with.\r\n\r\nYou could also scan the entire memory space periodically using e.g. some moving hash window and wipe the passphrase when found in inactive memory :-) (but mind the the passphrase may still be there in some other form, such as a list of keyboard scancodes ..)\r\n\r\nA less fragile (and more serious) solution would be to use, instead of a fixed passphrase, a challenge/response system between a) a sandboxed signing process b) the API client / a secure GUI overlay. This is the only way that has any chance to mitigate remote memory contents leaking.",
      "created_at" : "2015-11-01T10:26:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6924#issuecomment-152814738",
      "id" : 152814738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6924",
      "updated_at" : "2015-11-01T13:17:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152814738",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
