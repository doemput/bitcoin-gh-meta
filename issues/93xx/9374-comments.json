[
   {
      "body" : "There has never been any functionality to read per-network config files. Config file is always read from the root of the data directory. \r\n\r\nIt could be useful. However this is more complicated to implement than you'd think, not only because of backward compatiblity, but because bitcoin.conf in the data directory can specify the network to use e.g. `testnet=1` or `regtest=1`. This is used by the tests. It is also useful in the case of specifying a .conf file with `-conf` that is outside any data directory (used for system-wide setups).\r\n",
      "created_at" : "2016-12-19T07:56:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-267902846",
      "id" : 267902846,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-19T07:57:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/267902846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "One idea of doing this is to keep `bitcoin.conf` as global configuration file, then after that is loaded (and thus the network determined) load an optional per-network configuration that can override these parameters, e.g.:\r\n\r\n- `${DATADIR}/network.conf`\r\n- `${DATADIR}/testnet3/network.conf`\r\n- `${DATADIR}/regtest/network.conf`\r\n",
      "created_at" : "2016-12-19T08:29:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-267908182",
      "id" : 267908182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-19T08:29:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/267908182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Hmmm. sounds messy; for example, how would 'addnode='s be overridden if there were none mentioned in the testnet config file? I often want to add nodes for the mainnet configuration but not for the testnet configuration. For backwards compatibility (which I agree is important), I'd suggest that if the conf file for testnet or regtest does not exist then it defaults back to the mainnet config file. Unless, this is what you meant, in which case, I agree",
      "created_at" : "2016-12-20T13:39:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268245286",
      "id" : 268245286,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T13:40:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268245286",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "My proposal above allows for full flexibility here.\r\n\r\nBitcoin Core will look, in a second configuration stage, for a `network.conf` in the per-network data directory and process this.\r\n\r\nIf you wanted to add testnet-specific addnodes you'd put these in `${DATADIR}/testnet3/network.conf`. If you want to add mainnet-specific addnotes you'd put these in `${DATADIR}/network.conf`. In the global `${DATADIR}/bitcoin.conf` you'd not put any addnodes, you can put configuration there that you want to always apply (such as changing your uacomment, debug levels, proxy config, etc).\r\n",
      "created_at" : "2016-12-20T13:44:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268246271",
      "id" : 268246271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T13:53:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268246271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj +1 for network.conf idea\r\n",
      "created_at" : "2016-12-20T14:23:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268255147",
      "id" : 268255147,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T14:23:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268255147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "I suspect, I would just prefer to use one .conf file per network, so ideally this would allow me to abandon the bitcoin.conf file, and just use network.conf files.",
      "created_at" : "2016-12-20T14:41:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268259651",
      "id" : 268259651,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T14:41:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268259651",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "+1 for @laanwj network.conf idea.\r\n\r\n@rebroad: your solution would no longer be downward compatible (by dropping support for the network selection in bitcoin.conf).",
      "created_at" : "2016-12-20T14:45:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268260776",
      "id" : 268260776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T14:45:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268260776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli I wasn't proposing to drop support for anything in the bitcoin.conf file. My solution sounds the same as @laanwj's except that I would have kept the conf file as bitcoin.conf and not created a new config file.",
      "created_at" : "2016-12-20T14:51:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268262186",
      "id" : 268262186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T14:51:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268262186",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad: but how would it be practical to switch the network (`regtest=1`, `testnet=1`) if you remove the general `bitcoin.conf` file?",
      "created_at" : "2016-12-20T15:14:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268268250",
      "id" : 268268250,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T15:14:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268268250",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "+1 for @laanwj network.conf idea.",
      "created_at" : "2016-12-20T15:29:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268272079",
      "id" : 268272079,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T15:29:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268272079",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "> I suspect, I would just prefer to use one .conf file per network, so ideally this would allow me to abandon the bitcoin.conf file, and just use network.conf files.\r\n\r\nYes, network.conf file should be looked for irrespective of whether bitcoin.conf exists (that's also easiest to implement).\r\n\r\n> @rebroad: but how would it be practical to switch the network (regtest=1, testnet=1) if you remove the general bitcoin.conf file?\r\n\r\nHe chooses to not use that functionality - but for any solution here it should still be supported - those are orthogonal things :)",
      "created_at" : "2016-12-20T16:53:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268295549",
      "id" : 268295549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-20T16:53:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268295549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I often intentionally use the same config files on mainnet and testnet.  The two stage thing would be dandy.",
      "created_at" : "2016-12-21T00:10:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-268396890",
      "id" : 268396890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-21T00:10:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/268396890",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I'm going to try and raise an issue with github regarding these message above (they are produced whenever I re-push a branch containing this commit).",
      "created_at" : "2016-12-27T04:01:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-269266359",
      "id" : 269266359,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-27T04:01:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269266359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "rebased following #9243 ",
      "created_at" : "2016-12-28T10:09:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9374#issuecomment-269455921",
      "id" : 269455921,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9374",
      "updated_at" : "2016-12-28T10:09:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269455921",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
