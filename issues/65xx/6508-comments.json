[
   {
      "body" : "Great improvement over current space requirement which is O(n), yes?",
      "created_at" : "2015-08-03T22:08:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-127418842",
      "id" : 127418842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-03T22:08:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/127418842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 Yes, but the current code requires around 96 bytes per transaction, which is insignificant compared to the ~1 kB each transaction already requires in memory on average. Still, this PR improves it to ~1 kB total (but more importantly: entirely continuous and on the stack).",
      "created_at" : "2015-08-03T22:34:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-127423349",
      "id" : 127423349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-03T22:43:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/127423349",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Concept ACK.\r\nNeeds to be reviewed very carefully as to not change the behavior in subtle edge cases.",
      "created_at" : "2015-08-05T10:39:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-127952421",
      "id" : 127952421,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-05T10:39:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/127952421",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Of course.\r\n\r\nNote that the unit test creates merkle trees of all sizes up to 16, and for\r\neach all known malleabilities and all branches.\r\n\r\nOn the other side, the performance and memory usage benefit are not\r\nsignificant, but getting rid of vMerkleTree in CBlock may be worth it.\r\n",
      "created_at" : "2015-08-05T13:17:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-127994436",
      "id" : 127994436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-05T14:21:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/127994436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Does this mean that all transactions in a block have to be hashed together again, every time a transaction gets added to the wallet? So if there are 10 transactions in a block for the wallet, we hash it again 10 times?\r\n",
      "created_at" : "2015-08-08T09:03:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-128941740",
      "id" : 128941740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-08T09:03:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/128941740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "@cozz: with the current code, yes. But I don't think we actually need to\nstore those...\n",
      "created_at" : "2015-08-08T09:12:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-128943222",
      "id" : 128943222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-08T09:12:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/128943222",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Yes, I wouldnt store them either. But as long as we do, I do not like, that this pull decreases wallet performance. So I would like to see that fixed. Either by some temp-cache for the wallet, or just by removing those merkle-branches.\r\n",
      "created_at" : "2015-08-08T09:42:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-128944456",
      "id" : 128944456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-08T09:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/128944456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "There is definitely a wallet performance downside, as you need to recompute\nthe merkle tree for every wallet transaction. If it looked like I claimed\notherwise, sorry. It's only an individual merkle root/branch computation\nthat is made faster.\n\nI'll delay this until we remove the call from the wallet to conpute\nbranches.\n",
      "created_at" : "2015-08-11T08:52:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-129775458",
      "id" : 129775458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-11T08:52:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/129775458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebased on top of #6550, to address the issue that @cozz raised.",
      "created_at" : "2015-08-11T19:27:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-130030213",
      "id" : 130030213,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-11T19:27:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/130030213",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK\r\n\r\n[Diff comparison](https://github.com/sipa/bitcoin/compare/nomerkle...sipa:constmerkle) for those who want to check without including the rebased commits.",
      "created_at" : "2015-08-12T01:01:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-130127041",
      "id" : 130127041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-08-12T01:03:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/130127041",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Needs rebase (after #6550, I think)",
      "created_at" : "2015-10-06T08:55:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-145789682",
      "id" : 145789682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-10-06T08:55:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/145789682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2015-11-02T04:41:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-152911072",
      "id" : 152911072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-02T04:41:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152911072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Moved the Merkle computation code to a separate file (independent of CBlock and CTransaction), and used that in a thin wrapper caller in primitives/block.h.",
      "created_at" : "2015-11-17T16:38:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-157425381",
      "id" : 157425381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-17T16:38:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157425381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "re-ACK\r\n\r\nAlso, awesome on moving `merkle.cpp` out :+1: ",
      "created_at" : "2015-11-18T00:37:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-157557669",
      "id" : 157557669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-18T00:37:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157557669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "If we make it consensus/merkle.o, that would be less code to move again later...\r\n",
      "created_at" : "2015-11-23T10:07:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-158893956",
      "id" : 158893956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-23T10:07:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158893956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@jtimon Hmm, I was seeing this more as generic data structure code, like limitedmap.h is for example, but it's probably not useful to anything that doesn't also need the consensus logic anyway.",
      "created_at" : "2015-11-26T00:46:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-159768098",
      "id" : 159768098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-26T00:46:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159768098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Agree that Merkle trees are a general data structure - however, the specific way of doing a Merkle-tree is very bitcoin-consensus-specific, and there is the big warning that this is not recommended to use this as-is outside of bitcoin.\r\n",
      "created_at" : "2015-11-26T09:53:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-159863621",
      "id" : 159863621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-26T09:53:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159863621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "General data structure or not, this is used in checkBlock and will therefore be part of VerifyBlock and the complete libconsensus too.\r\nOnce it is complete, if we want to separate it as a subtree with its own repo, we will have to put all the files in the same dir (ie src/consensus) first.",
      "created_at" : "2015-11-26T11:09:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-159884260",
      "id" : 159884260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-26T11:09:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159884260",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@jtimon I agree",
      "created_at" : "2015-11-26T11:13:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-159884889",
      "id" : 159884889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-26T11:13:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159884889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Done.\r\n\r\nI had to move more things around, because otherwise primitives and consensus would end up with a circular dependency on each other. Now all logic (both generic Merkle logic, and the block-specific code) are in consensus, which is better as none of it really belonged in primitives anyway.\r\n",
      "created_at" : "2015-11-26T12:18:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-159899160",
      "id" : 159899160,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-26T12:18:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159899160",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Thank you. \r\nI wouldn't worry about consensus/merkle depending on primitives/transaction while primitives/block depends on consensus/merkle. primitives is not a building package and they all three belong in the consensus building package (see WIP #7091) and eventually they should all be in the consensus dir anyway.\r\nA circular dependency between consensus/merkle and primitives/block is another thing though.\r\nI can't remember how the includes were before, but they look good to me now. \r\n",
      "created_at" : "2015-11-26T12:32:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-159901372",
      "id" : 159901372,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-26T12:32:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159901372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r45991474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45991474"
         }
      },
      "body" : "minor nit, is main_tests.cpp really the right place for this?",
      "commit_id" : "eece63fa72566068cb2a1bf85c95a72a5ba59bc9",
      "created_at" : "2015-11-26T15:57:04Z",
      "diff_hunk" : "@@ -73,4 +74,127 @@ BOOST_AUTO_TEST_CASE(test_combiner_all)\n     BOOST_CHECK(Test());\n }\n \n+// Older version of the merkle root computation code, for comparison.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r45991474",
      "id" : 45991474,
      "original_commit_id" : "d5a4e81304e35625507486219eee401ecbb3a175",
      "original_position" : 12,
      "path" : "src/test/main_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508",
      "updated_at" : "2015-11-27T14:38:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45991474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-11-27T11:20:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-160118211",
      "id" : 160118211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-27T11:20:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160118211",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r46050239"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46050239"
         }
      },
      "body" : "Have a better suggestion? :)",
      "commit_id" : "eece63fa72566068cb2a1bf85c95a72a5ba59bc9",
      "created_at" : "2015-11-27T14:19:26Z",
      "diff_hunk" : "@@ -73,4 +74,127 @@ BOOST_AUTO_TEST_CASE(test_combiner_all)\n     BOOST_CHECK(Test());\n }\n \n+// Older version of the merkle root computation code, for comparison.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r46050239",
      "id" : 46050239,
      "original_commit_id" : "d5a4e81304e35625507486219eee401ecbb3a175",
      "original_position" : 12,
      "path" : "src/test/main_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508",
      "updated_at" : "2015-11-27T14:38:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46050239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r46050753"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46050753"
         }
      },
      "body" : "I don't know, checkblock_tests.cpp? maybe its own merkle_test.cpp ?\r\nThe only use in main.cpp is in CheckBlock(), which should eventually move to the consensus dir...",
      "commit_id" : "eece63fa72566068cb2a1bf85c95a72a5ba59bc9",
      "created_at" : "2015-11-27T14:26:39Z",
      "diff_hunk" : "@@ -73,4 +74,127 @@ BOOST_AUTO_TEST_CASE(test_combiner_all)\n     BOOST_CHECK(Test());\n }\n \n+// Older version of the merkle root computation code, for comparison.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r46050753",
      "id" : 46050753,
      "original_commit_id" : "d5a4e81304e35625507486219eee401ecbb3a175",
      "original_position" : 12,
      "path" : "src/test/main_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508",
      "updated_at" : "2015-11-27T14:38:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46050753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r46051545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46051545"
         }
      },
      "body" : "Moved!",
      "commit_id" : "eece63fa72566068cb2a1bf85c95a72a5ba59bc9",
      "created_at" : "2015-11-27T14:38:16Z",
      "diff_hunk" : "@@ -73,4 +74,127 @@ BOOST_AUTO_TEST_CASE(test_combiner_all)\n     BOOST_CHECK(Test());\n }\n \n+// Older version of the merkle root computation code, for comparison.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#discussion_r46051545",
      "id" : 46051545,
      "original_commit_id" : "d5a4e81304e35625507486219eee401ecbb3a175",
      "original_position" : 12,
      "path" : "src/test/main_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6508",
      "updated_at" : "2015-11-27T14:38:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46051545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Oh, thought I had done it already...concept ACK",
      "created_at" : "2015-11-27T14:53:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-160154385",
      "id" : 160154385,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-27T14:53:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160154385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK\r\n",
      "created_at" : "2015-11-28T21:28:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6508#issuecomment-160336929",
      "id" : 160336929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6508",
      "updated_at" : "2015-11-28T21:28:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160336929",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
