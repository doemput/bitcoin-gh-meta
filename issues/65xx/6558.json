{
   "assignee" : null,
   "body" : "The current parser `UniValue::read` continues until it gets to the end of the parsed string (`JTOK_NONE`) or until an error occurs while lexing (`JTOK_ERR`).  If the string contains, for instance, multiple top-level objects or arrays, they are all parsed and only the last is saved in the `UniValue` object.  On the other hand, parsing fails if a valid object is followed by garbage.  (While parsing does *not* fail, surprisingly, if the string starts with a `JTOK_ERR`.)\r\n\r\nI think this behaviour is highly confusing and should be changed.  I'm willing to work on this myself, but would like to discuss it before starting.  My suggestion is the following:\r\n\r\nReading from a string should only parse until a full JSON construct is found (object or array as now, or a single number/string/keyword).  Afterwards, parsing should stop and discard any trailing parts of the string completely.  I want to add also the option to return (in an optional output argument) the position where parsing stopped, so that the caller may get everything in there or check that no unparsed content remains; I do not think that Bitcoin currently needs this functionality, but it is almost \"for free\" and may be useful in the future.\r\n\r\nDoes this sound like a good idea, or is there a problem with my plan that I missed?",
   "closed_at" : "2015-08-24T11:44:03Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 15,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6558/comments",
   "created_at" : "2015-08-15T12:36:25Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6558/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/6558",
   "id" : 101172078,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6558/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 6558,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "UniValue should only parse the first JSON construct of a line",
   "updated_at" : "2015-08-24T11:44:03Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6558",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/4943644?v=3",
      "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
      "followers_url" : "https://api.github.com/users/domob1812/followers",
      "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
      "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/domob1812",
      "id" : 4943644,
      "login" : "domob1812",
      "organizations_url" : "https://api.github.com/users/domob1812/orgs",
      "received_events_url" : "https://api.github.com/users/domob1812/received_events",
      "repos_url" : "https://api.github.com/users/domob1812/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/domob1812"
   }
}
