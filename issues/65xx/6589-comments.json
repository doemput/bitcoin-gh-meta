[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37916997"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37916997"
         }
      },
      "body" : "Any reason not to use const std::string& ?",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-08-25T20:44:26Z",
      "diff_hunk" : "@@ -2171,7 +2174,7 @@ void CNode::AbortMessage() UNLOCK_FUNCTION(cs_vSend)\n     LogPrint(\"net\", \"(aborted)\\n\");\n }\n \n-void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n+void CNode::EndMessage(const char* pszCommand) UNLOCK_FUNCTION(cs_vSend)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37916997",
      "id" : 37916997,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : 57,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37916997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37917102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37917102"
         }
      },
      "body" : "I don't care about following the original variable naming style, but if you do, the prefix for maps is map* not m*.",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-08-25T20:45:13Z",
      "diff_hunk" : "@@ -613,7 +613,9 @@ void CNode::copyStats(CNodeStats &stats)\n     X(fInbound);\n     X(nStartingHeight);\n     X(nSendBytes);\n+    X(mSendBytesPerCmd);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37917102",
      "id" : 37917102,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 4,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37917102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37917291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37917291"
         }
      },
      "body" : "Spaces around the operator?",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-08-25T20:47:09Z",
      "diff_hunk" : "@@ -2194,6 +2197,9 @@ void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n     unsigned int nSize = ssSend.size() - CMessageHeader::HEADER_SIZE;\n     WriteLE32((uint8_t*)&ssSend[CMessageHeader::MESSAGE_SIZE_OFFSET], nSize);\n \n+    //log total amount of bytes per command\n+    mSendBytesPerCmd[std::string(pszCommand)]+=nSize;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37917291",
      "id" : 37917291,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 32,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37917291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Concept ACK, I think this is useful.",
      "created_at" : "2015-08-25T20:48:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-134735692",
      "id" : 134735692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-08-25T20:48:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134735692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37973359"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37973359"
         }
      },
      "body" : "`CNode::BeginMessage()` also uses `const char*` (https://github.com/bitcoin/bitcoin/blob/master/src/net.h#L499). `EndMessage()` is always called over `PushMessage(const char* pszCommand, const T1& a1, ...)`. Not sure if it would make sense to cast/transform to a `std::string`.",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-08-26T12:00:06Z",
      "diff_hunk" : "@@ -2171,7 +2174,7 @@ void CNode::AbortMessage() UNLOCK_FUNCTION(cs_vSend)\n     LogPrint(\"net\", \"(aborted)\\n\");\n }\n \n-void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n+void CNode::EndMessage(const char* pszCommand) UNLOCK_FUNCTION(cs_vSend)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r37973359",
      "id" : 37973359,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : 57,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37973359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Thanks @sipa for reviewing!\r\nFixed nits. Added `bytessent_per_cmd` and `bytesrecv_per_cmd` to `getpeersinfo` help.",
      "created_at" : "2015-08-26T12:06:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-134969277",
      "id" : 134969277,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-08-26T12:06:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134969277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I haven't checked the code for this, but we should make sure this only\naccounts for incoming messages of a known type. Otherwise you introduce a\nmemory DoS attack by allowing the sender to construct an arbitrarily-sized\nmap.\n",
      "created_at" : "2015-08-26T16:40:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-135101920",
      "id" : 135101920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-08-26T16:40:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135101920",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa: good point! Will address it soon.",
      "created_at" : "2015-08-26T16:50:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-135105928",
      "id" : 135105928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-08-26T16:50:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135105928",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "These maps will need locking\r\n\r\nEdit: I take that back. It looks like the cs_vNodes in CopyNodeStats is enough. Might want to make CNode::mapSendBytesPerCmd / CNode::mapRecvBytesPerCmd private though, so nobody's tempted to use them directly.",
      "created_at" : "2015-08-26T18:47:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-135136527",
      "id" : 135136527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-08-26T18:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135136527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r38022017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/38022017"
         }
      },
      "body" : "ok",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-08-26T19:06:31Z",
      "diff_hunk" : "@@ -2171,7 +2174,7 @@ void CNode::AbortMessage() UNLOCK_FUNCTION(cs_vSend)\n     LogPrint(\"net\", \"(aborted)\\n\");\n }\n \n-void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n+void CNode::EndMessage(const char* pszCommand) UNLOCK_FUNCTION(cs_vSend)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r38022017",
      "id" : 38022017,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : 57,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/38022017",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@theuni: Right. I was aware of the locking and did come to the conclusion that both new maps are protected by `cs_vSend` and `cs_vRecvMsg`.\r\n\r\nMoved the maps to the private section.",
      "created_at" : "2015-08-27T07:09:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-135317058",
      "id" : 135317058,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-08-27T07:09:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135317058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Added memory DOS prevention by filtering valid commands.",
      "created_at" : "2015-08-27T13:21:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-135426326",
      "id" : 135426326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-08-28T11:57:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135426326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r39162377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39162377"
         }
      },
      "body" : "Since this is a map lookup, can we just initialize the map once with entries for each valid string, and then do a find() here?",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-09-10T13:57:20Z",
      "diff_hunk" : "@@ -667,6 +676,19 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes)\n         nBytes -= handled;\n \n         if (msg.complete()) {\n+\n+            //store received bytes per command\n+            //to prevent a memory DOS, only allow valid commands\n+            std::string command(msg.hdr.pchCommand);\n+            for (unsigned int i = 0; i < sizeof(logAllowIncommingCmds)/sizeof(logAllowIncommingCmds[0]); i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r39162377",
      "id" : 39162377,
      "original_commit_id" : "e33292493675fa9e20f0ba49e8e3895aeec3191c",
      "original_position" : 32,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39162377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r39162607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39162607"
         }
      },
      "body" : "Yes. Would be possible. I somehow searched for a solution that doesn't require initialization. Do you think the `map.find()` would be faster or just less code?",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-09-10T13:59:15Z",
      "diff_hunk" : "@@ -667,6 +676,19 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes)\n         nBytes -= handled;\n \n         if (msg.complete()) {\n+\n+            //store received bytes per command\n+            //to prevent a memory DOS, only allow valid commands\n+            std::string command(msg.hdr.pchCommand);\n+            for (unsigned int i = 0; i < sizeof(logAllowIncommingCmds)/sizeof(logAllowIncommingCmds[0]); i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r39162607",
      "id" : 39162607,
      "original_commit_id" : "e33292493675fa9e20f0ba49e8e3895aeec3191c",
      "original_position" : 32,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39162607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r39163305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39163305"
         }
      },
      "body" : "Mostly I was thinking less code/easier to read (though it would be faster too, since we have to do a find() anyway).\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-09-10T14:05:36Z",
      "diff_hunk" : "@@ -667,6 +676,19 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes)\n         nBytes -= handled;\n \n         if (msg.complete()) {\n+\n+            //store received bytes per command\n+            //to prevent a memory DOS, only allow valid commands\n+            std::string command(msg.hdr.pchCommand);\n+            for (unsigned int i = 0; i < sizeof(logAllowIncommingCmds)/sizeof(logAllowIncommingCmds[0]); i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r39163305",
      "id" : 39163305,
      "original_commit_id" : "e33292493675fa9e20f0ba49e8e3895aeec3191c",
      "original_position" : 32,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/39163305",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "ut ACK - this actually recreates a change I wrote a long time ago (first version of getpeerinfo did this)",
      "created_at" : "2015-10-01T09:48:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-144680622",
      "id" : 144680622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-10-01T09:48:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/144680622",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "concept ACK\r\n\r\n**edit**: is it worth persisting this to storage?",
      "created_at" : "2015-10-04T23:30:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-145401325",
      "id" : 145401325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-10-04T23:31:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/145401325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46550136"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46550136"
         }
      },
      "body" : "C++11 to the rescue:\r\n```c++\r\nconst static std::set<std::string> logAllowIncommingCmds = {\r\n    \"version\", \"verack\", \"addr\", \"inv\", \"getdata\",\r\n    \"getblocks\", \"getheaders\", \"tx\", \"headers\", \"block\",\r\n    \"getaddr\", \"mempool\", \"ping\", \"pong\", \"alert\",\r\n    \"filterload\", \"filteradd\", \"filterclear\", \"reject\"\r\n};\r\n```\r\n\r\n```\r\n    if (logAllowIncomingCmds.count(command))\r\n        mapRecvBytesPerCmd[command] += msg.hdr.nMessageSize;\r\n```",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-03T13:25:25Z",
      "diff_hunk" : "@@ -667,6 +676,19 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes)\n         nBytes -= handled;\n \n         if (msg.complete()) {\n+\n+            //store received bytes per command\n+            //to prevent a memory DOS, only allow valid commands\n+            std::string command(msg.hdr.pchCommand);\n+            for (unsigned int i = 0; i < sizeof(logAllowIncommingCmds)/sizeof(logAllowIncommingCmds[0]); i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46550136",
      "id" : 46550136,
      "original_commit_id" : "e33292493675fa9e20f0ba49e8e3895aeec3191c",
      "original_position" : 32,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46550136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "IMO\r\n`for (unsigned int i = 0; i < sizeof(logAllowIncommingCmds)/sizeof(logAllowIncommingCmds[0]); i++)` is fine until we switch over to C++11.\r\n\r\n@dcousens: not sure if disk persistence would make sense here. I'd like to extend this up to the GUI layer to have a better network/bandwidth graph that could also generate and show data when it's not opened, though, this PR does not include time based data logging.\r\n",
      "created_at" : "2015-12-03T16:12:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161694521",
      "id" : 161694521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-03T16:12:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161694521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Passed Travis now.\r\nWould be nice if someone can test this.",
      "created_at" : "2015-12-04T08:08:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161904689",
      "id" : 161904689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T08:08:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161904689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46661243"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46661243"
         }
      },
      "body" : "Right, I agree with @sipa that I prefer std::string, but yes for that to have any effect whatsoever that'd require switching that entire call chain to `std::string` and that is out of the scope of this pull.\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T09:05:32Z",
      "diff_hunk" : "@@ -2171,7 +2174,7 @@ void CNode::AbortMessage() UNLOCK_FUNCTION(cs_vSend)\n     LogPrint(\"net\", \"(aborted)\\n\");\n }\n \n-void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n+void CNode::EndMessage(const char* pszCommand) UNLOCK_FUNCTION(cs_vSend)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46661243",
      "id" : 46661243,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : 57,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46661243",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Going to test this",
      "created_at" : "2015-12-04T09:05:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161913252",
      "id" : 161913252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T09:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161913252",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46661594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46661594"
         }
      },
      "body" : "I've thought of - what I think is an even better solution - as it doesn't require recourse to anything besides the map itself: prepopulate the `mapRecvBytesPerCmd`. At initialization:\r\n```\r\n    for (unsigned int i = 0; i < sizeof(logAllowIncomingCmds)/sizeof(logAllowIncomingCmds[0]); i++)\r\n        mapRecvBytesPerCmd[logAllowIncomingCmds[i]] = 0;\r\n```\r\nThen only increase if the item exists, e.g.\r\n```c++\r\n    mapCmdSize_t::iterator i = mapRecvBytesPerCmd.find(msg.hdr.pchCommand);\r\n    if (i != mapRecvBytesPerCmd.end())\r\n        i->second += msg.hdr.nMessageSize;\r\n```",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T09:10:28Z",
      "diff_hunk" : "@@ -682,6 +691,19 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes)\n         nBytes -= handled;\n \n         if (msg.complete()) {\n+\n+            //store received bytes per command\n+            //to prevent a memory DOS, only allow valid commands\n+            std::string command(msg.hdr.pchCommand);\n+            for (unsigned int i = 0; i < sizeof(logAllowIncomingCmds)/sizeof(logAllowIncomingCmds[0]); i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46661594",
      "id" : 46661594,
      "original_commit_id" : "6fef53a4d17c37047a036bdd9cc75ca168052595",
      "original_position" : 32,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46661594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46661726"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46661726"
         }
      },
      "body" : "Nit: don't use `_t` for the type name.\r\n- I've learned recently (think I heard it from @gmaxwell) that this is reserved by the C standard for system types\r\n- We don't use this convention for any of our own types\r\n\r\nWhat about just `CommandSizeMap`?\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T09:12:14Z",
      "diff_hunk" : "@@ -199,7 +200,9 @@ class CNodeStats\n     bool fInbound;\n     int nStartingHeight;\n     uint64_t nSendBytes;\n+    mapCmdSize_t mapSendBytesPerCmd;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46661726",
      "id" : 46661726,
      "original_commit_id" : "6fef53a4d17c37047a036bdd9cc75ca168052595",
      "original_position" : 12,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46661726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj: I like your map.find approach.\r\nImplemented (squash-me commit) and renamed POSIX reserved `*_t` type.",
      "created_at" : "2015-12-04T09:32:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161919414",
      "id" : 161919414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T09:32:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161919414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46663746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46663746"
         }
      },
      "body" : "If we want we could hide the entries with `i.second==0` here.\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T09:37:13Z",
      "diff_hunk" : "@@ -165,6 +173,18 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n         }\n         obj.push_back(Pair(\"whitelisted\", stats.fWhitelisted));\n \n+        UniValue sendPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapSendBytesPerCmd) {\n+            sendPerCmd.push_back(Pair(i.first, i.second));\n+        }\n+        obj.push_back(Pair(\"bytessent_per_cmd\", sendPerCmd));\n+\n+        UniValue recvPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapRecvBytesPerCmd) {\n+            recvPerCmd.push_back(Pair(i.first, i.second));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46663746",
      "id" : 46663746,
      "original_commit_id" : "ff1865280dc016c2b94f96460871abd763dc7f21",
      "original_position" : 27,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46663746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Minimally-tested ACK, I like this functionality a lot",
      "created_at" : "2015-12-04T09:38:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161920388",
      "id" : 161920388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T09:38:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161920388",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Speaking of which, why is `verack` accounted for 0 bytes? I guess we don't include the message header in the size? I think it should.\r\n```\r\n    \"bytessent_per_cmd\": {\r\n      \"addr\": 31,\r\n      \"getheaders\": 997,\r\n      \"inv\": 9043,\r\n      \"ping\": 16,\r\n      \"verack\": 0,\r\n      \"version\": 115\r\n    },\r\n```\r\n",
      "created_at" : "2015-12-04T09:39:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161920605",
      "id" : 161920605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T09:40:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161920605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Correct. Right now only the message size counts... so your right. This needs to be fixed, otherwise we are not really counting net bytes. Working on it.",
      "created_at" : "2015-12-04T09:41:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161920906",
      "id" : 161920906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T09:41:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161920906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "It's a fixed number per packet, so should be straightforward enough :)",
      "created_at" : "2015-12-04T09:41:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161920995",
      "id" : 161920995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T09:41:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161920995",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46664648"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46664648"
         }
      },
      "body" : "I also though about that, but I think the null entries are better instead of hiding. It result in more controllable parsing.",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T09:48:41Z",
      "diff_hunk" : "@@ -165,6 +173,18 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n         }\n         obj.push_back(Pair(\"whitelisted\", stats.fWhitelisted));\n \n+        UniValue sendPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapSendBytesPerCmd) {\n+            sendPerCmd.push_back(Pair(i.first, i.second));\n+        }\n+        obj.push_back(Pair(\"bytessent_per_cmd\", sendPerCmd));\n+\n+        UniValue recvPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapRecvBytesPerCmd) {\n+            recvPerCmd.push_back(Pair(i.first, i.second));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46664648",
      "id" : 46664648,
      "original_commit_id" : "ff1865280dc016c2b94f96460871abd763dc7f21",
      "original_position" : 27,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46664648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Added the header size to the bytes addition. Squashed to one commit.",
      "created_at" : "2015-12-04T09:58:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161926079",
      "id" : 161926079,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T09:58:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161926079",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666609"
         }
      },
      "body" : "Why would this result in more controllable parsing? The zeros don't mean anything. The only reason those entries are there in the first place is our 'ignore unknown command' implementation detail.\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T10:12:39Z",
      "diff_hunk" : "@@ -165,6 +173,18 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n         }\n         obj.push_back(Pair(\"whitelisted\", stats.fWhitelisted));\n \n+        UniValue sendPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapSendBytesPerCmd) {\n+            sendPerCmd.push_back(Pair(i.first, i.second));\n+        }\n+        obj.push_back(Pair(\"bytessent_per_cmd\", sendPerCmd));\n+\n+        UniValue recvPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapRecvBytesPerCmd) {\n+            recvPerCmd.push_back(Pair(i.first, i.second));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666609",
      "id" : 46666609,
      "original_commit_id" : "ff1865280dc016c2b94f96460871abd763dc7f21",
      "original_position" : 27,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Implemented @laanwj  idea. Added a category `\"*unknown*\"` to aggregate bytes of received command that are not known. This could help identifying misbehaving nodes.",
      "created_at" : "2015-12-04T10:12:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161928872",
      "id" : 161928872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T10:12:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161928872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666691"
         }
      },
      "body" : "Otherwise, to be consistent, if you really want an overview of all possible messages, we want zero entries for `mapSendBytesPerCmd` too (this will require an array of all messages we can potentially send).",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T10:13:43Z",
      "diff_hunk" : "@@ -165,6 +173,18 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n         }\n         obj.push_back(Pair(\"whitelisted\", stats.fWhitelisted));\n \n+        UniValue sendPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapSendBytesPerCmd) {\n+            sendPerCmd.push_back(Pair(i.first, i.second));\n+        }\n+        obj.push_back(Pair(\"bytessent_per_cmd\", sendPerCmd));\n+\n+        UniValue recvPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapRecvBytesPerCmd) {\n+            recvPerCmd.push_back(Pair(i.first, i.second));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666691",
      "id" : 46666691,
      "original_commit_id" : "ff1865280dc016c2b94f96460871abd763dc7f21",
      "original_position" : 27,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666750"
         }
      },
      "body" : "I though if someone writes a statistics fronted that uses the RPC as data-source it would complicate things (a little bit) because you don't have a full list of available commands at the beginning. But no strong opinion. I think the drawback right now is a relatively big response.",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T10:14:35Z",
      "diff_hunk" : "@@ -165,6 +173,18 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n         }\n         obj.push_back(Pair(\"whitelisted\", stats.fWhitelisted));\n \n+        UniValue sendPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapSendBytesPerCmd) {\n+            sendPerCmd.push_back(Pair(i.first, i.second));\n+        }\n+        obj.push_back(Pair(\"bytessent_per_cmd\", sendPerCmd));\n+\n+        UniValue recvPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapRecvBytesPerCmd) {\n+            recvPerCmd.push_back(Pair(i.first, i.second));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666750",
      "id" : 46666750,
      "original_commit_id" : "ff1865280dc016c2b94f96460871abd763dc7f21",
      "original_position" : 27,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666860"
         }
      },
      "body" : "or\r\n```\r\nmapCmdSize::iterator i = mapRecvBytesPerCmd.find(msg.hdr.pchCommand);\r\nif (i == mapRecvBytesPerCmd.end())\r\n    i = mapRecvBytesPerCmd.find(\"*other*\");\r\ni->second += msg.hdr.nMessageSize + CMessageHeader::HEADER_SIZE;\r\n```\r\n:-)\r\n(make sure `*other*` is prepopulated as `0`)\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T10:16:05Z",
      "diff_hunk" : "@@ -682,6 +684,15 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes)\n         nBytes -= handled;\n \n         if (msg.complete()) {\n+\n+            //store received bytes per command\n+            //to prevent a memory DOS, only allow valid commands\n+            mapCmdSize::iterator i = mapRecvBytesPerCmd.find(msg.hdr.pchCommand);\n+            if (i != mapRecvBytesPerCmd.end())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46666860",
      "id" : 46666860,
      "original_commit_id" : "ec623914da1a2cd87ea1af12d0a22d3cdd3721d6",
      "original_position" : 18,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46666860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46667112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46667112"
         }
      },
      "body" : "OK i agree. If you want to know eg. the set of commands that is not considered `*other*`. OK I don't care deeply about this, fine to leave it as-is, but I expect more people to comment on this. Empty rows just look unnecessary, and it's repeated for every peer.\r\n\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-04T10:19:01Z",
      "diff_hunk" : "@@ -165,6 +173,18 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n         }\n         obj.push_back(Pair(\"whitelisted\", stats.fWhitelisted));\n \n+        UniValue sendPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapSendBytesPerCmd) {\n+            sendPerCmd.push_back(Pair(i.first, i.second));\n+        }\n+        obj.push_back(Pair(\"bytessent_per_cmd\", sendPerCmd));\n+\n+        UniValue recvPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapCmdSize::value_type &i, stats.mapRecvBytesPerCmd) {\n+            recvPerCmd.push_back(Pair(i.first, i.second));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46667112",
      "id" : 46667112,
      "original_commit_id" : "ff1865280dc016c2b94f96460871abd763dc7f21",
      "original_position" : 27,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46667112",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Added a commit that hides 0 entries in `getpeerinfo`.",
      "created_at" : "2015-12-04T10:40:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161933912",
      "id" : 161933912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T10:40:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161933912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli This currently runs into an assert, as mapRecvBytesPerCmd[NET_COMMAND_OTHER] doesn't exist\r\n",
      "created_at" : "2015-12-04T11:51:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161949539",
      "id" : 161949539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T11:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161949539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> @jonasschnelli This currently runs into an assert, as mapRecvBytesPerCmd[NET_COMMAND_OTHER] doesn't exist\r\n\r\nJust fixed this over a force push. I forgot to initialize the map entry.",
      "created_at" : "2015-12-04T12:20:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-161954096",
      "id" : 161954096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-04T12:20:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161954096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46755685"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46755685"
         }
      },
      "body" : "I noticed some `*other*` in the stats from normal Bitcoin Core client, so I checked all uses of PushMessage:\r\nThese need to be added: `, \"merkleblock\", \"notfound\"`\r\n",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-05T08:03:27Z",
      "diff_hunk" : "@@ -67,6 +67,15 @@ namespace {\n     };\n }\n \n+//immutable thread safe array of allowed commands for logging inbound traffic\n+const static std::string logAllowIncomingCmds[] = {\n+    \"version\", \"verack\", \"addr\", \"inv\", \"getdata\",\n+    \"getblocks\", \"getheaders\", \"tx\", \"headers\", \"block\",\n+    \"getaddr\", \"mempool\", \"ping\", \"pong\", \"alert\",\n+    \"filterload\", \"filteradd\", \"filterclear\", \"reject\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46755685",
      "id" : 46755685,
      "original_commit_id" : "9f523a67f168b518cbc502202e681e8cc94d1e89",
      "original_position" : 9,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46755685",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Small conceptual nit: In contrast to client-server protocols in a P2P protocol there are no 'commands', just 'messages' (there is no hierarchy and both sides use the same language).\r\nThe distinction seems only a technicality, but some confusion stems from this - for example when people propose new add messages which have a mandatory response, thinking of it as a command/response protocol. \r\nI know we get this naming wrong in some places in the source code too so it's no big deal there... but e.g. in the UI we may want to get this right :-)\r\n",
      "created_at" : "2015-12-05T08:17:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162160391",
      "id" : 162160391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-05T08:20:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162160391",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This works great though.\r\nACK after adding the two missing message types.",
      "created_at" : "2015-12-05T08:21:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162160516",
      "id" : 162160516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-05T08:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162160516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Pushed two commits:\r\n-> Add \"merkleblock\" and \"notfound\" to the list of accepted commands for logging.\r\n-> Reword the variables, comments and help-text to reflect \"message command\"'s instead of just just \"command\".",
      "created_at" : "2015-12-05T12:32:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162177872",
      "id" : 162177872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-05T12:32:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162177872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46757860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46757860"
         }
      },
      "body" : "On the other hand, we are already changing `EndMessage()` here, so it could be done in one step, together.",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-05T12:39:00Z",
      "diff_hunk" : "@@ -2171,7 +2174,7 @@ void CNode::AbortMessage() UNLOCK_FUNCTION(cs_vSend)\n     LogPrint(\"net\", \"(aborted)\\n\");\n }\n \n-void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n+void CNode::EndMessage(const char* pszCommand) UNLOCK_FUNCTION(cs_vSend)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46757860",
      "id" : 46757860,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : 57,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46757860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46757877"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46757877"
         }
      },
      "body" : "I think it's to invasive for a little logging feature. It would basically require to change all `PushMessage(...)` then `BeginMessage()` and `EndMessage()` function. An either conversion of CMessageHeader (that it accepts `std::string`) or some conversions to c-strings in the mentioned functions.\r\nIMO, it's not worth changing this.",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-05T12:42:44Z",
      "diff_hunk" : "@@ -2171,7 +2174,7 @@ void CNode::AbortMessage() UNLOCK_FUNCTION(cs_vSend)\n     LogPrint(\"net\", \"(aborted)\\n\");\n }\n \n-void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n+void CNode::EndMessage(const char* pszCommand) UNLOCK_FUNCTION(cs_vSend)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46757877",
      "id" : 46757877,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : 57,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46757877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli To be consistent, please also change `recvPerCmd`.",
      "created_at" : "2015-12-05T12:46:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162178817",
      "id" : 162178817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-05T12:46:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162178817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik: Thanks of the review! Change and force pushed the last commit.",
      "created_at" : "2015-12-05T12:48:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162179254",
      "id" : 162179254,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-05T12:48:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162179254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46757918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46757918"
         }
      },
      "body" : "Agreed.",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-05T12:48:41Z",
      "diff_hunk" : "@@ -2171,7 +2174,7 @@ void CNode::AbortMessage() UNLOCK_FUNCTION(cs_vSend)\n     LogPrint(\"net\", \"(aborted)\\n\");\n }\n \n-void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n+void CNode::EndMessage(const char* pszCommand) UNLOCK_FUNCTION(cs_vSend)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46757918",
      "id" : 46757918,
      "original_commit_id" : "cb3efd97ebbf6d463173fb4060b39c0a3a9366f5",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : 57,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46757918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "ACK\r\nThis is very useful, thanks for it!\r\n",
      "created_at" : "2015-12-05T12:52:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162181261",
      "id" : 162181261,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-05T12:52:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162181261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46758816"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46758816"
         }
      },
      "body" : "Nit: Not sure if \"message command\" is a proper word? What about \"message type\" or even just \"message\"?",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-05T14:26:42Z",
      "diff_hunk" : "@@ -111,6 +111,14 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n             \"       n,                        (numeric) The heights of blocks we're currently asking from this peer\\n\"\n             \"       ...\\n\"\n             \"    ]\\n\"\n+            \"    \\\"bytessent_per_msg\\\": {\\n\"\n+            \"       \\\"addr\\\": n,             (numeric) The total bytes sent aggregated by message command\\n\"\n+            \"       ...\\n\"\n+            \"    }\\n\"\n+            \"    \\\"bytesrecv_per_msg\\\": {\\n\"\n+            \"       \\\"addr\\\": n,             (numeric) The total bytes received aggregated by message command\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46758816",
      "id" : 46758816,
      "original_commit_id" : "b86e8c390be768cf5d43a75932880f6e4b452e54",
      "original_position" : 9,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46758816",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2015-12-05T18:35:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162233133",
      "id" : 162233133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-05T18:35:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162233133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16140350?v=3",
         "events_url" : "https://api.github.com/users/GIJensen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GIJensen/followers",
         "following_url" : "https://api.github.com/users/GIJensen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GIJensen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GIJensen",
         "id" : 16140350,
         "login" : "GIJensen",
         "organizations_url" : "https://api.github.com/users/GIJensen/orgs",
         "received_events_url" : "https://api.github.com/users/GIJensen/received_events",
         "repos_url" : "https://api.github.com/users/GIJensen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GIJensen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GIJensen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GIJensen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46763388"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46763388"
         }
      },
      "body" : "nit: I believe these should read \"BOOST_FOREACH(const mapMsgSize...\" (No space between \"(\" and \"const\")",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-05T21:40:43Z",
      "diff_hunk" : "@@ -165,6 +173,20 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n         }\n         obj.push_back(Pair(\"whitelisted\", stats.fWhitelisted));\n \n+        UniValue sendPerMsgCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapMsgCmdSize::value_type &i, stats.mapSendBytesPerMsgCmd) {\n+            if (i.second > 0)\n+                sendPerMsgCmd.push_back(Pair(i.first, i.second));\n+        }\n+        obj.push_back(Pair(\"bytessent_per_msg\", sendPerMsgCmd));\n+\n+        UniValue recvPerCmd(UniValue::VOBJ);\n+        BOOST_FOREACH( const mapMsgCmdSize::value_type &i, stats.mapRecvBytesPerMsgCmd) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46763388",
      "id" : 46763388,
      "original_commit_id" : "b86e8c390be768cf5d43a75932880f6e4b452e54",
      "original_position" : 27,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46763388",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16140350?v=3",
         "events_url" : "https://api.github.com/users/GIJensen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GIJensen/followers",
         "following_url" : "https://api.github.com/users/GIJensen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GIJensen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GIJensen",
         "id" : 16140350,
         "login" : "GIJensen",
         "organizations_url" : "https://api.github.com/users/GIJensen/orgs",
         "received_events_url" : "https://api.github.com/users/GIJensen/received_events",
         "repos_url" : "https://api.github.com/users/GIJensen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GIJensen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GIJensen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GIJensen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46763425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46763425"
         }
      },
      "body" : "Space after `uint64_t`",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-05T21:43:57Z",
      "diff_hunk" : "@@ -182,6 +182,7 @@ struct LocalServiceInfo {\n \n extern CCriticalSection cs_mapLocalHost;\n extern std::map<CNetAddr, LocalServiceInfo> mapLocalHost;\n+typedef std::map<std::string, uint64_t > mapMsgCmdSize; //command, total bytes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46763425",
      "id" : 46763425,
      "original_commit_id" : "b86e8c390be768cf5d43a75932880f6e4b452e54",
      "original_position" : 4,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46763425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Fixed minor code style issues (three unnecessary spaces).",
      "created_at" : "2015-12-07T08:07:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162443641",
      "id" : 162443641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-07T08:07:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162443641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46813987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46813987"
         }
      },
      "body" : "My vote goes for \"Message type\" too",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-07T12:08:42Z",
      "diff_hunk" : "@@ -111,6 +111,14 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n             \"       n,                        (numeric) The heights of blocks we're currently asking from this peer\\n\"\n             \"       ...\\n\"\n             \"    ]\\n\"\n+            \"    \\\"bytessent_per_msg\\\": {\\n\"\n+            \"       \\\"addr\\\": n,             (numeric) The total bytes sent aggregated by message command\\n\"\n+            \"       ...\\n\"\n+            \"    }\\n\"\n+            \"    \\\"bytesrecv_per_msg\\\": {\\n\"\n+            \"       \\\"addr\\\": n,             (numeric) The total bytes received aggregated by message command\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46813987",
      "id" : 46813987,
      "original_commit_id" : "b86e8c390be768cf5d43a75932880f6e4b452e54",
      "original_position" : 9,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46813987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46815259"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46815259"
         }
      },
      "body" : "Agreed. Changed to \"message type\" (amend force push last commit).",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2015-12-07T12:26:37Z",
      "diff_hunk" : "@@ -111,6 +111,14 @@ UniValue getpeerinfo(const UniValue& params, bool fHelp)\n             \"       n,                        (numeric) The heights of blocks we're currently asking from this peer\\n\"\n             \"       ...\\n\"\n             \"    ]\\n\"\n+            \"    \\\"bytessent_per_msg\\\": {\\n\"\n+            \"       \\\"addr\\\": n,             (numeric) The total bytes sent aggregated by message command\\n\"\n+            \"       ...\\n\"\n+            \"    }\\n\"\n+            \"    \\\"bytesrecv_per_msg\\\": {\\n\"\n+            \"       \\\"addr\\\": n,             (numeric) The total bytes received aggregated by message command\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r46815259",
      "id" : 46815259,
      "original_commit_id" : "b86e8c390be768cf5d43a75932880f6e4b452e54",
      "original_position" : 9,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2015-12-07T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46815259",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Will merge after squash and travis OK",
      "created_at" : "2015-12-07T12:29:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162511151",
      "id" : 162511151,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-07T12:29:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162511151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Squashed.",
      "created_at" : "2015-12-07T12:33:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-162511798",
      "id" : 162511798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2015-12-07T12:33:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162511798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r83546178"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83546178"
         }
      },
      "body" : "why not put ssSend.size() into a variable and use that?",
      "commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "created_at" : "2016-10-16T06:33:16Z",
      "diff_hunk" : "@@ -2480,6 +2503,9 @@ void CNode::EndMessage() UNLOCK_FUNCTION(cs_vSend)\n     unsigned int nSize = ssSend.size() - CMessageHeader::HEADER_SIZE;\n     WriteLE32((uint8_t*)&ssSend[CMessageHeader::MESSAGE_SIZE_OFFSET], nSize);\n \n+    //log total amount of bytes per command\n+    mapSendBytesPerMsgCmd[std::string(pszCommand)] += nSize + CMessageHeader::HEADER_SIZE;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#discussion_r83546178",
      "id" : 83546178,
      "original_commit_id" : "ca188c629e90fd90b533f43d769348d6a42d24b9",
      "original_position" : 66,
      "path" : "src/net.cpp",
      "position" : 66,
      "pull_request_review_id" : 4384783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6589",
      "updated_at" : "2016-10-16T06:33:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/83546178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "Is anyone using this functionality? If so, can uses be documented somewhere?",
      "created_at" : "2016-10-16T06:38:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-254030519",
      "id" : 254030519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2016-10-16T06:38:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254030519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad I think the goal was to find out what msg consumes the most bytes.",
      "created_at" : "2016-10-16T09:19:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6589#issuecomment-254036298",
      "id" : 254036298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6589",
      "updated_at" : "2016-10-16T09:19:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254036298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
