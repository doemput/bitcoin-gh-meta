[
   {
      "body" : "Based on the reports on IRC we clearly have some cases where txn are get missed but I've not seen any easy way to pin them down. Assuming the issues are shutdown related. It might be useful to always rescan the last couple block before the wallets claimed height.",
      "created_at" : "2012-06-29T16:54:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1535#issuecomment-6668101",
      "id" : 6668101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1535",
      "updated_at" : "2012-06-29T16:54:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6668101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I was hoping the details in this report would make finding and fixing the real cause easier :)",
      "created_at" : "2012-06-29T17:05:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1535#issuecomment-6669186",
      "id" : 6669186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1535",
      "updated_at" : "2012-06-29T17:05:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6669186",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "This may be because SetBestChain is called when the block state is flushed, irregardless of whether the wallet is currently doing ScanForWalletTransactions. eg if a user starts Bitcoin Core, it is running wallet scan, they try to stop the node, and it takes too long so they kill it (because wallet rescan is uninterruptible, I believe), the wallet best tip pointer may be set based on blocks which were flushed to disk (eg via FlushStateToDisk() in Shutdown()).",
      "created_at" : "2017-01-23T18:22:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1535#issuecomment-274572752",
      "id" : 274572752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1535",
      "updated_at" : "2017-01-23T18:22:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274572752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
