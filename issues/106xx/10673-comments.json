[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10673#discussion_r124256864"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10673"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/124256864"
         }
      },
      "body" : "In case `model` or `model->getOptionsModel()` is not set, there's no reason to continue here - there's no data to export.\r\nMight as well return from the function early if so.",
      "commit_id" : "fd9599b1358a314b073a9ca0a68ca8037915d91d",
      "created_at" : "2017-06-27T12:21:52Z",
      "diff_hunk" : "@@ -355,7 +355,11 @@ void TransactionView::exportClicked()\n     writer.addColumn(tr(\"Type\"), TransactionTableModel::Type, Qt::EditRole);\n     writer.addColumn(tr(\"Label\"), 0, TransactionTableModel::LabelRole);\n     writer.addColumn(tr(\"Address\"), 0, TransactionTableModel::AddressRole);\n-    writer.addColumn(BitcoinUnits::getAmountColumnTitle(model->getOptionsModel()->getDisplayUnit()), 0, TransactionTableModel::FormattedAmountRole);\n+    if (model && model->getOptionsModel()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10673#discussion_r124256864",
      "id" : 124256864,
      "original_commit_id" : "46756b16efacf001a4a7c2b6631322251836fb18",
      "original_position" : 5,
      "path" : "src/qt/transactionview.cpp",
      "position" : null,
      "pull_request_review_id" : 46529039,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10673",
      "updated_at" : "2017-06-27T13:06:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/124256864",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Fixed! Looks good? Is an error message dialog necessary?",
      "created_at" : "2017-06-27T13:07:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10673#issuecomment-311352490",
      "id" : 311352490,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10673",
      "updated_at" : "2017-06-27T13:07:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311352490",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7826565?v=3",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "body" : "> Is an error message dialog necessary?\r\n\r\nThat's not necessary. It's fine for the export to do nothing in that case.",
      "created_at" : "2017-06-27T14:31:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10673#issuecomment-311376764",
      "id" : 311376764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10673",
      "updated_at" : "2017-06-27T14:31:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311376764",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "A bit of context might be needed for this change Ã¢ÂÂ I assumed `model` can be `NULL` when entering `exportClicked()` due to [this check](https://github.com/practicalswift/bitcoin/blob/32325a3f58fd607c29030b0dd6f2388579b9c926/src/qt/transactionview.cpp#L352-L353):\r\n\r\n```c++\r\n    if (model && model->haveWatchOnly())\r\n        writer.addColumn(tr(\"Watch-only\"), TransactionTableModel::Watchonly);\r\n```\r\n\r\nLet me know if that assumption is incorrect :-)",
      "created_at" : "2017-06-27T23:05:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10673#issuecomment-311510476",
      "id" : 311510476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10673",
      "updated_at" : "2017-06-27T23:05:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311510476",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7826565?v=3",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "body" : "In normal use that shouldn't happen. However the view class should be able to work (at least: not crash) with a NULL model, for UI-only testing.",
      "created_at" : "2017-06-28T11:16:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10673#issuecomment-311630259",
      "id" : 311630259,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10673",
      "updated_at" : "2017-06-28T11:16:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311630259",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj OK, thanks for the clarification!",
      "created_at" : "2017-06-28T21:27:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10673#issuecomment-311797175",
      "id" : 311797175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10673",
      "updated_at" : "2017-06-28T21:27:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311797175",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7826565?v=3",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "body" : "utACK fd9599b1358a314b073a9ca0a68ca8037915d91d (runtime protection is always good).\r\n\r\nThough I having a hard time finding a possibility how the user could press the \"Export\" button while not having a walletmodel attached to the `TransactionView`.",
      "created_at" : "2017-06-29T06:31:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10673#issuecomment-311875039",
      "id" : 311875039,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10673",
      "updated_at" : "2017-06-29T06:31:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311875039",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
