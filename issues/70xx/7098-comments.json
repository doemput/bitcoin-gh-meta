[
   {
      "body" : "> Always set ipv4 to reachable. In practice we treat it this way anyway.\r\n\r\nYes, determining connectivity is a difficult problem in general. I remember libevent has some code for 'guessing' if it's on ipv4/ipv6 network by looking at OS-specific things like interfaces, and it's not pretty, and it gets things wrong sometimes.\r\n\r\n(if you make any default assumptions, don't forget honoring -onlynet, it can disallow connecting over specific networks)\r\n\r\n> Set ipv4/ipv6 reachable once bound, regardless of whether it's routable.\r\n\r\nI don't think binding should influence it - reachable for outgoing connections is something else than reachable for incoming connections. Thinking of it, I have a similar issue with Tor/Onion, where being reachable on an .onion is interpreted as being able to connect to onions.\r\n\r\nWe don't do so at the moment, but ideally we'd distinguish between 'we are reachable on X' and 'we can reach out on X'.\r\n\r\n> Set ipv4/ipv6 to reachable once a respective connection attempt succeeds.\r\n\r\nThat's seems too late :) A failed connection attempt tells us nothing, only a succesful one does, so this is equivalent to \"just assume connectivity exists if there's an interface\".\r\n",
      "created_at" : "2015-11-27T09:38:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7098#issuecomment-160094257",
      "id" : 160094257,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7098",
      "updated_at" : "2015-11-27T09:40:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160094257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Also,  doing this determination once at startup is not really correct either. Networking status can very well change during runtime.\r\n(see e.g. #6030)\r\n",
      "created_at" : "2015-11-27T09:51:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7098#issuecomment-160099658",
      "id" : 160099658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7098",
      "updated_at" : "2015-11-27T09:51:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160099658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj indeed, we really dont know whether we have netgroup connectivity (except for tor)",
      "created_at" : "2015-11-27T09:58:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7098#issuecomment-160101864",
      "id" : 160101864,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7098",
      "updated_at" : "2015-11-27T09:58:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160101864",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   }
]
