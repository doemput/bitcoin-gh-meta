{
   "assignee" : null,
   "body" : "Wizkid057 reported getbestblockhash polling was frequently beating\r\n blocknotify, sometimes by 2 seconds.  Under the theory that getting\r\n cs_vNodes and running running PushInventory for all peers was\r\n sometimes taking a while or UpdatedBlockTip (see below), I\r\n suggested moving up the notify.  He reported doing so made it\r\n consistently faster.\r\n\r\nI think it's reasonable to signal blocknotify first: All it does\r\n is fire off a new thread, so it should never block.\r\n\r\nThis does not move up GetMainSignals().UpdatedBlockTip() which\r\n because that signal includes the wallet, and if there is a\r\n wallet with many keys the wallet processing of a block can\r\n be quite slow. Unfortunately, it also sends out the ZMQ notify.",
   "closed_at" : "2015-12-02T03:04:24Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
      "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gmaxwell/followers",
      "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gmaxwell",
      "id" : 858454,
      "login" : "gmaxwell",
      "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
      "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
      "repos_url" : "https://api.github.com/users/gmaxwell/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gmaxwell"
   },
   "comments" : 20,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037/comments",
   "created_at" : "2015-11-17T07:13:40Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037",
   "id" : 117298422,
   "labels" : [
      {
         "color" : "c7def8",
         "name" : "Mining",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Mining"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 7037,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/7037.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/7037.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7037"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Move the blocknotify callback ahead of peer announcement.",
   "updated_at" : "2015-12-02T03:39:09Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
      "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gmaxwell/followers",
      "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gmaxwell",
      "id" : 858454,
      "login" : "gmaxwell",
      "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
      "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
      "repos_url" : "https://api.github.com/users/gmaxwell/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gmaxwell"
   }
}
