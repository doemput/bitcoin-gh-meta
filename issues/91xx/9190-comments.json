[
   {
      "body" : "huh. I run valgrind all the time on bitcoind... but I haven't on qt. Good finds! Reviewing...",
      "created_at" : "2016-11-19T19:48:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-261735263",
      "id" : 261735263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-19T19:48:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261735263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "> huh. I run valgrind all the time on bitcoind... but I haven't on qt. Good finds! Reviewing...\r\n\r\nYes, bitcoind was clean in asan too. Nice accomplishment. The GUI apparently has quite some leaks, some of which we probably can't help. None extremely serious - these are mostly objects allocated only once, although the thread leak is a bit scary for other reasons: there really shouldn't be a RPC executor thread before `AppIinit()` nor after `Shutdown()`. So it's a safety fix too.\r\n\r\n@fanquake to answer your IRC question this was with Qt 5.5.1, the system library on Ubuntu 1604.",
      "created_at" : "2016-11-21T07:42:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-261865309",
      "id" : 261865309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-21T07:42:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261865309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Tested ACK 4b2c2888868cb49806cd734ea36e7f5b032c3b00.\r\nLooks much better now on OSX but still got some leaks reported (maybe OSX specific, maybe root source lies in Qt).\r\n\r\n* `void PaymentServer::LoadRootCAs(X509_STORE* _store);`\r\n* `CDBEnvOpen` via `CWallet::Verify()` and `CWallet::LoadWallet()`\r\n\r\n![bildschirmfoto 2016-11-21 um 14 52 07](https://cloud.githubusercontent.com/assets/178464/20485025/1a591bb6-affa-11e6-9c44-c308b0d815ae.png)",
      "created_at" : "2016-11-21T13:55:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-261944297",
      "id" : 261944297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-21T13:55:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261944297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Huh, the leaks in `PaymentServer::LoadRootCAs` should have been solved with commit 4b2c2888868cb49806cd734ea36e7f5b032c3b00 . In any case I'm not claiming to plug all leaks, just most of them.",
      "created_at" : "2016-11-21T14:01:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-261945757",
      "id" : 261945757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-21T14:01:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261945757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@jonasschnelli Which version of Qt are you testing with?\r\n\r\nI'm currently testing with Qt5.7, on OS X 10.12.1, seeing similar results. Screenshots below.\r\n![bitcoin-leaks](https://cloud.githubusercontent.com/assets/863730/20512851/26bb37d6-b0bd-11e6-8446-bb8244ec8517.png)\r\nPayment Server:\r\n![payment server](https://cloud.githubusercontent.com/assets/863730/20512882/5e5b89d4-b0bd-11e6-80e9-367620035af9.png)\r\nSplashScreen:\r\n![splashscreen](https://cloud.githubusercontent.com/assets/863730/20512886/625660fe-b0bd-11e6-9831-7e9be46802fb.png)\r\n\r\n\r\n\r\n\r\n",
      "created_at" : "2016-11-22T06:10:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-262156444",
      "id" : 262156444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-22T06:10:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/262156444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2016-11-22T22:33:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-262386304",
      "id" : 262386304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-22T22:33:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/262386304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK https://github.com/bitcoin/bitcoin/commit/4b2c2888868cb49806cd734ea36e7f5b032c3b00\r\n\r\nThere are two more `new QMenu();`:\r\n```\r\nsrc/qt/coincontroldialog.cpp:    contextMenu = new QMenu();\r\nsrc/qt/receiverequestdialog.cpp:    contextMenu = new QMenu();\r\n```\r\n",
      "created_at" : "2016-11-23T10:29:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-262478758",
      "id" : 262478758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-23T10:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/262478758",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik Thanks! Verified that those don't get deleted (they likely didn't show up in my overview because I didn't check opening sub-windows apart from the debug window), so changed them too and re-pushed.\r\n",
      "created_at" : "2016-11-23T11:38:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9190#issuecomment-262491759",
      "id" : 262491759,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9190",
      "updated_at" : "2016-11-23T11:38:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/262491759",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
