[
   {
      "body" : "The fundrawtransaction test failed on two linux builds, same error for both:\r\n```\r\n.........\r\nfundrawtransaction.py:\r\nInitializing test directory /tmp/testz6xi8e_p/637\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nMining blocks...\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nstart_node: bitcoind started, waiting for RPC to come up\r\nstart_node: RPC succesfully started\r\nStopping nodes\r\nCleaning up\r\nTests successful\r\nstderr:\r\nWarning: Error reading wallet.dat! All keys read correctly, but transaction data or address book entries might be missing or incorrect.\r\nPass: False, Duration: 41 s\r\n```",
      "created_at" : "2016-11-09T05:37:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-259337548",
      "id" : 259337548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2016-11-09T05:37:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259337548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Fixed fundrawtransaction test, and added importmulti tests.",
      "created_at" : "2016-11-10T19:54:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-259790325",
      "id" : 259790325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2016-11-10T19:54:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259790325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Concept ACK.\r\nPlans to test this soon.",
      "created_at" : "2017-01-01T10:13:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-269897862",
      "id" : 269897862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-01-01T10:13:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269897862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "utACK.",
      "created_at" : "2017-01-19T20:28:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-273889183",
      "id" : 273889183,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-01-19T20:28:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273889183",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97039670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97039670"
         }
      },
      "body" : "shouldn't this be `int64_t nCreateTime`.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-20T09:43:20Z",
      "diff_hunk" : "@@ -222,6 +219,17 @@ bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigne\n     return CCryptoKeyStore::AddCryptedKey(vchPubKey, vchCryptedSecret);\n }\n \n+void CWallet::UpdateTimeFirstKey(int nCreateTime)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97039670",
      "id" : 97039670,
      "original_commit_id" : "6a52c4de037977c28ae1015c25c6c0610cf6b1ec",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 17641340,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97039670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97039969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97039969"
         }
      },
      "body" : "Is there a reason for not using `CKeyID` here?",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-20T09:45:21Z",
      "diff_hunk" : "@@ -454,20 +457,27 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n             }\n             wss.fIsEncrypted = true;\n         }\n-        else if (strType == \"keymeta\")\n+        else if (strType == \"keymeta\" || strType == \"watchmeta\")\n         {\n-            CPubKey vchPubKey;\n-            ssKey >> vchPubKey;\n+            uint160 keyId;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97039969",
      "id" : 97039969,
      "original_commit_id" : "6a52c4de037977c28ae1015c25c6c0610cf6b1ec",
      "original_position" : 66,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 17641340,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97039969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97040074"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97040074"
         }
      },
      "body" : "I don't see the reason for changing this from `CKeyID` to `uint160`?",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-20T09:46:04Z",
      "diff_hunk" : "@@ -3247,7 +3262,7 @@ void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n     mapKeyBirth.clear();\n \n     // get birth times for keys with metadata\n-    for (std::map<CKeyID, CKeyMetadata>::const_iterator it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)\n+    for (std::map<uint160, CKeyMetadata>::const_iterator it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97040074",
      "id" : 97040074,
      "original_commit_id" : "6a52c4de037977c28ae1015c25c6c0610cf6b1ec",
      "original_position" : 71,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 17641340,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97040074",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97373922"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97373922"
         }
      },
      "body" : "Changed from uint160 to CTxDestination in 777b3db229e162c524d49ab7b448421f51bfa5ca. The map isn't keyed by CKeyID anymore because it can also contain CScriptID entries for watch only keys.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-23T17:41:55Z",
      "diff_hunk" : "@@ -3247,7 +3262,7 @@ void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n     mapKeyBirth.clear();\n \n     // get birth times for keys with metadata\n-    for (std::map<CKeyID, CKeyMetadata>::const_iterator it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)\n+    for (std::map<uint160, CKeyMetadata>::const_iterator it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97373922",
      "id" : 97373922,
      "original_commit_id" : "6a52c4de037977c28ae1015c25c6c0610cf6b1ec",
      "original_position" : 71,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 17981066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97373922",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97387105"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97387105"
         }
      },
      "body" : "Again this can hold CScriptID values, and is changed to CTxDestination in 777b3db229e162c524d49ab7b448421f51bfa5ca.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-23T18:45:58Z",
      "diff_hunk" : "@@ -454,20 +457,27 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n             }\n             wss.fIsEncrypted = true;\n         }\n-        else if (strType == \"keymeta\")\n+        else if (strType == \"keymeta\" || strType == \"watchmeta\")\n         {\n-            CPubKey vchPubKey;\n-            ssKey >> vchPubKey;\n+            uint160 keyId;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97387105",
      "id" : 97387105,
      "original_commit_id" : "6a52c4de037977c28ae1015c25c6c0610cf6b1ec",
      "original_position" : 66,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 17981066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97387105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97391323"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97391323"
         }
      },
      "body" : "Good catch, fixed in 6891d5e1f24e74561aeba45c4752756a760c281d.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-23T19:05:43Z",
      "diff_hunk" : "@@ -222,6 +219,17 @@ bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigne\n     return CCryptoKeyStore::AddCryptedKey(vchPubKey, vchCryptedSecret);\n }\n \n+void CWallet::UpdateTimeFirstKey(int nCreateTime)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97391323",
      "id" : 97391323,
      "original_commit_id" : "6a52c4de037977c28ae1015c25c6c0610cf6b1ec",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 17981066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97391323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "utACK 6891d5e\r\n",
      "created_at" : "2017-01-23T21:20:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-274620480",
      "id" : 274620480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-01-23T21:20:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274620480",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2017-01-23T23:34:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-274652778",
      "id" : 274652778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-01-23T23:34:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274652778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97846034"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97846034"
         }
      },
      "body" : "Shouldn't you try address.GetKeyID(keyID) first before you give up and use the CScriptID? Otherwise you end up using the P2SH of the P2PH.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-25T18:31:06Z",
      "diff_hunk" : "@@ -204,10 +205,20 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         if (pwalletMain && pwalletMain->mapAddressBook.count(dest))\n             ret.push_back(Pair(\"account\", pwalletMain->mapAddressBook[dest].name));\n         CKeyID keyID;\n-        if (pwalletMain && address.GetKeyID(keyID) && pwalletMain->mapKeyMetadata.count(keyID) && !pwalletMain->mapKeyMetadata[keyID].hdKeypath.empty())\n+        if (pwalletMain)\n         {\n-            ret.push_back(Pair(\"hdkeypath\", pwalletMain->mapKeyMetadata[keyID].hdKeypath));\n-            ret.push_back(Pair(\"hdmasterkeyid\", pwalletMain->mapKeyMetadata[keyID].hdMasterKeyID.GetHex()));\n+            auto it = pwalletMain->mapKeyMetadata.find(CScriptID(scriptPubKey));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97846034",
      "id" : 97846034,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 17,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 18468997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97846034",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97852789"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97852789"
         }
      },
      "body" : "I'd significantly prefer to not expose this version, making it explicit to callers that the key's nCreateTime is being set to 0 (which, after this PR, implies the wallet's nTimeFirstKey is set to 1).",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-25T19:01:38Z",
      "diff_hunk" : "@@ -251,11 +259,18 @@ bool CWallet::AddWatchOnly(const CScript &dest)\n {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97852789",
      "id" : 97852789,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 46,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 18468997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97852789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97853299"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97853299"
         }
      },
      "body" : "I think we need to ignore this error - otherwise if a watchonly has been added in a previous version we will fail to erase here (as it might have no watchmeta)?",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-25T19:04:01Z",
      "diff_hunk" : "@@ -116,15 +116,20 @@ bool CWalletDB::WriteCScript(const uint160& hash, const CScript& redeemScript)\n     return Write(std::make_pair(std::string(\"cscript\"), hash), *(const CScriptBase*)(&redeemScript), false);\n }\n \n-bool CWalletDB::WriteWatchOnly(const CScript &dest)\n+bool CWalletDB::WriteWatchOnly(const CScript &dest, const CKeyMetadata& keyMeta)\n {\n     nWalletDBUpdated++;\n+    if (!Write(std::make_pair(std::string(\"watchmeta\"), *(const CScriptBase*)(&dest)),\n+               keyMeta, false))\n+        return false;\n     return Write(std::make_pair(std::string(\"watchs\"), *(const CScriptBase*)(&dest)), '1');\n }\n \n bool CWalletDB::EraseWatchOnly(const CScript &dest)\n {\n     nWalletDBUpdated++;\n+    if (!Erase(std::make_pair(std::string(\"watchmeta\"), *(const CScriptBase*)(&dest))))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97853299",
      "id" : 97853299,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 17,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 18468997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97853299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97854914"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97854914"
         }
      },
      "body" : "Maybe do overwrite here? Seems strange that we update in-wallet-state without updating on-disk state (and its probably a supported use-case to re-add something to wallet to set its date differently).",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-25T19:11:24Z",
      "diff_hunk" : "@@ -116,15 +116,20 @@ bool CWalletDB::WriteCScript(const uint160& hash, const CScript& redeemScript)\n     return Write(std::make_pair(std::string(\"cscript\"), hash), *(const CScriptBase*)(&redeemScript), false);\n }\n \n-bool CWalletDB::WriteWatchOnly(const CScript &dest)\n+bool CWalletDB::WriteWatchOnly(const CScript &dest, const CKeyMetadata& keyMeta)\n {\n     nWalletDBUpdated++;\n+    if (!Write(std::make_pair(std::string(\"watchmeta\"), *(const CScriptBase*)(&dest)),\n+               keyMeta, false))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97854914",
      "id" : 97854914,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 9,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 18468997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97854914",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97855486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97855486"
         }
      },
      "body" : "The second two calls to AddWatchOnly in processImport probably could take the timestamp argument.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-25T19:13:45Z",
      "diff_hunk" : "@@ -251,11 +259,18 @@ bool CWallet::AddWatchOnly(const CScript &dest)\n {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r97855486",
      "id" : 97855486,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 46,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 18468997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/97855486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98026098"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98026098"
         }
      },
      "body" : "Grr, meant for this to be on AddWatchOnly at line https://github.com/bitcoin/bitcoin/pull/9108/files#diff-b2bb174788c7409b671c46ccc86034bdL251",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-01-26T16:04:08Z",
      "diff_hunk" : "@@ -251,11 +259,18 @@ bool CWallet::AddWatchOnly(const CScript &dest)\n {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98026098",
      "id" : 98026098,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 46,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 18655185,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98026098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98815970"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98815970"
         }
      },
      "body" : "Missing this here?\r\n```\r\npwallet->UpdateTimeFirstKey(keyMeta.nCreateTime);\r\n```\r\nEDIT: no, LoadKeyMetadata calls it.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-01T01:56:19Z",
      "diff_hunk" : "@@ -463,11 +463,6 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n             wss.nKeyMeta++;\n \n             pwallet->LoadKeyMetadata(vchPubKey, keyMeta);\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98815970",
      "id" : 98815970,
      "original_commit_id" : "99c1aa169592a71c24e7a2475c50ad7598eafb65",
      "original_position" : 13,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 19470250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98815970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK individual commits: 99c1aa169592a71c24e7a2475c50ad7598eafb65 6891d5e1f24e74561aeba45c4752756a760c281d\r\n\r\nCan we squash already?\r\n\r\n",
      "created_at" : "2017-02-01T02:02:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-276552843",
      "id" : 276552843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-01T02:02:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276552843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Squashed 6891d5e1f24e74561aeba45c4752756a760c281d -> 89011a3032f635b6536a476bfa48502c5dcc7a65, and will look into Matt's comments.",
      "created_at" : "2017-02-01T16:27:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-276704807",
      "id" : 276704807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-01T16:27:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276704807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98933859"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98933859"
         }
      },
      "body" : "Changed lookup order in 1ea9543ac25cd8976430beab2f913d4875767e8b. I didn't understand what you mean by P2SH of the P2PH, but I think it does make sense to prefer regular key metadata over watchonly key metadata if both exist.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-01T16:29:25Z",
      "diff_hunk" : "@@ -204,10 +205,20 @@ UniValue validateaddress(const JSONRPCRequest& request)\n         if (pwalletMain && pwalletMain->mapAddressBook.count(dest))\n             ret.push_back(Pair(\"account\", pwalletMain->mapAddressBook[dest].name));\n         CKeyID keyID;\n-        if (pwalletMain && address.GetKeyID(keyID) && pwalletMain->mapKeyMetadata.count(keyID) && !pwalletMain->mapKeyMetadata[keyID].hdKeypath.empty())\n+        if (pwalletMain)\n         {\n-            ret.push_back(Pair(\"hdkeypath\", pwalletMain->mapKeyMetadata[keyID].hdKeypath));\n-            ret.push_back(Pair(\"hdmasterkeyid\", pwalletMain->mapKeyMetadata[keyID].hdMasterKeyID.GetHex()));\n+            auto it = pwalletMain->mapKeyMetadata.find(CScriptID(scriptPubKey));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98933859",
      "id" : 98933859,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 17,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 19591493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98933859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98933927"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98933927"
         }
      },
      "body" : "Enabled overwrite in 50474f1305693bf22a995f0841ee27dad545d01a. This was just a mistake copying the line of code from taken from CWalletDB::WriteKey.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-01T16:29:39Z",
      "diff_hunk" : "@@ -116,15 +116,20 @@ bool CWalletDB::WriteCScript(const uint160& hash, const CScript& redeemScript)\n     return Write(std::make_pair(std::string(\"cscript\"), hash), *(const CScriptBase*)(&redeemScript), false);\n }\n \n-bool CWalletDB::WriteWatchOnly(const CScript &dest)\n+bool CWalletDB::WriteWatchOnly(const CScript &dest, const CKeyMetadata& keyMeta)\n {\n     nWalletDBUpdated++;\n+    if (!Write(std::make_pair(std::string(\"watchmeta\"), *(const CScriptBase*)(&dest)),\n+               keyMeta, false))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98933927",
      "id" : 98933927,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 9,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 19591493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98933927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98933973"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98933973"
         }
      },
      "body" : "Having no watchmeta shouldn't be a problem. Erase still returns true if the key is not found. It just false if there is a database error.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-01T16:29:48Z",
      "diff_hunk" : "@@ -116,15 +116,20 @@ bool CWalletDB::WriteCScript(const uint160& hash, const CScript& redeemScript)\n     return Write(std::make_pair(std::string(\"cscript\"), hash), *(const CScriptBase*)(&redeemScript), false);\n }\n \n-bool CWalletDB::WriteWatchOnly(const CScript &dest)\n+bool CWalletDB::WriteWatchOnly(const CScript &dest, const CKeyMetadata& keyMeta)\n {\n     nWalletDBUpdated++;\n+    if (!Write(std::make_pair(std::string(\"watchmeta\"), *(const CScriptBase*)(&dest)),\n+               keyMeta, false))\n+        return false;\n     return Write(std::make_pair(std::string(\"watchs\"), *(const CScriptBase*)(&dest)), '1');\n }\n \n bool CWalletDB::EraseWatchOnly(const CScript &dest)\n {\n     nWalletDBUpdated++;\n+    if (!Erase(std::make_pair(std::string(\"watchmeta\"), *(const CScriptBase*)(&dest))))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r98933973",
      "id" : 98933973,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 17,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 19591493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/98933973",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r99193593"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99193593"
         }
      },
      "body" : "Thanks, added the two missing timestamp arguments in f87008a8b0edc677db6ec16036f7e9940a3c904d, and expanded the test to verify the fix.\r\n\r\nI very much agree that it's not good to expose the AddWatchOnly version not taking a timestamp, so I made it private in 1b9969682e59e082855179e4c50fb1dd38227d67. I also experimented with getting rid of the overload by adding the timestamp to AddWatchOnly methods in the keystore superclasses, but this was a bigger change and made the keystore and walletdb code more confusing, so I went with this simpler fix.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-02T18:58:36Z",
      "diff_hunk" : "@@ -251,11 +259,18 @@ bool CWallet::AddWatchOnly(const CScript &dest)\n {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r99193593",
      "id" : 99193593,
      "original_commit_id" : "6891d5e1f24e74561aeba45c4752756a760c281d",
      "original_position" : 46,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 19591493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99193593",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Squashed 1b9969682e59e082855179e4c50fb1dd38227d67 -> 3d6dbed2c3132d53650b86f09d42e339149d3210 ([watchtime.3](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.3) -> [watchtime.4](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.4))\r\n\r\n",
      "created_at" : "2017-02-02T19:18:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-277054409",
      "id" : 277054409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-02T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277054409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Latest changes conflicted (trivially) with #9607 and #9121, so rebased 3d6dbed2c3132d53650b86f09d42e339149d3210 -> b78ec3cc3dbf5e1fc2dc105c609574101e462ae8 ([watchtime.4](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.4) -> [watchtime.5](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.5))",
      "created_at" : "2017-02-02T19:39:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-277060200",
      "id" : 277060200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-02T19:39:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277060200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r99429034"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99429034"
         }
      },
      "body" : "Ugh, I totally missed that its an override, thanks for catching that. Can you further document here that this method implies setting the first key time to 1?",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-03T21:45:16Z",
      "diff_hunk" : "@@ -603,6 +603,18 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool fFileBacked;\n \n     std::set<int64_t> setKeyPool;\n+\n+    int64_t nTimeFirstKey;\n+\n+    /**\n+     * Private version of AddWatchOnly method which does not accept a timestamp.\n+     * Because this is an inherited virtual method, it is accessible despite\n+     * being marked private, but it is marked private anyway to encourage use of\n+     * the other AddWatchOnly which accepts a timestamp and sets nTimeFirstKey\n+     * more intelligently for more efficient rescans.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r99429034",
      "id" : 99429034,
      "original_commit_id" : "b78ec3cc3dbf5e1fc2dc105c609574101e462ae8",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 20110612,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99429034",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "utACK b78ec3cc3dbf5e1fc2dc105c609574101e462ae8 +/- wanting another comment, Didn't look too closely at tests.",
      "created_at" : "2017-02-03T21:51:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-277372110",
      "id" : 277372110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-03T21:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277372110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r99432114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99432114"
         }
      },
      "body" : "Added in 5dbd05d8f7c4fc86d1296a200a00a834b61fb5c3",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-03T22:04:11Z",
      "diff_hunk" : "@@ -603,6 +603,18 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool fFileBacked;\n \n     std::set<int64_t> setKeyPool;\n+\n+    int64_t nTimeFirstKey;\n+\n+    /**\n+     * Private version of AddWatchOnly method which does not accept a timestamp.\n+     * Because this is an inherited virtual method, it is accessible despite\n+     * being marked private, but it is marked private anyway to encourage use of\n+     * the other AddWatchOnly which accepts a timestamp and sets nTimeFirstKey\n+     * more intelligently for more efficient rescans.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r99432114",
      "id" : 99432114,
      "original_commit_id" : "b78ec3cc3dbf5e1fc2dc105c609574101e462ae8",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 20113903,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/99432114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Rebased b8fca20399c3528e5c293509629907f6874575e3 -> be820d8ad761b87ca61427ce8b3005b0f6db0d06 ([watchtime.7](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.7) -> [watchtime.8](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.8)) to fix conflict with #9227.\r\n",
      "created_at" : "2017-02-06T18:11:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-277764961",
      "id" : 277764961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-06T18:11:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277764961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06 appears to be equivalent to my previous utACK (b78ec3cc3dbf5e1fc2dc105c609574101e462ae8) plus a fixup for the comments I requested.",
      "created_at" : "2017-02-07T15:13:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-278028975",
      "id" : 278028975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-07T15:13:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/278028975",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@jonasschnelli Looks like your suggestions have been carried out by @ryanofsky  and the \"changes requested\" can be cancelled?",
      "created_at" : "2017-02-09T06:41:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-278560433",
      "id" : 278560433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-09T06:41:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/278560433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100245865"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100245865"
         }
      },
      "body" : "Nit: JSON represents integer values without quotes, so probably `\" \\\"timestamp\\\" : int64     (number, optional) The crea...\"`",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T07:37:31Z",
      "diff_hunk" : "@@ -167,6 +167,7 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"\n             \"  \\\"iscompressed\\\" : true|false,  (boolean) If the address is compressed\\n\"\n             \"  \\\"account\\\" : \\\"account\\\"         (string) DEPRECATED. The account associated with the address, \\\"\\\" is the default account\\n\"\n+            \"  \\\"timestamp\\\" : \\\"int64\\\"         (number, optional) The creation time of the key if available\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100245865",
      "id" : 100245865,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 4,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 20944928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100245865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246055"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246055"
         }
      },
      "body" : "Is there a reason why this is not simply defaulting to 0 in `AddWatchOnly()` which would leave this line untouched?",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T07:39:32Z",
      "diff_hunk" : "@@ -161,7 +161,7 @@ void ImportScript(const CScript& script, const string& strLabel, bool isRedeemSc\n \n     pwalletMain->MarkDirty();\n \n-    if (!pwalletMain->HaveWatchOnly(script) && !pwalletMain->AddWatchOnly(script))\n+    if (!pwalletMain->HaveWatchOnly(script) && !pwalletMain->AddWatchOnly(script, 0 /* nCreateTime */))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246055",
      "id" : 100246055,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 14,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 14,
      "pull_request_review_id" : 20944928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246055",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246507"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246507"
         }
      },
      "body" : "Nit:\r\n```diff\r\n-    for (auto it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {\r\n-        if (const CKeyID* keyID = boost::get<CKeyID>(&it->first)) {\r\n-            vKeyBirth.push_back(std::make_pair(it->second, *keyID));\r\n+    for (const auto& it : mapKeyBirth) {\r\n+        if (const CKeyID* keyID = boost::get<CKeyID>(&it.first)) {\r\n+            vKeyBirth.push_back(std::make_pair(it.second, *keyID));\r\n```",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T07:44:06Z",
      "diff_hunk" : "@@ -576,15 +575,17 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n     if (!file.is_open())\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"Cannot open wallet dump file\");\n \n-    std::map<CKeyID, int64_t> mapKeyBirth;\n+    std::map<CTxDestination, int64_t> mapKeyBirth;\n     std::set<CKeyID> setKeyPool;\n     pwalletMain->GetKeyBirthTimes(mapKeyBirth);\n     pwalletMain->GetAllReserveKeys(setKeyPool);\n \n     // sort time/key pairs\n     std::vector<std::pair<int64_t, CKeyID> > vKeyBirth;\n-    for (std::map<CKeyID, int64_t>::const_iterator it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {\n-        vKeyBirth.push_back(std::make_pair(it->second, it->first));\n+    for (auto it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246507",
      "id" : 100246507,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 42,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 20944928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246507",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246616"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246616"
         }
      },
      "body" : "Nit: worthwhile to add `// set and test` or similar as the single `=` might be mistaken for `==` by someone reading the code.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T07:45:21Z",
      "diff_hunk" : "@@ -576,15 +575,17 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n     if (!file.is_open())\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"Cannot open wallet dump file\");\n \n-    std::map<CKeyID, int64_t> mapKeyBirth;\n+    std::map<CTxDestination, int64_t> mapKeyBirth;\n     std::set<CKeyID> setKeyPool;\n     pwalletMain->GetKeyBirthTimes(mapKeyBirth);\n     pwalletMain->GetAllReserveKeys(setKeyPool);\n \n     // sort time/key pairs\n     std::vector<std::pair<int64_t, CKeyID> > vKeyBirth;\n-    for (std::map<CKeyID, int64_t>::const_iterator it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {\n-        vKeyBirth.push_back(std::make_pair(it->second, it->first));\n+    for (auto it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {\n+        if (const CKeyID* keyID = boost::get<CKeyID>(&it->first)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246616",
      "id" : 100246616,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 43,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 20944928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246962"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246962"
         }
      },
      "body" : "Nit: as above, can be made to look a bit nicer with `for (const auto& it : mapKeyMetadata)` and `s/it->/it./`.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T07:49:05Z",
      "diff_hunk" : "@@ -3416,12 +3431,12 @@ class CAffectedKeysVisitor : public boost::static_visitor<void> {\n     void operator()(const CNoDestination &none) {}\n };\n \n-void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n+void CWallet::GetKeyBirthTimes(std::map<CTxDestination, int64_t> &mapKeyBirth) const {\n     AssertLockHeld(cs_wallet); // mapKeyMetadata\n     mapKeyBirth.clear();\n \n     // get birth times for keys with metadata\n-    for (std::map<CKeyID, CKeyMetadata>::const_iterator it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)\n+    for (auto it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100246962",
      "id" : 100246962,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 77,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 20944928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100246962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100247147"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100247147"
         }
      },
      "body" : "Nit: (see above) make 2nd argument optional,\r\nNit 2: `CScript& dest`\r\n```C++\r\nbool AddWatchOnly(const CScript& dest, int64_t nCreateTime = 0);\r\n```",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T07:50:45Z",
      "diff_hunk" : "@@ -748,7 +763,7 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool GetDestData(const CTxDestination &dest, const std::string &key, std::string *value) const;\n \n     //! Adds a watch-only address to the store, and saves it to disk.\n-    bool AddWatchOnly(const CScript &dest);\n+    bool AddWatchOnly(const CScript &dest, int64_t nCreateTime);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100247147",
      "id" : 100247147,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 58,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 20944928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100247147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100249107"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100249107"
         }
      },
      "body" : "Maybe I'm misreading the code, but the comment `Cannot determine birthday information` seems to refer to the if case below it being true; I would prefer comments being inside the block in this case.  I would probably also include brackets after doing so as the comment makes the single-line conditional state less obvious.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T08:07:56Z",
      "diff_hunk" : "@@ -222,6 +219,17 @@ bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigne\n     return CCryptoKeyStore::AddCryptedKey(vchPubKey, vchCryptedSecret);\n }\n \n+void CWallet::UpdateTimeFirstKey(int64_t nCreateTime)\n+{\n+    AssertLockHeld(cs_wallet);\n+    // Cannot determine birthday information, so set the wallet birthday to the\n+    // beginning of time.\n+    if (nCreateTime <= 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100249107",
      "id" : 100249107,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 36,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 20944928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100249107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281000"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281000"
         }
      },
      "body" : "Fixed in 6a56f6d77a4e0679ab88b354dea7143ec8539c4e",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T10:59:49Z",
      "diff_hunk" : "@@ -167,6 +167,7 @@ UniValue validateaddress(const JSONRPCRequest& request)\n             \"  \\\"pubkey\\\" : \\\"publickeyhex\\\",    (string) The hex value of the raw public key\\n\"\n             \"  \\\"iscompressed\\\" : true|false,  (boolean) If the address is compressed\\n\"\n             \"  \\\"account\\\" : \\\"account\\\"         (string) DEPRECATED. The account associated with the address, \\\"\\\" is the default account\\n\"\n+            \"  \\\"timestamp\\\" : \\\"int64\\\"         (number, optional) The creation time of the key if available\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281000",
      "id" : 100281000,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 4,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 20981545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281022"
         }
      },
      "body" : "There was a lot of discussion about this above. We think it is safer to require the timestamp.",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T10:59:53Z",
      "diff_hunk" : "@@ -161,7 +161,7 @@ void ImportScript(const CScript& script, const string& strLabel, bool isRedeemSc\n \n     pwalletMain->MarkDirty();\n \n-    if (!pwalletMain->HaveWatchOnly(script) && !pwalletMain->AddWatchOnly(script))\n+    if (!pwalletMain->HaveWatchOnly(script) && !pwalletMain->AddWatchOnly(script, 0 /* nCreateTime */))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281022",
      "id" : 100281022,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 14,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 14,
      "pull_request_review_id" : 20981545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281048"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281048"
         }
      },
      "body" : "Fixed in 6a56f6d77a4e0679ab88b354dea7143ec8539c4e",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T11:00:05Z",
      "diff_hunk" : "@@ -576,15 +575,17 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n     if (!file.is_open())\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"Cannot open wallet dump file\");\n \n-    std::map<CKeyID, int64_t> mapKeyBirth;\n+    std::map<CTxDestination, int64_t> mapKeyBirth;\n     std::set<CKeyID> setKeyPool;\n     pwalletMain->GetKeyBirthTimes(mapKeyBirth);\n     pwalletMain->GetAllReserveKeys(setKeyPool);\n \n     // sort time/key pairs\n     std::vector<std::pair<int64_t, CKeyID> > vKeyBirth;\n-    for (std::map<CKeyID, int64_t>::const_iterator it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {\n-        vKeyBirth.push_back(std::make_pair(it->second, it->first));\n+    for (auto it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281048",
      "id" : 100281048,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 42,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 20981545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281048",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281070"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281070"
         }
      },
      "body" : "Fixed in 6a56f6d77a4e0679ab88b354dea7143ec8539c4e",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T11:00:14Z",
      "diff_hunk" : "@@ -576,15 +575,17 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n     if (!file.is_open())\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"Cannot open wallet dump file\");\n \n-    std::map<CKeyID, int64_t> mapKeyBirth;\n+    std::map<CTxDestination, int64_t> mapKeyBirth;\n     std::set<CKeyID> setKeyPool;\n     pwalletMain->GetKeyBirthTimes(mapKeyBirth);\n     pwalletMain->GetAllReserveKeys(setKeyPool);\n \n     // sort time/key pairs\n     std::vector<std::pair<int64_t, CKeyID> > vKeyBirth;\n-    for (std::map<CKeyID, int64_t>::const_iterator it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {\n-        vKeyBirth.push_back(std::make_pair(it->second, it->first));\n+    for (auto it = mapKeyBirth.begin(); it != mapKeyBirth.end(); it++) {\n+        if (const CKeyID* keyID = boost::get<CKeyID>(&it->first)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281070",
      "id" : 100281070,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 43,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 20981545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281096"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281096"
         }
      },
      "body" : "Fixed in f95843a294dad786117bd40801c8bf40afcb8784",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T11:00:24Z",
      "diff_hunk" : "@@ -222,6 +219,17 @@ bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigne\n     return CCryptoKeyStore::AddCryptedKey(vchPubKey, vchCryptedSecret);\n }\n \n+void CWallet::UpdateTimeFirstKey(int64_t nCreateTime)\n+{\n+    AssertLockHeld(cs_wallet);\n+    // Cannot determine birthday information, so set the wallet birthday to the\n+    // beginning of time.\n+    if (nCreateTime <= 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281096",
      "id" : 100281096,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 36,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 20981545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281106"
         }
      },
      "body" : "Fixed in 6a56f6d77a4e0679ab88b354dea7143ec8539c4e",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T11:00:29Z",
      "diff_hunk" : "@@ -3416,12 +3431,12 @@ class CAffectedKeysVisitor : public boost::static_visitor<void> {\n     void operator()(const CNoDestination &none) {}\n };\n \n-void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n+void CWallet::GetKeyBirthTimes(std::map<CTxDestination, int64_t> &mapKeyBirth) const {\n     AssertLockHeld(cs_wallet); // mapKeyMetadata\n     mapKeyBirth.clear();\n \n     // get birth times for keys with metadata\n-    for (std::map<CKeyID, CKeyMetadata>::const_iterator it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)\n+    for (auto it = mapKeyMetadata.begin(); it != mapKeyMetadata.end(); it++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281106",
      "id" : 100281106,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 77,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 20981545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281164"
         }
      },
      "body" : "Nit 2 fixed in b3ba65488d575899c6df2a98f9dc6447c93ae22d",
      "commit_id" : "a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-09T11:00:52Z",
      "diff_hunk" : "@@ -748,7 +763,7 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool GetDestData(const CTxDestination &dest, const std::string &key, std::string *value) const;\n \n     //! Adds a watch-only address to the store, and saves it to disk.\n-    bool AddWatchOnly(const CScript &dest);\n+    bool AddWatchOnly(const CScript &dest, int64_t nCreateTime);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#discussion_r100281164",
      "id" : 100281164,
      "original_commit_id" : "be820d8ad761b87ca61427ce8b3005b0f6db0d06",
      "original_position" : 58,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 20981545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9108",
      "updated_at" : "2017-02-10T21:12:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/100281164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Squashed b3ba65488d575899c6df2a98f9dc6447c93ae22d -> f35ce5172bb9c6bec6bb636ea349104b559d36de ([watchtime.10](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.10) -> [watchtime.11](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.11))\r\n",
      "created_at" : "2017-02-09T11:35:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-278617880",
      "id" : 278617880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-09T11:35:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/278617880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "UtACK f35ce5172bb9c6bec6bb636ea349104b559d36de",
      "created_at" : "2017-02-09T12:15:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-278625139",
      "id" : 278625139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-09T12:15:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/278625139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Rebased on top of #9682 to avoid merge conflicts in the importmulti.py test. No other changes.\r\n\r\nf35ce5172bb9c6bec6bb636ea349104b559d36de -> a80f98b1c7a49432dc53d18d0fb51ac334de96be ([watchtime.11](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.11) -> [watchtime.12](https://github.com/ryanofsky/bitcoin/commits/pr/watchtime.12))\r\n",
      "created_at" : "2017-02-10T21:18:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-279068364",
      "id" : 279068364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-10T21:18:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279068364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Not sure if this is a nit or the intended behaviour:\r\nIf I re-import a watch only address (same address I have already imported), I get no notice that it was already present. ~~This may be okay.~~\r\n\r\nAnother option would be to reject the import with \"already exists\". ~~But the current overwrite-behaviour allows to re-set the timestamp which can be handy.~~",
      "created_at" : "2017-02-14T14:06:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-279715550",
      "id" : 279715550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-14T14:15:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279715550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Correction of my comment above.\r\nIf you re-import a watch-only, it does not set the new timestamp but still response with \"success\". I think we should do this (fail when reimport a watch-only)... \r\n```diff\r\ndiff --git a/src/wallet/rpcdump.cpp b/src/wallet/rpcdump.cpp\r\nindex 0a32259..401614c 100644\r\n--- a/src/wallet/rpcdump.cpp\r\n+++ b/src/wallet/rpcdump.cpp\r\n@@ -922,9 +922,12 @@ UniValue ProcessImport(const UniValue& data, const int64_t timestamp)\r\n                     throw JSONRPCError(RPC_WALLET_ERROR, \"The wallet already contains the private key for this address or script\");\r\n                 }\r\n \r\n-                pwalletMain->MarkDirty();\r\n+                if (pwalletMain->HaveWatchOnly(script)) {\r\n+                    throw JSONRPCError(RPC_WALLET_ERROR, \"The wallet already contains this address or script\");\r\n+                }\r\n \r\n-                if (!pwalletMain->HaveWatchOnly(script) && !pwalletMain->AddWatchOnly(script, timestamp)) {\r\n+                pwalletMain->MarkDirty();\r\n+                if (!pwalletMain->AddWatchOnly(script, timestamp)) {\r\n                     throw JSONRPCError(RPC_WALLET_ERROR, \"Error adding address to wallet\");\r\n                 }\r\n \r\n\r\n```\r\n\r\nAn alternative would be to overwrite the timestamp with the new one.",
      "created_at" : "2017-02-14T14:20:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-279719185",
      "id" : 279719185,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-14T14:20:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279719185",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Ok, I can add logic to error on attempts to import watch only keys that have already imported. Note that your fix above is incomplete because it only covers `importmulti`, not `importaddress`, `importpubkey`, etc.\r\n\r\nI'll do it in a different PR though, unless you think it needs to be here, because this is longstanding behavior not really related to saving timestamps.",
      "created_at" : "2017-02-14T15:14:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-279734625",
      "id" : 279734625,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-14T15:14:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279734625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Tested ACK of a58370e6a2d4dce50eefbcab5bde9f14facef8fc a80f98b1c7a49432dc53d18d0fb51ac334de96be on top of master (e87ce95fbdc6ca6ef822c978d98b2acba5948ee1).\r\nI agree with @ryanofsky that the overwrite-/already-exists-behavior can be fixed later.",
      "created_at" : "2017-02-14T16:12:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-279753162",
      "id" : 279753162,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-14T16:12:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279753162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "re-utACK a80f98b",
      "created_at" : "2017-02-14T17:48:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-279781506",
      "id" : 279781506,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-14T17:48:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279781506",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "utACK a80f98b1c7a49432dc53d18d0fb51ac334de96be",
      "created_at" : "2017-02-15T09:06:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9108#issuecomment-279955036",
      "id" : 279955036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9108",
      "updated_at" : "2017-02-15T09:06:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279955036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
