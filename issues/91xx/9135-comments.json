[
   {
      "body" : ":) @jonasschnelli actually, the progress shows as less than it really is, so it shouldn't be causing unneccessary wait. i.e. if the last block downloaded is 0.989920 progress, then the rescan will finish at 0.989920, i.e. you won't need to wait for it to get to 1.000000.\r\n\r\nThe risk of the number being misleading is that you'll go away to make a sandwich thinking it is going to take longer than it does need, and will come back later than need be.\r\n\r\nVery easy to fix, we just need to tweak the number to factor in that the 0.989920 (or whatever the progress of the last downloaded block is) is actually 1.000000, and that the number of the first block to rescan is 0.000000.",
      "created_at" : "2016-11-13T03:17:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9135#issuecomment-260164286",
      "id" : 260164286,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9135",
      "updated_at" : "2016-11-13T03:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260164286",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "No, the progress indicator does not show less and there is no download involved. I's about rescan.\r\nThe testnet blockchain has over 1 million blocks and 53,000 (the beginning of my log sample above) isn't 17% of that and 632,818 (the end of my sample) isn't 98.9% of that.  (Assuming 0.xy means xy %.)\r\n\r\nAnd no, it does cause extra wait because if it took me 3 minutes to get to 38%, it should take me less than 9 minutes to complete rescan. If I can tell online rescan is expected to take hours, I can stop bitcoind, rescan, start bitcoind again and likely save 50% of the total time required for online rescan. That doesn't have practical downside compared to online scan because during online rescan bitcoind can't do anything anyway.\r\n\r\nIn any case, either a clarification (docs) of what the progress bar indicates or a change in the code would make it easier for users to make informed decisions.",
      "created_at" : "2016-11-13T09:08:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9135#issuecomment-260174573",
      "id" : 260174573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9135",
      "updated_at" : "2016-11-13T09:14:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260174573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "If this is confusing possibly the % should just be removed, and only \"N of M blocks\" shown. \r\n\r\nGetting progress indicators to estimate necessary time in not-entirely-linear processes is very hard, and probably not worth the hassle in this case. Just ask Microsoft - since when do % indicators of installers, or file copying, give any realistic estimate of the time involved? In this case the early blocks are almost empty while later blocks are much more involved to scan through.",
      "created_at" : "2016-11-16T13:20:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9135#issuecomment-260944444",
      "id" : 260944444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9135",
      "updated_at" : "2016-11-16T13:20:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260944444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj it might be quite a simple fix to make the % more accurate. If the time to scan a block is related to its size, then the % calculation just needs to take into account the size of data so far known, and the size so far scanned to come up with a more accurate percentage. It seems it is not currently doing that for it to be considering up to block 53404 as 17% of the entire block chain.",
      "created_at" : "2016-11-17T09:02:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9135#issuecomment-261191797",
      "id" : 261191797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9135",
      "updated_at" : "2016-11-17T09:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261191797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
