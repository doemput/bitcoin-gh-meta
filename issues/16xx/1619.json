{
   "assignee" : null,
   "body" : "This patch set imports the Google LevelDB 1.5 database, refactors the transaction database code a little and then lets you pick between LevelDB or BDB via a build flag (qmake USE_LEVELDB=- to go back).\n\nOn test machines, LevelDB seems to be significantly faster than BDB due to the fact that the bulk of the IO work is handled by a separate thread. The main thread just appends data to the end of a log file when writing, and the IO thread then turns logs into sorted tables and compacts them together.\n\nWhen indexing the block chain Bitcoin appears to be CPU bound on Windows and Linux machines, even during migration when signature checking is disabled. On my SSD based MacBook Pro the performance isn't as good and it still seems to be IO bottlenecked, which is the opposite of what I'd expect.\n\nThis code instructs LevelDB to use a 10-bit bloom filter per block. This expands the size of the database quite a bit, but allows a reduction in disk seeks. I haven't tested different bloom filter sizes to see what works better. It is an area for future work.\n\nLevelDB is statically included because:\n\n- Upstream is not widely packaged and the build system does not support \"make install\", so it's annoying to link against\n- We need custom patches to make it work on Windows.\n- It's important that all Bitcoin users are running on a db engine tested by us. We don't want some fraction of the network nodes to be \"upgraded\" but still running on BDB just because of who built their binaries.\n\n",
   "closed_at" : "2012-09-20T16:04:20Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
      "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
      "followers_url" : "https://api.github.com/users/mikehearn/followers",
      "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
      "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/mikehearn",
      "id" : 971089,
      "login" : "mikehearn",
      "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
      "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
      "repos_url" : "https://api.github.com/users/mikehearn/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/mikehearn"
   },
   "comments" : 40,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1619/comments",
   "created_at" : "2012-07-21T18:47:11Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1619/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/1619",
   "id" : 5755391,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1619/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : "2013-02-21T00:16:42Z",
      "closed_issues" : 40,
      "created_at" : "2012-08-23T12:24:09Z",
      "creator" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      },
      "description" : "0.8 release",
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestones/0.8.0",
      "id" : 164702,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/8/labels",
      "number" : 8,
      "open_issues" : 0,
      "state" : "closed",
      "title" : "0.8.0",
      "updated_at" : "2013-02-21T00:16:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/8"
   },
   "number" : 1619,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/1619.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1619",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/1619.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1619"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Use LevelDB by default for the transaction database",
   "updated_at" : "2014-06-23T19:31:12Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1619",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
      "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
      "followers_url" : "https://api.github.com/users/mikehearn/followers",
      "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
      "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/mikehearn",
      "id" : 971089,
      "login" : "mikehearn",
      "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
      "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
      "repos_url" : "https://api.github.com/users/mikehearn/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/mikehearn"
   }
}
