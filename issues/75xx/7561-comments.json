[
   {
      "body" : "Tested ACK 1fc8385",
      "created_at" : "2016-02-19T16:07:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186278780",
      "id" : 186278780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-19T16:07:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186278780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Sticklers for process are going to tell you that you should remove the BIP 113 soft-fork as such transactions are only just now getting marked as non-standard in the 0.12 release. By following this logic the earliest a 113 soft-fork could be applied is after the 0.13 release, at which point in time 0.12 will be the oldest supported version.",
      "created_at" : "2016-02-19T17:15:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186310094",
      "id" : 186310094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-19T17:15:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186310094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "@maaku BIP113 mempool policy was deployed since 0.11.2 with the CLTV softfork, so the earliest available softfork is in fact 0.12.1. Also note that BIP68 requires BIP113 so all these BIPs must be enforced at once.",
      "created_at" : "2016-02-19T17:19:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186312121",
      "id" : 186312121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-19T17:44:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186312121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "a couple comments/questions about the rpc tests:\r\n - `blockversion5-ism.py` seems extraneous to me.  We already have prior versions of ism tests and in particular the p2p tests added here are testing the ISM logic for version 5 blocks already.\r\n - For BIP 68 we have the existing `bip68-sequence.py` which tests the logic of the code in a mempool only setting.  I think we need to decide whether that is sufficient when combined with a simple test that the activation logic is working in the bip68 test added here.  But for BIP 112 and 113 it seems we are still missing any tests that exercise the logic, other than the one simple case used to test activation in the rpc tests added here.\r\n - the RPC tests could have clearer names, for instance the existing bip68 rpc test is also a p2p test, so the distinction in the names is confusing, perhaps `bip68-sequence-activation.py`\r\n",
      "created_at" : "2016-02-19T20:02:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186381738",
      "id" : 186381738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-19T20:02:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186381738",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r53515585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53515585"
         }
      },
      "body" : "in case it saves anyone else time maybe add:\r\n`# set most signficant bit (little-endian) to activate LOCKTIME_DISABLE_FLAG`",
      "commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "created_at" : "2016-02-19T20:43:13Z",
      "diff_hunk" : "@@ -59,7 +59,8 @@ def run_test(self):\n         # Create a block-height-locked transaction which will be invalid after reorg\n         timelock_tx = self.nodes[0].createrawtransaction([{\"txid\": coinbase_txids[0], \"vout\": 0}], {node0_address: 49.99})\n         # Set the time lock\n-        timelock_tx = timelock_tx.replace(\"ffffffff\", \"11111111\", 1)\n+        # Disable SequenceLock, Enable nLockTime\n+        timelock_tx = timelock_tx.replace(\"ffffffff\", \"11111191\", 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r53515585",
      "id" : 53515585,
      "original_commit_id" : "1fc83850c1308d6f72f357980f66dc9b30f3a4ed",
      "original_position" : 6,
      "path" : "qa/rpc-tests/mempool_reorg.py",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561",
      "updated_at" : "2016-02-21T15:21:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53515585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "I have updated the OP to explain the PR rationale in more detail to address common questions.",
      "created_at" : "2016-02-20T06:36:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186520683",
      "id" : 186520683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-20T06:36:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186520683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "A couple of comments about your PR message:\r\n - BIP 68 does not depend on BIP 113.  It independently enforces the same semantics, but BIP 113 only applies for lock time locks, not sequence locks.\r\n - Are you sure about bit masking version numbers for ISM?  It seems to me like that is fraught with problems.\r\n",
      "created_at" : "2016-02-20T14:38:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186618896",
      "id" : 186618896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-20T14:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186618896",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos updated OP.",
      "created_at" : "2016-02-20T15:36:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186630289",
      "id" : 186630289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-20T15:36:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186630289",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "@morcos @btcdrak CheckFinalTx and removeForReorg always enforce MTP since 0.11.2. To reflect that, I just got rid of the flags https://github.com/NicolasDorier/bitcoin/commit/2197781dbe4b64bd7a29902f30eb7eb9c259119f\r\n\r\nThe flags came from initial old design of CSV BIP112 which had different cutoff depending of MTP activation.\r\nI don't know if it is better to bundle my commit on this PR or do a separate one, please advise.",
      "created_at" : "2016-02-20T18:19:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186661935",
      "id" : 186661935,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-20T18:40:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186661935",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Initial read through utACK 3bd5c44.  However the additional changes by @NicolasDorier seem unrelated enough to enabling the soft fork logic that I think it would be clearer to have it in a separate PR.",
      "created_at" : "2016-02-20T18:47:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186665062",
      "id" : 186665062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-20T18:47:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186665062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "@btcdrak BIP 68 doesn't require or presume BIP 113 -- at least not in the original implementation. It must necessarily use MTP as the start point, but the end point is either nTime or MTP based on activation of BIP 113.\r\n\r\nIn any case this is a call for @laanwj and @gmaxwell .\r\n\r\nEDIT: To be clear I've advocated in the past for more aggressive rollout of BIP 113 and the response I got was that it must be declared non-standard first and then wait for a period of time...",
      "created_at" : "2016-02-20T20:38:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186678552",
      "id" : 186678552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-20T20:39:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186678552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "@NicolasDorier I'm sympathetic to trying to remove these flags, but I don't know if should be trying to confuse things by doing it now.   The question is do we want to continue semi-supporting a mempool policy that doesn't enforce MedianTimePast.\r\n\r\n@maaku BIP 68 was modified to use MTP semantics for both end points already.  There was discussion about it a couple of months ago and universal agreement.\r\n\r\n",
      "created_at" : "2016-02-20T21:39:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186684382",
      "id" : 186684382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-20T21:39:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186684382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos, I have opened a separate PR for removing the flags in #7574",
      "created_at" : "2016-02-21T22:20:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-186931356",
      "id" : 186931356,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-02-21T22:20:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/186931356",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55114319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55114319"
         }
      },
      "body" : "This should be something like\r\n\r\n    if ((block.nVersion & 15) >= 5 && IsSuperMajority... )\r\n\r\nIn order to avoid misinterpreting Version Bits blocks as votes for BIP112. IsSuperMajority would need to be modified slightly as well, plus line 3180.\r\n\r\nWithout this change, blocks voting for BIP109 would be incorrectly interpreted as voting for BIP112, which could cause a premature triggering of the BIP112 fork.\r\n\r\nWith this change, Bitcoin Classic, XT, and Unlimited can use block versions like 0x300000005 to be able to vote for BIP109 and BIP112 simultaneously, or plain 0x30000000 or 0x300000004 to vote for BIP109 without BIP112.",
      "commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "created_at" : "2016-03-05T03:13:22Z",
      "diff_hunk" : "@@ -2176,6 +2176,14 @@ bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pin\n         flags |= SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY;\n     }\n \n+    // Start enforcing BIP68 (sequence locks) and CHECKSEQUENCEVERIFY (BIP112) for block.nVersion=5\n+    // blocks, when 75% of the network has upgraded:\n+    int nLockTimeFlags = 0;\n+    if (block.nVersion >= 5 && IsSuperMajority(5, pindex->pprev, chainparams.GetConsensus().nMajorityEnforceBlockUpgrade, chainparams.GetConsensus())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55114319",
      "id" : 55114319,
      "original_commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "original_position" : 7,
      "path" : "src/main.cpp",
      "position" : 7,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561",
      "updated_at" : "2016-03-05T03:48:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55114319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11898859?v=3",
         "events_url" : "https://api.github.com/users/jtoomim/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtoomim/followers",
         "following_url" : "https://api.github.com/users/jtoomim/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtoomim/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtoomim",
         "id" : 11898859,
         "login" : "jtoomim",
         "organizations_url" : "https://api.github.com/users/jtoomim/orgs",
         "received_events_url" : "https://api.github.com/users/jtoomim/received_events",
         "repos_url" : "https://api.github.com/users/jtoomim/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtoomim/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtoomim/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtoomim"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55115360"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55115360"
         }
      },
      "body" : "This has been discussed a number of times on the mailing list; what you propose is not a good idea. You can read more from the similar discussion on the mailing list back in Sept in the context of CLTV.",
      "commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "created_at" : "2016-03-05T04:28:20Z",
      "diff_hunk" : "@@ -2176,6 +2176,14 @@ bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pin\n         flags |= SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY;\n     }\n \n+    // Start enforcing BIP68 (sequence locks) and CHECKSEQUENCEVERIFY (BIP112) for block.nVersion=5\n+    // blocks, when 75% of the network has upgraded:\n+    int nLockTimeFlags = 0;\n+    if (block.nVersion >= 5 && IsSuperMajority(5, pindex->pprev, chainparams.GetConsensus().nMajorityEnforceBlockUpgrade, chainparams.GetConsensus())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55115360",
      "id" : 55115360,
      "original_commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "original_position" : 7,
      "path" : "src/main.cpp",
      "position" : 7,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561",
      "updated_at" : "2016-03-05T04:28:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55115360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55124809"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55124809"
         }
      },
      "body" : "So what is your proposed fix? Or do you want to risk forking prematurely? You do realize this could put Core on a minority chain in the event that BIP 109 has 50+ % hashing power?\r\n\r\nOh, and could you elaborate again why this is not a good idea? I did not find the relevant bit in the mailing list discussion.",
      "commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "created_at" : "2016-03-05T17:49:41Z",
      "diff_hunk" : "@@ -2176,6 +2176,14 @@ bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pin\n         flags |= SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY;\n     }\n \n+    // Start enforcing BIP68 (sequence locks) and CHECKSEQUENCEVERIFY (BIP112) for block.nVersion=5\n+    // blocks, when 75% of the network has upgraded:\n+    int nLockTimeFlags = 0;\n+    if (block.nVersion >= 5 && IsSuperMajority(5, pindex->pprev, chainparams.GetConsensus().nMajorityEnforceBlockUpgrade, chainparams.GetConsensus())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55124809",
      "id" : 55124809,
      "original_commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "original_position" : 7,
      "path" : "src/main.cpp",
      "position" : 7,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561",
      "updated_at" : "2016-03-05T19:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55124809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4355375?v=3",
         "events_url" : "https://api.github.com/users/chaosgrid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chaosgrid/followers",
         "following_url" : "https://api.github.com/users/chaosgrid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chaosgrid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chaosgrid",
         "id" : 4355375,
         "login" : "chaosgrid",
         "organizations_url" : "https://api.github.com/users/chaosgrid/orgs",
         "received_events_url" : "https://api.github.com/users/chaosgrid/received_events",
         "repos_url" : "https://api.github.com/users/chaosgrid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chaosgrid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chaosgrid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chaosgrid"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55226281"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55226281"
         }
      },
      "body" : "We have a proposed fix - versionbits - as well as a backup fix - pseudo-versionbits.",
      "commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "created_at" : "2016-03-07T16:13:51Z",
      "diff_hunk" : "@@ -2176,6 +2176,14 @@ bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pin\n         flags |= SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY;\n     }\n \n+    // Start enforcing BIP68 (sequence locks) and CHECKSEQUENCEVERIFY (BIP112) for block.nVersion=5\n+    // blocks, when 75% of the network has upgraded:\n+    int nLockTimeFlags = 0;\n+    if (block.nVersion >= 5 && IsSuperMajority(5, pindex->pprev, chainparams.GetConsensus().nMajorityEnforceBlockUpgrade, chainparams.GetConsensus())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55226281",
      "id" : 55226281,
      "original_commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "original_position" : 7,
      "path" : "src/main.cpp",
      "position" : 7,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561",
      "updated_at" : "2016-03-07T16:13:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55226281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55226306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55226306"
         }
      },
      "body" : "We have a proposed fix - versionbits - as well as a backup fix - pseudo-versionbits.",
      "commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "created_at" : "2016-03-07T16:14:01Z",
      "diff_hunk" : "@@ -2176,6 +2176,14 @@ bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockIndex* pin\n         flags |= SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY;\n     }\n \n+    // Start enforcing BIP68 (sequence locks) and CHECKSEQUENCEVERIFY (BIP112) for block.nVersion=5\n+    // blocks, when 75% of the network has upgraded:\n+    int nLockTimeFlags = 0;\n+    if (block.nVersion >= 5 && IsSuperMajority(5, pindex->pprev, chainparams.GetConsensus().nMajorityEnforceBlockUpgrade, chainparams.GetConsensus())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#discussion_r55226306",
      "id" : 55226306,
      "original_commit_id" : "3bd5c4439e177054fe3a5fa116429e9097451ea0",
      "original_position" : 7,
      "path" : "src/main.cpp",
      "position" : 7,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7561",
      "updated_at" : "2016-03-07T16:14:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55226306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Closing in favour of 7648",
      "created_at" : "2016-03-15T18:53:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7561#issuecomment-196971370",
      "id" : 196971370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7561",
      "updated_at" : "2016-03-15T18:53:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196971370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   }
]
