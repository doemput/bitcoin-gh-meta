[
   {
      "body" : "\"I am not fully using my CPU nor my bandwidth\" often this is an indication that you're disk is saturated. In cases where people really are on sufficient hardware (which pretty much means high -dbcache and memory usage, not fast disks), we might consider having smarter logic to limit the timeout necessary to kick peers, though probably only during IBD.\n\nOn February 19, 2017 10:51:15 AM EST, i-rme <notifications@github.com> wrote:\n>I am setting up a node and I notice that the initial sync is slow and I\n>am not fully using my CPU nor my bandwidth. (CPU load averages in 50%\n>and Bandwidth averages 40Mbps out of 300Mbps available).\n>\n>I believe that when a node is doing the first blockchain syncing it\n>needs more outbound connections, for example, 16.\n>\n>To avoid using too many peers and too many resources I propose only\n>increasing  MAX_OUTBOUND_CONNECTIONS to 16 temporarily when the node is\n>doing its initial syncing and only if port 8333 is open and accepting\n>connections (to encourage nodes to be reachable).\n>\n>This would not harm the network as it would only be during the initial\n>syncing and It would speed up it while encouraging owners to accept\n>incoming connections.\n>\n>\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/9800\n",
      "created_at" : "2017-02-19T15:59:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-280928181",
      "id" : 280928181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-19T15:59:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280928181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@TheBlueMatt thanks for your response.\r\n Im running it on a desktop pc, the hard drive supports up to 40MB/s (320Mbps) so that is not the issue here.\r\nI want to clarify that I am not complaining about slow IBD, just pointing out that might be some setting that limits my IBD speed. \r\n\r\nThe ideal would be that my hardware or my connection bottletrottle the process. That would assure the best speed possible.",
      "created_at" : "2017-02-19T16:05:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-280928571",
      "id" : 280928571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-19T16:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280928571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6007737?v=3",
         "events_url" : "https://api.github.com/users/i-rme/events{/privacy}",
         "followers_url" : "https://api.github.com/users/i-rme/followers",
         "following_url" : "https://api.github.com/users/i-rme/following{/other_user}",
         "gists_url" : "https://api.github.com/users/i-rme/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/i-rme",
         "id" : 6007737,
         "login" : "i-rme",
         "organizations_url" : "https://api.github.com/users/i-rme/orgs",
         "received_events_url" : "https://api.github.com/users/i-rme/received_events",
         "repos_url" : "https://api.github.com/users/i-rme/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/i-rme/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/i-rme/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/i-rme"
      }
   },
   {
      "body" : "@i-rme I assume you are running 0.13.2, in which case you can expect\nsome speedups by switching to 0.14.0 (planned to be released in about\ntwo weeks).\n\nSee #9787 for a summary of the speedups as well as\nhttps://github.com/bitcoin/bitcoin/pull/8610#issuecomment-243143404\n\nOn Sun, Feb 19, 2017 at 5:06 PM, i-rme <notifications@github.com> wrote:\n> @TheBlueMatt thanks for your response.\n> Im running it on a desktop pc, the hard drive supports up to 40MB/s\n> (320Mbps) so that is not the issue here.\n> I want to clarify that I am not complaining about slow IBD, just pointing\n> out that might be some setting that limits my IBD speed.\n>\n> The ideal would be that my hardware or my connection bottletrottle the\n> process. That would assure the best speed possible.\n>\n> Ã¢ÂÂ\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n",
      "created_at" : "2017-02-19T16:08:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-280928742",
      "id" : 280928742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-19T16:08:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280928742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke I am already running 0.14 rc1, and I want to thank all developers for improving Bitcoin Core and in particular by assume-valid block feature.\r\n\r\nI believe that the problem is that just 8 peers cant max out my hardware or my bandwidth. ",
      "created_at" : "2017-02-19T16:11:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-280928908",
      "id" : 280928908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-19T16:11:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280928908",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6007737?v=3",
         "events_url" : "https://api.github.com/users/i-rme/events{/privacy}",
         "followers_url" : "https://api.github.com/users/i-rme/followers",
         "following_url" : "https://api.github.com/users/i-rme/following{/other_user}",
         "gists_url" : "https://api.github.com/users/i-rme/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/i-rme",
         "id" : 6007737,
         "login" : "i-rme",
         "organizations_url" : "https://api.github.com/users/i-rme/orgs",
         "received_events_url" : "https://api.github.com/users/i-rme/received_events",
         "repos_url" : "https://api.github.com/users/i-rme/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/i-rme/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/i-rme/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/i-rme"
      }
   },
   {
      "body" : "Then it should change peers until they can, it does this now, but it's a known area for improvement.  More peers really isn't the solution here. There are many nodes on the network that can serve blocks out faster than any existing hardware can index them. :)",
      "created_at" : "2017-02-19T17:25:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-280933692",
      "id" : 280933692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-19T17:25:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280933692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "\"Im running it on a desktop pc, the hard drive supports up to 40MB/s (320Mbps) so that is not the issue here\" if you're running on a desktop hard drive then that is almost definitely your bottleneck after the first 150-200k blocks. It isn't a question of your drive's sequential throughout (the number you quoted), but a question of seek latency, which is usually rather high.\n\nOn February 19, 2017 11:05:55 AM EST, i-rme <notifications@github.com> wrote:\n>@TheBlueMatt thanks for your response.\n>Im running it on a desktop pc, the hard drive supports up to 40MB/s\n>(320Mbps) so that is not the issue here.\n>I want to clarify that I am not complaining about slow IBD, just\n>pointing out that might be some setting that limits my IBD speed. \n>\n>The ideal would be that my hardware or my connection bottletrottle the\n>process. That would assure the best speed possible.\n>\n>-- \n>You are receiving this because you were mentioned.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-280928571\n",
      "created_at" : "2017-02-19T22:18:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-280954251",
      "id" : 280954251,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-19T22:18:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280954251",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Closing this, as said: the solution is not to add more outgoing peers but choose better peers.",
      "created_at" : "2017-02-21T17:29:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-281415572",
      "id" : 281415572,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-21T17:29:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281415572",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "does #9599 help fix this?",
      "created_at" : "2017-02-22T04:46:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9800#issuecomment-281568101",
      "id" : 281568101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9800",
      "updated_at" : "2017-02-22T04:46:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281568101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
