[
   {
      "body" : "4GB ram and 8GB swap should be more than enough to run in the default settings.\r\n\r\nDid you set anything in bitcoin.conf that may affect memory usage?",
      "created_at" : "2017-02-20T16:36:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281125516",
      "id" : 281125516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T16:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281125516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Anonymized [bitcoin.conf](http://pastebin.com/4ffgKhBY).\r\nOnly modifications are 3 allowed IPs for RPC and `server=1`.",
      "created_at" : "2017-02-20T16:41:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281126883",
      "id" : 281126883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T16:41:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281126883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11842328?v=3",
         "events_url" : "https://api.github.com/users/quentinlesceller/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quentinlesceller/followers",
         "following_url" : "https://api.github.com/users/quentinlesceller/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quentinlesceller/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quentinlesceller",
         "id" : 11842328,
         "login" : "quentinlesceller",
         "organizations_url" : "https://api.github.com/users/quentinlesceller/orgs",
         "received_events_url" : "https://api.github.com/users/quentinlesceller/received_events",
         "repos_url" : "https://api.github.com/users/quentinlesceller/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quentinlesceller/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quentinlesceller/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quentinlesceller"
      }
   },
   {
      "body" : "What else is running on the machine? I think the issue is outside to the `bitcoind`.\r\n",
      "created_at" : "2017-02-20T17:46:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281142295",
      "id" : 281142295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T17:46:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281142295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Here is a [list](http://pastebin.com/tVWMCJUu) of the process running on the machine at the time of the crash.",
      "created_at" : "2017-02-20T18:32:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281151569",
      "id" : 281151569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T18:32:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281151569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11842328?v=3",
         "events_url" : "https://api.github.com/users/quentinlesceller/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quentinlesceller/followers",
         "following_url" : "https://api.github.com/users/quentinlesceller/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quentinlesceller/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quentinlesceller",
         "id" : 11842328,
         "login" : "quentinlesceller",
         "organizations_url" : "https://api.github.com/users/quentinlesceller/orgs",
         "received_events_url" : "https://api.github.com/users/quentinlesceller/received_events",
         "repos_url" : "https://api.github.com/users/quentinlesceller/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quentinlesceller/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quentinlesceller/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quentinlesceller"
      }
   },
   {
      "body" : "bitcoind isnt using a ton of memory in that list (though, to be fair, nor is anything else). Looks like you might be running in docker - are there any docker-imposed memory limits that might affect this? It looks like bitcoind has an rss of around 400MB, which is reasonable, though VM size much higher, which is expected but shouldn't be an issue (unless you have overcommit off?). Still, your system log shows that your swap was mostly unused at the time bitcoind was killed, which seems strange unless there was something preventing swap from being used.",
      "created_at" : "2017-02-20T19:05:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281159247",
      "id" : 281159247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T19:05:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281159247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "bitcoind is not running in a docker. Only apache2 is.\r\n`free -m` output is the following:\r\n```\r\n              total        used        free      shared  buff/cache   available\r\nMem:           3950         433          41          10        3475        3433\r\nSwap:          8191          48        8143\r\n```\r\nSeems swap is properly configured?",
      "created_at" : "2017-02-20T19:18:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281161500",
      "id" : 281161500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T19:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281161500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11842328?v=3",
         "events_url" : "https://api.github.com/users/quentinlesceller/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quentinlesceller/followers",
         "following_url" : "https://api.github.com/users/quentinlesceller/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quentinlesceller/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quentinlesceller",
         "id" : 11842328,
         "login" : "quentinlesceller",
         "organizations_url" : "https://api.github.com/users/quentinlesceller/orgs",
         "received_events_url" : "https://api.github.com/users/quentinlesceller/received_events",
         "repos_url" : "https://api.github.com/users/quentinlesceller/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quentinlesceller/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quentinlesceller/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quentinlesceller"
      }
   },
   {
      "body" : "Unclear - the fact that oomkiller was invoked when you had \"Free swap  = 8350600kB\" seems strange. If, as you seem to have indicated, this issue happens roughly once every 24 hours, it'd be great if you could get a copy of /proc/${BITCOIND_PID}/smaps just before, or soon before the oom-killer kills bitcoind, as well as possibly bitcoin-cli getmemoryinfo (if you want to try 0.14.0rc1).",
      "created_at" : "2017-02-20T19:49:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281167438",
      "id" : 281167438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T19:49:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281167438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I have setup a python script to log /proc/${BITCOIND_PID}/smaps. Will let you know once I have a crash.",
      "created_at" : "2017-02-20T20:28:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9812#issuecomment-281174622",
      "id" : 281174622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9812",
      "updated_at" : "2017-02-20T20:28:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281174622",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11842328?v=3",
         "events_url" : "https://api.github.com/users/quentinlesceller/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quentinlesceller/followers",
         "following_url" : "https://api.github.com/users/quentinlesceller/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quentinlesceller/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quentinlesceller",
         "id" : 11842328,
         "login" : "quentinlesceller",
         "organizations_url" : "https://api.github.com/users/quentinlesceller/orgs",
         "received_events_url" : "https://api.github.com/users/quentinlesceller/received_events",
         "repos_url" : "https://api.github.com/users/quentinlesceller/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quentinlesceller/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quentinlesceller/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quentinlesceller"
      }
   }
]
