[
   {
      "body" : "At least I believe this is true, I haven't tested it. (Edit: Darn, checked the rpc tests for tests I needed to update, but not test-bitcoin)",
      "created_at" : "2017-02-28T05:32:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9886#issuecomment-282946670",
      "id" : 282946670,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9886",
      "updated_at" : "2017-02-28T10:01:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282946670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I'll take a look.  My recollection from when I was working on this before is that this won't make much difference (because at the end of the block heuristics like this are basically random), but I could be mistaken.\r\n\r\nThere is another change to the sort that I intended to propose/test, which is to set the ancestor feerate score for a tx to be the min(feerate, feerate with ancestors) -- this would be analogous to what we do for descendant feerate sorting (where we use max(feerate, feerate with descendants).  My hypothesis is that we'd get a small performance boost by not having to re-sort low-fee children of high-fee parents when the parent was selected for inclusion.  (Also it might make the ancestor feerate score more useful for other heuristics, too...)\r\n\r\n",
      "created_at" : "2017-02-28T14:24:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9886#issuecomment-283052142",
      "id" : 283052142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9886",
      "updated_at" : "2017-02-28T14:24:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283052142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "I ran a couple of simulations on the first week of December (2016).  I tested this similarly to what I've done before: call CNB every 100 transactions and log the results, and then look at the last invocation to CNB before each actual block on the network.\r\n\r\nI compared the fees generated by the existing strategy versus this one, and over the 1061 blocks in my sample period, the grand total of additional fee generated by this PR is 57261 satoshis, and this \r\nalgorithm isn't strictly better. (914 of the blocks had identical fees; of the remainder, 93 were better in this PR, and 54 were better using the existing algorithm.)\r\n\r\nSo while it is possible that on average this algorithm may be ever-so-slightly better than what we have, I don't know that this is a change worth making given how tiny the measured effect is...",
      "created_at" : "2017-03-02T20:24:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9886#issuecomment-283769337",
      "id" : 283769337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9886",
      "updated_at" : "2017-03-02T20:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283769337",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "closing due to sdaftuar's measurements. Thanks!",
      "created_at" : "2017-05-30T17:35:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9886#issuecomment-304952332",
      "id" : 304952332,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9886",
      "updated_at" : "2017-05-30T17:35:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/304952332",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
