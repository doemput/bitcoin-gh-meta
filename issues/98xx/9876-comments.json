[
   {
      "body" : "I've run the extended tests locally and they all pass.",
      "created_at" : "2017-02-27T14:26:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-282734815",
      "id" : 282734815,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-02-27T14:26:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282734815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103271383"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9876"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103271383"
         }
      },
      "body" : "This is fine, but the import list is super long. Did you use a tool to generate this? Wondering if it would be difficult to just replace all this with `from test_framework import mininode` and then add `mininode.` qualifiers where needed.\r\n\r\nAlternately, maybe different formatting would be preferable. I've been using [yapf](https://github.com/google/yapf) for new code I write, which gives\r\n\r\n```\r\n+from test_framework.script import (CScript, CScriptNum, CScriptOp, CTransaction, CTxOut, OP_0, OP_1, OP_16, OP_2DROP,\r\n+                                   OP_CHECKMULTISIG, OP_CHECKSIG, OP_DROP, OP_DUP, OP_ELSE, OP_ENDIF, OP_EQUAL,\r\n+                                   OP_EQUALVERIFY, OP_HASH160, OP_IF, OP_RETURN, OP_TRUE, SIGHASH_ALL,\r\n+                                   SIGHASH_ANYONECANPAY, SIGHASH_NONE, SIGHASH_SINGLE, SegwitVersion1SignatureHash,\r\n+                                   SignatureHash, hash160, hash256, ser_uint256, sha256, uint256_from_str)\r\n```\r\n\r\nwith column_limit=119.",
      "commit_id" : "ed85b6de52395f521280d3baabb8b2ab0d5f4ce8",
      "created_at" : "2017-02-27T18:04:00Z",
      "diff_hunk" : "@@ -4,15 +4,93 @@\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \"\"\"Test segwit transactions and blocks on P2P network.\"\"\"\n \n-from test_framework.mininode import *\n-from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import *\n-from test_framework.script import *\n-from test_framework.blocktools import create_block, create_coinbase, add_witness_commitment, WITNESS_COMMITMENT_HEADER\n-from test_framework.key import CECKey, CPubKey\n-import time\n-import random\n from binascii import hexlify\n+import random\n+import struct\n+import time\n+\n+from test_framework.blocktools import (create_block,\n+                                       create_coinbase,\n+                                       add_witness_commitment,\n+                                       WITNESS_COMMITMENT_HEADER)\n+from test_framework.key import (CECKey,\n+                                CPubKey)\n+from test_framework.mininode import (CBlock,\n+                                     CBlockHeader,\n+                                     CInv,\n+                                     COutPoint,\n+                                     CTransaction,\n+                                     CTxIn,\n+                                     CTxInWitness,\n+                                     CTxOut,\n+                                     CTxWitness,\n+                                     MAX_BLOCK_BASE_SIZE,\n+                                     MSG_WITNESS_FLAG,\n+                                     NODE_NETWORK,\n+                                     NODE_WITNESS,\n+                                     NetworkThread,\n+                                     NodeConn,\n+                                     NodeConnCB,\n+                                     bytes_to_hex_str,\n+                                     hash256,\n+                                     hex_str_to_bytes,\n+                                     mininode_lock,\n+                                     msg_block,\n+                                     msg_getdata,\n+                                     msg_headers,\n+                                     msg_inv,\n+                                     msg_ping,\n+                                     msg_pong,\n+                                     msg_tx,\n+                                     msg_witness_block,\n+                                     msg_witness_tx,\n+                                     ser_uint256,\n+                                     ser_vector,\n+                                     sha256,\n+                                     uint256_from_str)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103271383",
      "id" : 103271383,
      "original_commit_id" : "f287e8de1edf9a0b342b3e5b98b88e7bb1a2bd47",
      "original_position" : 55,
      "path" : "qa/rpc-tests/p2p-segwit.py",
      "position" : 55,
      "pull_request_review_id" : 24052801,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9876",
      "updated_at" : "2017-02-27T23:50:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103271383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103427772"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9876"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103427772"
         }
      },
      "body" : "One item per line is nice for diff-ing, though. Collapsing them can look somewhat nicer, however imagine having to insert an item in the middle and re-layouting. This will change *all* the lines, causing collisions with other patches.\r\n\r\nFor this reason we also use one-filename-per-line in makefiles, even though it results in long files.",
      "commit_id" : "ed85b6de52395f521280d3baabb8b2ab0d5f4ce8",
      "created_at" : "2017-02-28T10:55:45Z",
      "diff_hunk" : "@@ -4,15 +4,93 @@\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \"\"\"Test segwit transactions and blocks on P2P network.\"\"\"\n \n-from test_framework.mininode import *\n-from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import *\n-from test_framework.script import *\n-from test_framework.blocktools import create_block, create_coinbase, add_witness_commitment, WITNESS_COMMITMENT_HEADER\n-from test_framework.key import CECKey, CPubKey\n-import time\n-import random\n from binascii import hexlify\n+import random\n+import struct\n+import time\n+\n+from test_framework.blocktools import (create_block,\n+                                       create_coinbase,\n+                                       add_witness_commitment,\n+                                       WITNESS_COMMITMENT_HEADER)\n+from test_framework.key import (CECKey,\n+                                CPubKey)\n+from test_framework.mininode import (CBlock,\n+                                     CBlockHeader,\n+                                     CInv,\n+                                     COutPoint,\n+                                     CTransaction,\n+                                     CTxIn,\n+                                     CTxInWitness,\n+                                     CTxOut,\n+                                     CTxWitness,\n+                                     MAX_BLOCK_BASE_SIZE,\n+                                     MSG_WITNESS_FLAG,\n+                                     NODE_NETWORK,\n+                                     NODE_WITNESS,\n+                                     NetworkThread,\n+                                     NodeConn,\n+                                     NodeConnCB,\n+                                     bytes_to_hex_str,\n+                                     hash256,\n+                                     hex_str_to_bytes,\n+                                     mininode_lock,\n+                                     msg_block,\n+                                     msg_getdata,\n+                                     msg_headers,\n+                                     msg_inv,\n+                                     msg_ping,\n+                                     msg_pong,\n+                                     msg_tx,\n+                                     msg_witness_block,\n+                                     msg_witness_tx,\n+                                     ser_uint256,\n+                                     ser_vector,\n+                                     sha256,\n+                                     uint256_from_str)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103427772",
      "id" : 103427772,
      "original_commit_id" : "f287e8de1edf9a0b342b3e5b98b88e7bb1a2bd47",
      "original_position" : 55,
      "path" : "qa/rpc-tests/p2p-segwit.py",
      "position" : 55,
      "pull_request_review_id" : 24211347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9876",
      "updated_at" : "2017-02-28T10:55:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103427772",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Concept ACK.",
      "created_at" : "2017-02-28T10:55:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283008581",
      "id" : 283008581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-02-28T10:55:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283008581",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I appreciate the desire for using best coding practices in the qa tree, and I certainly would like to improve my own test-writing habits. But I think we should be mindful of the tradeoffs of applying best practices for software that changes infrequently when applied to software that is written iteratively.\r\n\r\nI tend to think of the `test_framework/` directory as the former category; the test frameworks and utilities should not change often, except when we have a better idea of how to do our test writing, and then we should think carefully about the design changes we're making.\r\n\r\nBut I tend to think of the tests themselves as more iterative, because as we make changes to bitcoind, we often find ourselves needing to update existing tests.  And I've personally found that even when I write new tests, I tend to write them iteratively, as I'll tend to test part of a PR, get it working, then continue to add more tests as I review more of a PR.  And I think it'd be tedious to disallow wildcard imports for some of the contents in `test_framework/`, particularly the message types and data structures in `mininode.py` and the script op codes in `script.py`.\r\n\r\nSo I'd propose the following compromise: split the message types and script op codes out into their own files, get rid of all wildcard imports from `test_framework/`, but don't bother getting rid of wildcard imports from the new message type and script op code files.\r\n\r\nOn a related note, if we are going to start instituting style guidelines for the qa tree (which I do think is a good idea, whether we go with my proposal or not), we should write up what those are.\r\n",
      "created_at" : "2017-02-28T14:43:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283057363",
      "id" : 283057363,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-02-28T14:43:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283057363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103490979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9876"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103490979"
         }
      },
      "body" : "I prefer the way @ryanofsky's formatting looks, but I kept the imports as one-item-per-line for the reason @laanwj gives.",
      "commit_id" : "ed85b6de52395f521280d3baabb8b2ab0d5f4ce8",
      "created_at" : "2017-02-28T16:14:21Z",
      "diff_hunk" : "@@ -4,15 +4,93 @@\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \"\"\"Test segwit transactions and blocks on P2P network.\"\"\"\n \n-from test_framework.mininode import *\n-from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import *\n-from test_framework.script import *\n-from test_framework.blocktools import create_block, create_coinbase, add_witness_commitment, WITNESS_COMMITMENT_HEADER\n-from test_framework.key import CECKey, CPubKey\n-import time\n-import random\n from binascii import hexlify\n+import random\n+import struct\n+import time\n+\n+from test_framework.blocktools import (create_block,\n+                                       create_coinbase,\n+                                       add_witness_commitment,\n+                                       WITNESS_COMMITMENT_HEADER)\n+from test_framework.key import (CECKey,\n+                                CPubKey)\n+from test_framework.mininode import (CBlock,\n+                                     CBlockHeader,\n+                                     CInv,\n+                                     COutPoint,\n+                                     CTransaction,\n+                                     CTxIn,\n+                                     CTxInWitness,\n+                                     CTxOut,\n+                                     CTxWitness,\n+                                     MAX_BLOCK_BASE_SIZE,\n+                                     MSG_WITNESS_FLAG,\n+                                     NODE_NETWORK,\n+                                     NODE_WITNESS,\n+                                     NetworkThread,\n+                                     NodeConn,\n+                                     NodeConnCB,\n+                                     bytes_to_hex_str,\n+                                     hash256,\n+                                     hex_str_to_bytes,\n+                                     mininode_lock,\n+                                     msg_block,\n+                                     msg_getdata,\n+                                     msg_headers,\n+                                     msg_inv,\n+                                     msg_ping,\n+                                     msg_pong,\n+                                     msg_tx,\n+                                     msg_witness_block,\n+                                     msg_witness_tx,\n+                                     ser_uint256,\n+                                     ser_vector,\n+                                     sha256,\n+                                     uint256_from_str)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103490979",
      "id" : 103490979,
      "original_commit_id" : "f287e8de1edf9a0b342b3e5b98b88e7bb1a2bd47",
      "original_position" : 55,
      "path" : "qa/rpc-tests/p2p-segwit.py",
      "position" : 55,
      "pull_request_review_id" : 24278934,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9876",
      "updated_at" : "2017-02-28T16:14:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/103490979",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Thanks for taking the time to look at this @laanwj and @sdaftuar \r\n\r\n> So I'd propose the following compromise: split the message types and script op codes out into their own files\r\n\r\nI'm currently working on a PR to move the message classes, bitcoin datastructure classes and serialization/deserialization functions into their own `primitives.py` module. I'll leave script op codes in `scripts.py` for now (unless you strongly believe they should also live in primitives).\r\n\r\n> get rid of all wildcard imports from test_framework/\r\n\r\ndone\r\n\r\n> don't bother getting rid of wildcard imports from the new message type and script op code files.\r\n\r\nI'd still much prefer to remove wildcards and use something like `import test_framework.script as bts` and `import test_framework.primitives as btp` and then calling the script or primitive using the dotted notation.",
      "created_at" : "2017-02-28T16:26:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283088632",
      "id" : 283088632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-02-28T16:26:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283088632",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "I think I'd be in favor of making every import individually qualified (not sure right term). EG:\r\n\r\n```python\r\n# Current master\r\nimport * from math\r\n\r\n# jnewbery current proposal\r\nfrom math import (sin,\r\n                  cos,\r\n                  pow)\r\n\r\n# my proposal\r\nfrom math import sin\r\nfrom math import cos\r\nfrom math import pow\r\n```\r\n\r\nEven though this has extra `from math import` comparatively, it makes it much easier to see what a diff is changing.",
      "created_at" : "2017-02-28T21:27:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283165452",
      "id" : 283165452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-02-28T21:28:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283165452",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "body" : "@JeremyRubin nice idea. I've never seen that style before, but I think I like it! I was a little concerned about  whether python would execute the imported module multiple times, but I've done a quick test and it seems that it's smart enough to not do that.\r\n\r\n(Yet) another option that might satisfy @sdaftuar is to explicitly index what names should be exportable from the test_framework package modules using the [\\_\\_all\\_\\_ dunder](https://docs.python.org/3/tutorial/modules.html#importing-from-a-package). We could explicitly mark the bitcoin and script primitives as exportable and then use `import * from script` and `import * from primitives` in the test scripts without polluting our namespace.",
      "created_at" : "2017-02-28T21:41:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283168637",
      "id" : 283168637,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-02-28T21:41:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283168637",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "I like the suggestion by @jnewbery with using named imports as well as the `__all__` syntax. Imo it is most appropriate to use the approach that makes most sense for each module.\r\n\r\nE.g:\r\n* Some util functions such as `stop_node(# ,# )` should never be imported, but accessed through the framework instance. I.e. `self.stop_node(i)`.\r\n* Node specific methods and variables can be imported by \"import as\". I.e. `import mininode as mn; mn.COIN;`\r\n* Plain utility functions such as double sha256 should be accessible without a named prefix, importable by wildcard or explicit import, whatever the author prefers.",
      "created_at" : "2017-02-28T23:46:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283198485",
      "id" : 283198485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-02-28T23:46:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283198485",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke - agree with everything you say, and it's what we should be aiming for. I think we should do the following:\r\n\r\n- take this PR, which removes wildcards entirely\r\n- I already have a branch ready which moves the primitives from mininode into their own module. I'll update that branch to include module-level __all__ variables for primitives.py and script.py and make a PR for that. We can also update test cases which use many primitives and scripts (eg p2p-compactblocks.py) to use the wildcard imports. Authors of future testcases can choose the import style they prefer.\r\n- util functions that shouldn't be exported from outside the package should be updated to have a leading underscore to mark them as private. This doesn't have any functional impact, but is a signal to users of the package that the function is private and shouldn't be imported.",
      "created_at" : "2017-03-01T04:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283240740",
      "id" : 283240740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-03-01T04:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283240740",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "@sdaftuar Point taken. With software it is incredibly easy to spend countless hours on ancillary things that don't directly contribute to the goal in mind, sometimes to optimize arbitrary theoretical concerns. You write a lot of tests, so if you think this makes making new and better tests more work in practice, we should listen to that and take a different approach.",
      "created_at" : "2017-03-01T09:06:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283284097",
      "id" : 283284097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-03-01T09:06:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283284097",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Concept ACK\r\n> On a related note, if we are going to start instituting style guidelines for the qa tree, we should write up what those are.\r\n\r\nCompletely agree.\r\nNeeds rebase.",
      "created_at" : "2017-03-07T17:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284795505",
      "id" : 284795505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-03-07T17:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284795505",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Thanks @jtimon \r\n\r\n@MarcoFalke is it worth me rebasing this? I think it's the right direction to move in, but it seems like this PR might be a bit too much for people to take in one bite.",
      "created_at" : "2017-03-07T18:58:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284820967",
      "id" : 284820967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-03-07T18:58:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284820967",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "The discussion above was indeed helpful to get a feeling about the\ndirection we want to take. However, I don't think the pull in its current\nform is a net gain. As basically every import statement is changed, there\nwill be numerous merge conflicts; And removing the wildcards as done\ncurrently is not helpful, considering that it makes writing tests harder.\n\nSo I'd rather defer this for now.\n",
      "created_at" : "2017-03-07T19:26:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284829758",
      "id" : 284829758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-03-07T19:26:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284829758",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "ok, I'll break this down into smaller chunks, and hopefully nudge the test_framework directory in the right direction.",
      "created_at" : "2017-03-07T19:31:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284832242",
      "id" : 284832242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-03-07T19:31:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284832242",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Hope to see \"increases test coverage by XX%\" for the next test-related pull instead :)",
      "created_at" : "2017-03-08T06:32:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284959654",
      "id" : 284959654,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9876",
      "updated_at" : "2017-03-08T06:32:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284959654",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
