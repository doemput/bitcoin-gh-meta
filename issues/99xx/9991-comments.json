[
   {
      "body" : "1. Rebased and fixed conflicts\r\n2. Addressed @kallewoof nits\r\n3. Add the new parameter to `client.cpp`",
      "created_at" : "2017-03-14T16:56:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-286487382",
      "id" : 286487382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-14T16:56:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286487382",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "@luke-jr @jnewbery   @JeremyRubin nit addressed, can you re-ACK?",
      "created_at" : "2017-03-16T05:18:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-286960558",
      "id" : 286960558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-16T05:19:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286960558",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106419280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106419280"
         }
      },
      "body" : "Nit: Consider using named arguments here, instead of positional arguments (since the meaning of the arguments is not clear without having to go back to the definition of listreceivedbyaddress).",
      "commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "created_at" : "2017-03-16T13:43:20Z",
      "diff_hunk" : "@@ -62,10 +62,22 @@ def run_test(self):\n         assert_array_result(self.nodes[1].listreceivedbyaddress(11),{\"address\":addr},{ },True)\n \n         #Empty Tx\n-        addr = self.nodes[1].getnewaddress()\n+        empty_addr = self.nodes[1].getnewaddress()\n         assert_array_result(self.nodes[1].listreceivedbyaddress(0,True),\n-                           {\"address\":addr},\n-                           {\"address\":addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+                           {\"address\":empty_addr},\n+                           {\"address\":empty_addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+\n+        #Test Address filtering\n+        #Only on addr\n+        expected = {\"address\":addr, \"account\":\"\", \"amount\":Decimal(\"0.1\"), \"confirmations\":10, \"txids\":[txid,]}\n+        res = self.nodes[1].listreceivedbyaddress(0, True, True, addr)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106419280",
      "id" : 106419280,
      "original_commit_id" : "8c373d5feedb428d234278d484e5d2a932010fae",
      "original_position" : 15,
      "path" : "qa/rpc-tests/receivedby.py",
      "position" : null,
      "pull_request_review_id" : 27339297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991",
      "updated_at" : "2017-03-21T01:58:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106419280",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106421452"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106421452"
         }
      },
      "body" : "I'd prefer this test if `other_addr` (currently declared on line 78) received some funds before you did your tests on `listreceivedbyaddress()` with a filter address. This isn't currently testing the case where the wallet contains multiple addresses with funds and you want to see the transactions received by one of those addresses. Ideally the test case would be:\r\n\r\n- define addr and send funds to it (already done for you in lines 42-43)\r\n- define other_addr and send funds to it\r\n- call `listreceivedbyaddress()` filtering on `addr`. Assert only one transaction is returned.\r\n- call `listreceivedbyaddress()` filtering on `other_addr`. Assert only one transaction is returned.\r\n- call `listreceivedbyaddress()` with no filtering. Assert both transactions are returned.",
      "commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "created_at" : "2017-03-16T13:52:10Z",
      "diff_hunk" : "@@ -62,10 +62,22 @@ def run_test(self):\n         assert_array_result(self.nodes[1].listreceivedbyaddress(11),{\"address\":addr},{ },True)\n \n         #Empty Tx\n-        addr = self.nodes[1].getnewaddress()\n+        empty_addr = self.nodes[1].getnewaddress()\n         assert_array_result(self.nodes[1].listreceivedbyaddress(0,True),\n-                           {\"address\":addr},\n-                           {\"address\":addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+                           {\"address\":empty_addr},\n+                           {\"address\":empty_addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+\n+        #Test Address filtering",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106421452",
      "id" : 106421452,
      "original_commit_id" : "8c373d5feedb428d234278d484e5d2a932010fae",
      "original_position" : 12,
      "path" : "qa/rpc-tests/receivedby.py",
      "position" : null,
      "pull_request_review_id" : 27341570,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991",
      "updated_at" : "2017-03-21T01:58:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106421452",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106421725"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106421725"
         }
      },
      "body" : "minor nit: align parentheses with line above.",
      "commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "created_at" : "2017-03-16T13:53:22Z",
      "diff_hunk" : "@@ -1314,15 +1343,15 @@ UniValue listreceivedbyaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 3)\n+    if (request.fHelp || request.params.size() > 4)\n         throw std::runtime_error(\n-            \"listreceivedbyaddress ( minconf include_empty include_watchonly)\\n\"\n+            \"listreceivedbyaddress ( minconf include_empty include_watchonly only_address )\\n\"\n             \"\\nList balances by receiving address.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. minconf           (numeric, optional, default=1) The minimum number of confirmations before payments are included.\\n\"\n             \"2. include_empty     (bool, optional, default=false) Whether to include addresses that haven't received any payments.\\n\"\n             \"3. include_watchonly (bool, optional, default=false) Whether to include watch-only addresses (see 'importaddress').\\n\"\n-\n+            \"4. only_address   (string, optional) If present, only return information on this address. Otherwise, return all information.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106421725",
      "id" : 106421725,
      "original_commit_id" : "8c373d5feedb428d234278d484e5d2a932010fae",
      "original_position" : 73,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 27341891,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991",
      "updated_at" : "2017-03-21T01:58:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106421725",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Looks good. A couple of nits and a suggestion on improving the test case.",
      "created_at" : "2017-03-16T14:30:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-287074963",
      "id" : 287074963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-16T14:30:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287074963",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "utAck",
      "created_at" : "2017-03-16T21:30:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-287197086",
      "id" : 287197086,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-16T21:30:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287197086",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106573356"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106573356"
         }
      },
      "body" : "Listreceivedbyaddress is not known at compile time, and thus has no definition in python. This is interpreted at runtime. So I can't really use named argument. ~Would inline comment be good ?~\r\n\r\nEDIT: No mid line comments in python",
      "commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "created_at" : "2017-03-17T02:31:46Z",
      "diff_hunk" : "@@ -62,10 +62,22 @@ def run_test(self):\n         assert_array_result(self.nodes[1].listreceivedbyaddress(11),{\"address\":addr},{ },True)\n \n         #Empty Tx\n-        addr = self.nodes[1].getnewaddress()\n+        empty_addr = self.nodes[1].getnewaddress()\n         assert_array_result(self.nodes[1].listreceivedbyaddress(0,True),\n-                           {\"address\":addr},\n-                           {\"address\":addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+                           {\"address\":empty_addr},\n+                           {\"address\":empty_addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+\n+        #Test Address filtering\n+        #Only on addr\n+        expected = {\"address\":addr, \"account\":\"\", \"amount\":Decimal(\"0.1\"), \"confirmations\":10, \"txids\":[txid,]}\n+        res = self.nodes[1].listreceivedbyaddress(0, True, True, addr)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106573356",
      "id" : 106573356,
      "original_commit_id" : "8c373d5feedb428d234278d484e5d2a932010fae",
      "original_position" : 15,
      "path" : "qa/rpc-tests/receivedby.py",
      "position" : null,
      "pull_request_review_id" : 27502390,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991",
      "updated_at" : "2017-03-21T01:58:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106573356",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "@jnewbery I improved the tests, and fixed the alignement. I can't use named parameter in the test though.",
      "created_at" : "2017-03-17T03:10:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-287255280",
      "id" : 287255280,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-17T03:10:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287255280",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106576471"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106576471"
         }
      },
      "body" : "You can use named arguments in the RPC calls. See https://github.com/bitcoin/bitcoin/pull/9983 for example.",
      "commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "created_at" : "2017-03-17T03:13:31Z",
      "diff_hunk" : "@@ -62,10 +62,22 @@ def run_test(self):\n         assert_array_result(self.nodes[1].listreceivedbyaddress(11),{\"address\":addr},{ },True)\n \n         #Empty Tx\n-        addr = self.nodes[1].getnewaddress()\n+        empty_addr = self.nodes[1].getnewaddress()\n         assert_array_result(self.nodes[1].listreceivedbyaddress(0,True),\n-                           {\"address\":addr},\n-                           {\"address\":addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+                           {\"address\":empty_addr},\n+                           {\"address\":empty_addr, \"account\":\"\", \"amount\":0, \"confirmations\":0, \"txids\":[]})\n+\n+        #Test Address filtering\n+        #Only on addr\n+        expected = {\"address\":addr, \"account\":\"\", \"amount\":Decimal(\"0.1\"), \"confirmations\":10, \"txids\":[txid,]}\n+        res = self.nodes[1].listreceivedbyaddress(0, True, True, addr)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r106576471",
      "id" : 106576471,
      "original_commit_id" : "8c373d5feedb428d234278d484e5d2a932010fae",
      "original_position" : 15,
      "path" : "qa/rpc-tests/receivedby.py",
      "position" : null,
      "pull_request_review_id" : 27505476,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991",
      "updated_at" : "2017-03-21T01:58:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106576471",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "added named parameters to one call to listreceivedbyaddress  in the tests for better readability.",
      "created_at" : "2017-03-17T14:47:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-287374180",
      "id" : 287374180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-17T14:47:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287374180",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "line 73 `minConf` needs to be `minconf`.\r\n\r\nwith that change, tested ACK. Good stuff @NicolasDorier !",
      "created_at" : "2017-03-17T15:23:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-287384518",
      "id" : 287384518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-17T15:23:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287384518",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "@jnewbery thanks done, @JeremyRubin did the hard work :)",
      "created_at" : "2017-03-18T14:39:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-287550295",
      "id" : 287550295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-18T14:39:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287550295",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "utACK - the code looks good and this is very useful functionality.",
      "created_at" : "2017-03-21T20:07:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-288202250",
      "id" : 288202250,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-21T20:07:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/288202250",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/274814?v=3",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "body" : "@TheBlueMatt I fixed nits and added tests, can you re-ACK ?",
      "created_at" : "2017-03-22T00:43:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-288264016",
      "id" : 288264016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-22T00:43:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/288264016",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "https://github.com/bitcoin/bitcoin/pull/7729 should also work for TB purpose.",
      "created_at" : "2017-03-29T04:45:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-289980907",
      "id" : 289980907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-03-29T04:45:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/289980907",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "ACK - works fine.  \r\nThis could be (not sure if should be) combined with fixing this issue for correct GUI experience: https://github.com/bitcoin/bitcoin/issues/9192  ",
      "created_at" : "2017-05-25T06:18:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-303932694",
      "id" : 303932694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-05-25T06:18:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303932694",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/9156103?v=3",
         "events_url" : "https://api.github.com/users/nopara73/events{/privacy}",
         "followers_url" : "https://api.github.com/users/nopara73/followers",
         "following_url" : "https://api.github.com/users/nopara73/following{/other_user}",
         "gists_url" : "https://api.github.com/users/nopara73/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/nopara73",
         "id" : 9156103,
         "login" : "nopara73",
         "organizations_url" : "https://api.github.com/users/nopara73/orgs",
         "received_events_url" : "https://api.github.com/users/nopara73/received_events",
         "repos_url" : "https://api.github.com/users/nopara73/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/nopara73/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/nopara73/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/nopara73"
      }
   },
   {
      "body" : "Closing. I am using a workaround now, I am caching the whole `listtransaction`, at every block. This call would have been super useful though.",
      "created_at" : "2017-06-14T07:10:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-308340026",
      "id" : 308340026,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-06-14T07:11:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308340026",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : ":disappointed: I'm happy to reACK if you decide to reopen this!",
      "created_at" : "2017-06-14T14:27:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-308448592",
      "id" : 308448592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-06-14T14:27:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308448592",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "@jnewbery, if you have interest, I am reopening, I guess it does not hurt to keep it opens, it is not high maintenance PR. I was thinking to allow multiple addresses to be passed in the filter, instead of only one.\r\n\r\nFor NTumbleBit, I changed the design, I have a method called `GetTransactions(address)` which should send back the inputs AND outputs transactions of this address. `listreceivedbyaddress` would only show input transactions.\r\n\r\nThe way I ended up implemeting my need is by caching `listtransaction` then for each transaction in it, caching `gettransaction` in a internal database. I now have good performance, and I am not sure this RPC method would suit my case now.\r\n\r\n----\r\nEDIT: Documenting why I need also all transaction spent from this address: (not only transactions received)\r\n\r\nIn TumbleBit, there is a chain of transaction.\r\n\r\n```\r\n[Escrow] -> [Offer] -> [Fulfill]\r\n```\r\nEscrow is confirmed.\r\nThe user knows one of the ScriptPubKey inside Offer, but not the transaction ID.\r\nHis goal is to fetch Fulfill on the blockchain. (When the ScriptPubKey of Offer get spent, then important preimages are revealed)\r\n\r\nSo the way I am doing it now is adding Offer's ScriptPubKey as WatchOnly. Then fetching all the transactions from the wallet, caching them in internal database, and going through all those transactions to see if there is one input which is spent by the ScriptPubKey of Offer. If yes, then we have [Fulfill].\r\n\r\nWatching all transactions related to one address is very useful, not only the received transaction of the address. \r\n\r\nIn Core, however it is not possible, because knowing if a transaction is \"from an address\" is considered bad practice.\r\nAt the root, this is the same reason as to why https://github.com/bitcoin/bitcoin/pull/10007 could not make it..\r\n",
      "created_at" : "2017-06-15T13:37:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-308731459",
      "id" : 308731459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-06-15T14:07:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308731459",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "@NicolasDorier Do you actually need the wallet functionality (balance tracking, UTXO management, coin selection, ...), or just a means to be notified of certain transactions?",
      "created_at" : "2017-06-16T23:26:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-309161077",
      "id" : 309161077,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-06-16T23:26:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309161077",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Need the wallet functionality for NTumbleBit.",
      "created_at" : "2017-06-17T04:48:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-309193312",
      "id" : 309193312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-06-17T04:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309193312",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/9156103?v=3",
         "events_url" : "https://api.github.com/users/nopara73/events{/privacy}",
         "followers_url" : "https://api.github.com/users/nopara73/followers",
         "following_url" : "https://api.github.com/users/nopara73/following{/other_user}",
         "gists_url" : "https://api.github.com/users/nopara73/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/nopara73",
         "id" : 9156103,
         "login" : "nopara73",
         "organizations_url" : "https://api.github.com/users/nopara73/orgs",
         "received_events_url" : "https://api.github.com/users/nopara73/received_events",
         "repos_url" : "https://api.github.com/users/nopara73/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/nopara73/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/nopara73/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/nopara73"
      }
   },
   {
      "body" : "Can you clarify what functionality it relies on?",
      "created_at" : "2017-06-17T05:09:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-309194075",
      "id" : 309194075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-06-17T05:09:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309194075",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "A lot, but I am not sure which are relevant to this discussion with the workaround. @NicolasDorier will have a better insight. https://github.com/NTumbleBit/NTumbleBit/tree/master/NTumbleBit.TumblerServer/Services/RPCServices  ",
      "created_at" : "2017-06-17T05:46:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-309195417",
      "id" : 309195417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-06-17T05:46:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309195417",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/9156103?v=3",
         "events_url" : "https://api.github.com/users/nopara73/events{/privacy}",
         "followers_url" : "https://api.github.com/users/nopara73/followers",
         "following_url" : "https://api.github.com/users/nopara73/following{/other_user}",
         "gists_url" : "https://api.github.com/users/nopara73/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/nopara73",
         "id" : 9156103,
         "login" : "nopara73",
         "organizations_url" : "https://api.github.com/users/nopara73/orgs",
         "received_events_url" : "https://api.github.com/users/nopara73/received_events",
         "repos_url" : "https://api.github.com/users/nopara73/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/nopara73/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/nopara73/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/nopara73"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r133285461"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133285461"
         }
      },
      "body" : "Use a simpler check:\r\n```cpp\r\nCBitcoinAddress address(request.params[3].get_str());\r\n    if (!address.IsValid())\r\n```",
      "commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "created_at" : "2017-08-15T19:49:49Z",
      "diff_hunk" : "@@ -1206,6 +1206,17 @@ UniValue ListReceived(CWallet * const pwallet, const UniValue& params, bool fByA\n         if(params[2].get_bool())\n             filter = filter | ISMINE_WATCH_ONLY;\n \n+    bool fFilterAddress = false;\n+    CTxDestination filterAddress =  CNoDestination();\n+    if (!fByAccounts && params.size() > 3) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r133285461",
      "id" : 133285461,
      "original_commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "original_position" : 6,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 6,
      "pull_request_review_id" : 56449221,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991",
      "updated_at" : "2017-08-15T19:49:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133285461",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r133286428"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133286428"
         }
      },
      "body" : "This loop-or-find logic seems to be a bit wired.\r\nI probably would have factored out the JSON object packing and either called the new function from within the range based loop or after the `find()`.",
      "commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "created_at" : "2017-08-15T19:54:14Z",
      "diff_hunk" : "@@ -1240,10 +1255,24 @@ UniValue ListReceived(CWallet * const pwallet, const UniValue& params, bool fByA\n     // Reply\n     UniValue ret(UniValue::VARR);\n     std::map<std::string, tallyitem> mapAccountTally;\n-    for (const std::pair<CBitcoinAddress, CAddressBookData>& item : pwallet->mapAddressBook) {\n-        const CBitcoinAddress& address = item.first;\n-        const std::string& strAccount = item.second.name;\n-        std::map<CBitcoinAddress, tallyitem>::iterator it = mapTally.find(address);\n+\n+    // Create mapAddressBook iterator\n+    // If we aren't filtering, go from begin() to end()\n+    auto start = pwallet->mapAddressBook.begin();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#discussion_r133286428",
      "id" : 133286428,
      "original_commit_id" : "c262be5f99aebc90448fb24d58b290368b2e7469",
      "original_position" : 40,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 40,
      "pull_request_review_id" : 56450377,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9991",
      "updated_at" : "2017-08-15T19:54:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/133286428",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Needs rebase.\r\n\r\nConcept ACK. I think the by address filter is in general useful.",
      "created_at" : "2017-08-15T19:56:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-322571306",
      "id" : 322571306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-08-15T19:56:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/322571306",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@sipa just saw now your previous question.\r\nAs far as TB is concerned, I am using balance tracking, UTXO management, and coin selection management of Bitcoin Core for funding the escrow transactions.\r\n\r\nI am also using Core as a block explorer: There is some well known address on which I would like to be notified is money is sent *to* it, or sent *from*. This PR allows me to know when something is sent to the address.\r\nHowever, I still need a new rpc method for knowing if something is sent *from* an address.\r\n\r\nUntil I have the two features, my only way is to poll periodically `listtransaction` then fetch all transaction with `gettransaction`, and see if the relevant addresses are inside. This work well but is very cumbersome. It also does not scale well, if I do not cache the result of `gettransaction`.\r\n\r\nWe kind of talked about that in Tokyo, and you seemed to think that the best is that I develop my own wallet, unrelated to bitcoin RPC. I don't like it but I think this is the way I will go for future projects.",
      "created_at" : "2017-08-17T04:19:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9991#issuecomment-322964889",
      "id" : 322964889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9991",
      "updated_at" : "2017-08-17T04:21:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/322964889",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   }
]
