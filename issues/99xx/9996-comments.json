[
   {
      "body" : "By playing a bit, I noticed it happen only if the datadir is inside my shared docker volume.",
      "created_at" : "2017-03-15T04:09:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-286635739",
      "id" : 286635739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-15T04:11:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286635739",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "had there any change on leveldb recently which could provoke this change of behavior ?",
      "created_at" : "2017-03-15T04:16:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-286636545",
      "id" : 286636545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-15T04:16:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286636545",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Seems to be docker windows related (https://github.com/Level/levelup/issues/222) keeping open until I find the issue so people having the same problem can fix it.",
      "created_at" : "2017-03-15T04:22:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-286637258",
      "id" : 286637258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-15T04:22:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286637258",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Seeems to be normal https://github.com/bitcoin/bitcoin/issues/9482 now my big question is: Why in the hell it was working before. I also remember running bitcoind on network share without problem before.",
      "created_at" : "2017-03-15T04:28:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-286638059",
      "id" : 286638059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-15T05:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286638059",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Tried on old version of Bitcoin Core. Same problem. I guess something changed with my docker.",
      "created_at" : "2017-03-15T04:41:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-286639420",
      "id" : 286639420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-15T04:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286639420",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "workaround it by changing this https://github.com/NicolasDorier/bitcoin/blob/8c373d5feedb428d234278d484e5d2a932010fae/qa/pull-tester/rpc-tests.py#L228 to another folder not on a share... root cause of this sudden change of behavior still unknown.",
      "created_at" : "2017-03-15T06:19:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-286651471",
      "id" : 286651471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-15T06:19:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286651471",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "It turns out that `fsync` fails with error EINVAL because cifs volume does not support synching. This makes sense, but still does not explain why it already worked before for me.",
      "created_at" : "2017-03-15T08:07:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-286668745",
      "id" : 286668745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-15T08:07:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/286668745",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "So the root of the problem about why it works before and not now is that the cache for unit tests is created on /qa/cache, before there was no cache. I propose to move /qa/cache to /tmp.",
      "created_at" : "2017-03-17T08:45:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-287298514",
      "id" : 287298514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-03-17T08:45:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/287298514",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Closing this issue as the immediate problem is solved.\r\n\r\nAlso, test_runner deletes and reseeds the cache by default since #10197, so problems with stale caches should not happen anymore.\r\n\r\n> I propose to move /qa/cache to /tmp.\r\n\r\nAgree that moving it to /tmp at some point makes sense, although that complicates sharing it between multiple tests - hardcoding a directory name in /tmp is not-done because of shared systems.\r\n\r\nYou can already choose a custom cache dir when running individual tests with `--cachedir`, btw.",
      "created_at" : "2017-08-24T09:08:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9996#issuecomment-324578804",
      "id" : 324578804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9996",
      "updated_at" : "2017-08-24T09:08:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324578804",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
