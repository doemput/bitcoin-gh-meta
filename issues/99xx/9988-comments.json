[
   {
      "body" : "@achow101 Looks like nobody wants to read that URL. Can you please paste commands that can be used on the testnet right away and demonstrate the issue?\r\n",
      "created_at" : "2017-05-15T16:17:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9988#issuecomment-301525577",
      "id" : 301525577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9988",
      "updated_at" : "2017-05-15T16:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/301525577",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "From the thread I linked to:\r\n\r\nThree addresses and their private and public keys:\r\n```\r\ncMpfNfuasJcrCv8RKMG35C8YtUVpaheFbNMwDuBXVvdcjaeYE7oh\r\n024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a\r\nmgMZZtLSX1cU9jhAdQWMqMyoPv4JncZqcU\r\n\r\ncVM5Kaoim2MKzT8MxVHHAu9BixJKTJgMhqape1eHgjHGhFPkf2mn\r\n03c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771\r\nmrdkuGp2wcXhcmtN7RwwUs7CYevJpYuLnV\r\n\r\ncU4mHYwU2X1oTWBfYBGYFN69oYdrpWnBMrWd4nCoeRPUzmRY89vM\r\n0256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b34\r\nmospdWZdHtym59yMwUUi8w4HcWQxd7sQsv\r\n```\r\n\r\nCreate 2-of-3 multisig address:\r\n```\r\ncreatemultisig 2 '[\"024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a\",\"03c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771\",\"0256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b34\"]'\r\n\r\n{\r\n  \"address\": \"2N9nn3aMYzTjs2ccTRAvDUmdKykL9YjM2cj\",\r\n  \"redeemScript\": \"5221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453ae\"\r\n}\r\n```\r\n\r\nImport address and fund it:\r\n```\r\nimportaddress 2N9nn3aMYzTjs2ccTRAvDUmdKykL9YjM2cj \"\" false\r\n\r\n//sent 0.1btc to 2N9nn3aMYzTjs2ccTRAvDUmdKykL9YjM2cj\r\n\r\nlistunspent\r\n[\r\n  {\r\n    \"txid\": \"ff65917ac6cbe36d55893d9e1ce63cad1140c2ab38e9c7d099170b16d1a55d70\",\r\n    \"vout\": 0,\r\n    \"address\": \"2N9nn3aMYzTjs2ccTRAvDUmdKykL9YjM2cj\",\r\n    \"account\": \"\",\r\n    \"scriptPubKey\": \"a914b579aabfd350ed75ee056ff4d6d56718c74f55df87\",\r\n    \"amount\": 0.10000000,\r\n    \"confirmations\": 1,\r\n    \"spendable\": false,\r\n    \"solvable\": false\r\n  }, \r\n```\r\n\r\nMake unsigned spending tx:\r\n```\r\ncreaterawtransaction '[{\"txid\":\"ff65917ac6cbe36d55893d9e1ce63cad1140c2ab38e9c7d099170b16d1a55d70\",\"vout\":0,\"scriptPubKey\":\"a914b579aabfd350ed75ee056ff4d6d56718c74f55df87\",\"redeemScript\":\"5221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453ae\"}]' '{\"mqZa1zbDg5RHVYbX6ea1QxPuuxAyuGVSoK\":0.0999}'\r\n\r\n0100000001705da5d1160b1799d0c7e938abc24011ad3ce61c9e3d89556de3cbc67a9165ff0000000000ffffffff01706f9800000000001976a9146e2fe8ef5dcb05fd258e2f51d3f15ba3781cd96b88ac00000000\r\n```\r\nAttempt to sign with first privkey fails:\r\n```\r\nsignrawtransaction '0100000001705da5d1160b1799d0c7e938abc24011ad3ce61c9e3d89556de3cbc67a9165ff0000000000ffffffff01706f9800000000001976a9146e2fe8ef5dcb05fd258e2f51d3f15ba3781cd96b88ac00000000' '[{\"txid\":\"ff65917ac6cbe36d55893d9e1ce63cad1140c2ab38e9c7d099170b16d1a55d70\",\"vout\":0,\"scriptPubKey\":\"a914b579aabfd350ed75ee056ff4d6d56718c74f55df87\",\"redeemScript\":\"5221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453ae\"}]' '[\"cMpfNfuasJcrCv8RKMG35C8YtUVpaheFbNMwDuBXVvdcjaeYE7oh\"]'\r\n\r\n\r\n{\r\n  \"hex\": \"0100000001705da5d1160b1799d0c7e938abc24011ad3ce61c9e3d89556de3cbc67a9165ff00000000b5004830450221009d4f252bc47a8ab7078c3f93929bd091da175ed115bbe4953a3704d1e8027e12022005ab1434847d64bc6551ce6044b970becad36fc0cf6380847c33b241a30fc085014c695221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453aeffffffff01706f9800000000001976a9146e2fe8ef5dcb05fd258e2f51d3f15ba3781cd96b88ac00000000\",\r\n  \"complete\": false,\r\n  \"errors\": [\r\n    {\r\n      \"txid\": \"ff65917ac6cbe36d55893d9e1ce63cad1140c2ab38e9c7d099170b16d1a55d70\",\r\n      \"vout\": 0,\r\n      \"scriptSig\": \"004830450221009d4f252bc47a8ab7078c3f93929bd091da175ed115bbe4953a3704d1e8027e12022005ab1434847d64bc6551ce6044b970becad36fc0cf6380847c33b241a30fc085014c695221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453ae\",\r\n      \"sequence\": 4294967295,\r\n      \"error\": \"Operation not valid with the current stack size\"\r\n    }\r\n  ]\r\n}\r\n```",
      "created_at" : "2017-05-15T16:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9988#issuecomment-301535486",
      "id" : 301535486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9988",
      "updated_at" : "2017-05-15T16:54:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/301535486",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "I've tested this and I can sign the returned partial transaction:\r\n\r\n```\r\n// Sign with the first key\r\nÃ¢ÂÂ bitcoin-cli signrawtransaction '02000000011cde84bb4859cef89c748d85072511f45be4db9df4ae833951e2bf883e8c86850100000000ffffffff01706f98000\r\n00000001976a9146e2fe8ef5dcb05fd258e2f51d3f15ba3781cd96b88ac00000000' '[{\"txid\":\"85868c3e88bfe2513983aef49ddbe45bf4112507858d749cf8ce5948bb84de1c\",\"vout\":1,\"scriptPubKey\":\"a914b579aabfd350ed75ee056ff4d6d56718c74f55df87\",\"redeemScript\":\"5221024c5965fb18701569ec09e8d2979c45e3d\r\n6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec028\r\n85300a1bb0a1159e289ae66af78b3453ae\"}]' '[\"cMpfNfuasJcrCv8RKMG35C8YtUVpaheFbNMwDuBXVvdcjaeYE7oh\"]'\r\n{\r\n  \"hex\": \"02000000011cde84bb4859cef89c748d85072511f45be4db9df4ae833951e2bf883e8c868501000000b400473044022053bf59c161ada753cd4de4ecd86a7d4719a6d903f0ff0aa7a0e8f1d3a7eb46e50220511bf2308f9b708c8eef11c71ae4198c0b59fde19b559a27c03a43edc8d7e103014c695221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453aeffffffff01706f9800000000001976a9146e2fe8ef5dcb05fd258e2f51d3f15ba3781cd96b88ac00000000\",\r\n  \"complete\": false,\r\n  \"errors\": [\r\n    {\r\n      \"txid\": \"85868c3e88bfe2513983aef49ddbe45bf4112507858d749cf8ce5948bb84de1c\",\r\n      \"vout\": 1,\r\n      \"witness\": [\r\n      ],\r\n      \"scriptSig\": \"00473044022053bf59c161ada753cd4de4ecd86a7d4719a6d903f0ff0aa7a0e8f1d3a7eb46e50220511bf2308f9b708c8eef11c71ae4198c0b59fde19b559a27c03a43edc8d7e103014c695221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453ae\",\r\n      \"sequence\": 4294967295,\r\n      \"error\": \"Operation not valid with the current stack size\"\r\n    }\r\n  ]\r\n}\r\n\r\n// An error is shown, but the returned hex *is* a valid partially signed tx.\r\n// Now sign with a second key\r\n\r\nÃ¢ÂÂ bitcoin-cli signrawtransaction '02000000011cde84bb4859cef89c748d85072511f45be4db9df4ae833951e2bf883e8c868501000000b400473044022053bf59c161ada753cd4de4ecd86a7d4719a6d903f0ff0aa7a0e8f1d3a7eb46e50220511bf2308f9b708c8eef11c71ae4198c0b59fde19b559a27c03a43edc8d7e103014c695221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453aeffffffff01706f9800000000001976a9146e2fe8ef5dcb05fd258e2f51d3f15ba3781cd96b88ac00000000' '[{\"txid\":\"85868c3e88bfe2513983aef49ddbe45bf4112507858d749cf8ce5948bb84de1c\",\"vout\":1,\"scriptPubKey\":\"a914b579aabfd350e\r\nd75ee056ff4d6d56718c74f55df87\",\"redeemScript\":\"5221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764\r\n829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453ae\"}]' '[\"cVM5Kaoim2MKzT8MxVHHAu9BixJKTJgMhqape1eHgjHGhFPkf2mn\"]'\r\n{\r\n  \"hex\": \"02000000011cde84bb4859cef89c748d85072511f45be4db9df4ae833951e2bf883e8c868501000000fc00473044022053bf59c161ada753cd4de4ecd86a7d4719a6d903f0ff0aa7a0e8f1d3a7eb46e50220511bf2308f9b708c8eef11c71ae4198c0b59fde19b559a27c03a43edc8d7e10301473044022026ec2ccf9067b5ae0b3c7f108b0c79546de7187630eafba1a723a77437829a4202205404cbe251e3a165a47bc7555bf09cd5a81e7f0aa4e35cafc207be202aa834bf014c695221024c5965fb18701569ec09e8d2979c45e3d6e0c60ddb3c9d6af0692124d3890e8a2103c9084cf82f74f764829a7d3c842462e03f4bbaf59981cb3b98cd3974438e5771210256d87a1997bad87ebdd409a3437ecec02885300a1bb0a1159e289ae66af78b3453aeffffffff01706f9800000000001976a9146e2fe8ef5dcb05fd258e2f51d3f15ba3781cd96b88ac00000000\",\r\n  \"complete\": true\r\n}\r\n\r\n// returned hex is a fully signed multisig tx\r\n```\r\n\r\nIt's confusing that the first call to `signrawtransaction()` returns an error \"Operation not valid with the current stack size\", but I don't think that stops you from signing the partial transaction.",
      "created_at" : "2017-05-24T21:16:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9988#issuecomment-303854178",
      "id" : 303854178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9988",
      "updated_at" : "2017-05-24T21:16:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303854178",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "> It's confusing that the first call to `signrawtransaction()` returns an error \"Operation not valid with the current stack size\", but I don't think that stops you from signing the partial transaction.\r\n\r\nAh. I see. That it returns an error even when partially signed is still an issue though. That shouldn't happen.",
      "created_at" : "2017-05-24T22:42:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9988#issuecomment-303872382",
      "id" : 303872382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9988",
      "updated_at" : "2017-05-24T22:42:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303872382",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
