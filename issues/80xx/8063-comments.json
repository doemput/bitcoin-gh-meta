[
   {
      "body" : "utACK\n\nI think it can be written slightly shorter with a reverse lock around the sleep.",
      "created_at" : "2016-05-17T03:50:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8063#issuecomment-219612802",
      "id" : 219612802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8063",
      "updated_at" : "2016-05-17T03:50:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219612802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa as in acquire the lock and then release it while sleeping and re-aquire after?",
      "created_at" : "2016-05-17T03:52:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8063#issuecomment-219613042",
      "id" : 219613042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8063",
      "updated_at" : "2016-05-17T03:52:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219613042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "utACK 46b0c3b688dccf6ba9ac08cbd6d6981249a73b1a\r\n\r\nThis loses a log entry, but the log entry appears useless...",
      "created_at" : "2016-05-17T05:31:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8063#issuecomment-219623208",
      "id" : 219623208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8063",
      "updated_at" : "2016-05-17T05:31:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219623208",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK 46b0c3b,  it'd be nice to use [`std::condition_variable`](http://en.cppreference.com/w/cpp/thread/condition_variable) and `wait` signals/semaphores for things like this instead of loops and `MilliSleep(10);`.",
      "created_at" : "2016-05-17T05:42:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8063#issuecomment-219624672",
      "id" : 219624672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8063",
      "updated_at" : "2016-05-17T05:44:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219624672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "The loop is emulating a condvar here (specifically `cvBestBlock`), but I don't see a good way to deal with `fDisconnect` in a cond-wait that isn't quite a bit more involved than fixing this little data race. If init ran in a boost thread it'd be interruptible, but nothing in `AppInit2` expects to be exitable via interruption exceptions... utACK 46b0c3b; I'll open a separate bug relating to `fDisconnect`",
      "created_at" : "2016-05-17T05:47:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8063#issuecomment-219625284",
      "id" : 219625284,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8063",
      "updated_at" : "2016-05-17T05:48:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219625284",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1047859?v=3",
         "events_url" : "https://api.github.com/users/kazcw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kazcw/followers",
         "following_url" : "https://api.github.com/users/kazcw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kazcw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kazcw",
         "id" : 1047859,
         "login" : "kazcw",
         "organizations_url" : "https://api.github.com/users/kazcw/orgs",
         "received_events_url" : "https://api.github.com/users/kazcw/received_events",
         "repos_url" : "https://api.github.com/users/kazcw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kazcw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kazcw"
      }
   },
   {
      "body" : "@kazcw agreed this is not ideal... nothing about init.cpp is ideal",
      "created_at" : "2016-05-17T23:33:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8063#issuecomment-219884989",
      "id" : 219884989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8063",
      "updated_at" : "2016-05-17T23:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219884989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "utACK 46b0c3b688dccf6ba9ac08cbd6d6981249a73b1a\n\nOn May 16, 2016 8:38:08 PM PDT, Patrick Strateman <notifications@github.com> wrote:\n>Fix issue identified in #7917 around failure to acquire cs_main for\n>chainActive access.\n>You can view, comment on, or merge this pull request online at:\n>\n>  https://github.com/bitcoin/bitcoin/pull/8063\n>\n>-- Commit Summary --\n>\n>  * Acquire lock to check for genesis block.\n>\n>-- File Changes --\n>\n>    M src/init.cpp (14)\n>\n>-- Patch Links --\n>\n>https://github.com/bitcoin/bitcoin/pull/8063.patch\n>https://github.com/bitcoin/bitcoin/pull/8063.diff\n>\n>---\n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/8063\n",
      "created_at" : "2016-05-18T02:16:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8063#issuecomment-219907386",
      "id" : 219907386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8063",
      "updated_at" : "2016-05-18T02:16:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/219907386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
