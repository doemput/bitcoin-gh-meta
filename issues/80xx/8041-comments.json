[
   {
      "body" : "Just verified this fixes the issue I was seeing.  Thanks!\r\n\r\nACK",
      "created_at" : "2016-05-11T12:16:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8041#issuecomment-218442078",
      "id" : 218442078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8041",
      "updated_at" : "2016-05-11T12:16:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218442078",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@MarcoFalke What is weird is the error only appears when running the test individually, but not as part of the pull-tester.py suite.",
      "created_at" : "2016-05-11T12:23:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8041#issuecomment-218443416",
      "id" : 218443416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8041",
      "updated_at" : "2016-05-11T12:23:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218443416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "@MarcoFalke Can you please help me understand, what was the problem? If I understand it and am able to reproduce, I'd feel better Ã°ÂÂÂ \r\n\r\nEdit: FWIW: it never failed for me locally, either by running it individually or as part of the pull-tester.\r\n",
      "created_at" : "2016-05-11T12:24:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8041#issuecomment-218443716",
      "id" : 218443716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8041",
      "updated_at" : "2016-05-11T12:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218443716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik It never failed for me locally, either. But I assume the failure (print to stderr) is caused by deleting the blocks.db and not closing the db connection.",
      "created_at" : "2016-05-11T12:32:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8041#issuecomment-218445430",
      "id" : 218445430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8041",
      "updated_at" : "2016-05-11T12:32:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218445430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@btcdrak It should fail for both, though. The pull tester is only a convenience wrapper, so you don't have to type each command by yourself. (c.f. https://github.com/bitcoin/bitcoin/blob/423ca302a3ee87000530da3c105f269b8fabece7/qa/pull-tester/rpc-tests.py#L248)",
      "created_at" : "2016-05-11T12:34:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8041#issuecomment-218445912",
      "id" : 218445912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8041",
      "updated_at" : "2016-05-11T12:34:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218445912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "I can confirm this fixes the issue of isolated runs. \r\n\r\nACK fa0f635\r\n",
      "created_at" : "2016-05-11T12:38:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8041#issuecomment-218446795",
      "id" : 218446795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8041",
      "updated_at" : "2016-05-11T12:38:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218446795",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "I have removed the changes to `comptool.py`, as they are not required. (Now it is a +3-0 diff; I don't think I can get it any smaller ;)",
      "created_at" : "2016-05-11T20:29:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8041#issuecomment-218580199",
      "id" : 218580199,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8041",
      "updated_at" : "2016-05-11T20:29:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218580199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
