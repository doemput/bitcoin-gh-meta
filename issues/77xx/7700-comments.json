[
   {
      "body" : "`getnetworkinfo` should have it under \"localaddresses\"",
      "created_at" : "2016-03-17T07:48:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197743638",
      "id" : 197743638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T07:48:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197743638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Most helpful.\r\n\r\nBut the localaddresses array is empty... This is what I get\r\n\r\n```bash\r\n{\r\n  \"version\": 120000,\r\n  \"subversion\": \"/Classic:0.12.0/\",\r\n  \"protocolversion\": 70012,\r\n  \"localservices\": \"0000000000000005\",\r\n  \"timeoffset\": 0,\r\n  \"connections\": 8,\r\n  \"networks\": [\r\n    {\r\n      \"name\": \"ipv4\",\r\n      \"limited\": false,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    }, \r\n    {\r\n      \"name\": \"ipv6\",\r\n      \"limited\": false,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    }, \r\n    {\r\n      \"name\": \"onion\",\r\n      \"limited\": false,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    }\r\n  ],\r\n  \"relayfee\": 0.00005000,\r\n  \"localaddresses\": [\r\n  ],\r\n  \"warnings\": \"\"\r\n}\r\n```\r\nWhen I look into the debug.log I see this:\r\n```bash\r\n2016-03-17 08:09:04 tor: Connected to Tor version 0.2.7.6\r\n2016-03-17 08:09:04 tor: Supported authentication method: COOKIE\r\n2016-03-17 08:09:04 tor: Supported authentication method: HASHEDPASSWORD\r\n2016-03-17 08:09:04 tor: Supported authentication method: SAFECOOKIE\r\n2016-03-17 08:09:04 tor: Using SAFECOOKIE authentication, reading cookie authentication from /var/run/tor/control.authcookie\r\n2016-03-17 08:09:04 tor: Authentication cookie /var/run/tor/control.authcookie could not be opened (check permissions)\r\n```\r\nI put in the password for the control service with \"torpassword=password\". I do not want to use cookieauthentication. Is the setup actually failing?",
      "created_at" : "2016-03-17T08:12:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197751600",
      "id" : 197751600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T08:12:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197751600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1150767?v=3",
         "events_url" : "https://api.github.com/users/Levino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Levino/followers",
         "following_url" : "https://api.github.com/users/Levino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Levino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Levino",
         "id" : 1150767,
         "login" : "Levino",
         "organizations_url" : "https://api.github.com/users/Levino/orgs",
         "received_events_url" : "https://api.github.com/users/Levino/received_events",
         "repos_url" : "https://api.github.com/users/Levino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Levino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Levino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Levino"
      }
   },
   {
      "body" : "Sorry, I have to add one thing: I am still reindexing. Maybe that is the issue.",
      "created_at" : "2016-03-17T08:27:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197759062",
      "id" : 197759062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T08:27:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197759062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1150767?v=3",
         "events_url" : "https://api.github.com/users/Levino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Levino/followers",
         "following_url" : "https://api.github.com/users/Levino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Levino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Levino",
         "id" : 1150767,
         "login" : "Levino",
         "organizations_url" : "https://api.github.com/users/Levino/orgs",
         "received_events_url" : "https://api.github.com/users/Levino/received_events",
         "repos_url" : "https://api.github.com/users/Levino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Levino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Levino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Levino"
      }
   },
   {
      "body" : "Yes, the setup is failing. If it's not actually authenticating to tor it won't get a hidden service address.\r\nDisabling cookie authentication at the Tor side should solve this.\r\nReindexing doesnn't have to do with it.",
      "created_at" : "2016-03-17T11:33:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197837095",
      "id" : 197837095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T11:33:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197837095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "BTW, for issues with classic you should use this issue tracker: https://github.com/bitcoinclassic/bitcoinclassic/issues\r\n",
      "created_at" : "2016-03-17T11:35:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197837926",
      "id" : 197837926,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T11:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197837926",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : ":) I understand your point @laanwj But this is such a basic part of the code that I hope it is okay that I put the issue where I would assume it might have come from.\r\n\r\nThanks for the feedback.",
      "created_at" : "2016-03-17T11:43:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197841481",
      "id" : 197841481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T11:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197841481",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1150767?v=3",
         "events_url" : "https://api.github.com/users/Levino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Levino/followers",
         "following_url" : "https://api.github.com/users/Levino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Levino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Levino",
         "id" : 1150767,
         "login" : "Levino",
         "organizations_url" : "https://api.github.com/users/Levino/orgs",
         "received_events_url" : "https://api.github.com/users/Levino/received_events",
         "repos_url" : "https://api.github.com/users/Levino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Levino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Levino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Levino"
      }
   },
   {
      "body" : "@laanwj Verified the fix. For anyone else having issues: I actuallty had to set \r\n```\r\nCookieAuthentication 0\r\n```\r\nin the ```/etc/tor/torrc``` to make it work.",
      "created_at" : "2016-03-17T11:48:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197843165",
      "id" : 197843165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T11:48:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197843165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1150767?v=3",
         "events_url" : "https://api.github.com/users/Levino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Levino/followers",
         "following_url" : "https://api.github.com/users/Levino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Levino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Levino",
         "id" : 1150767,
         "login" : "Levino",
         "organizations_url" : "https://api.github.com/users/Levino/orgs",
         "received_events_url" : "https://api.github.com/users/Levino/received_events",
         "repos_url" : "https://api.github.com/users/Levino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Levino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Levino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Levino"
      }
   },
   {
      "body" : "See also #7703\r\n\r\n> :) I understand your point @laanwj But this is such a basic part of the code that I hope it is okay that I put the issue where I would assume it might have come from.\r\n\r\nPrincipally we can't support custom changes on top of the code, it's not our responsibility and also makes it impossible to determine what bug comes from our code or from other's changes. So - before reporting here at least make sure that you tested that it also happens with the code from here.\r\n(in this case that was clear, sure)",
      "created_at" : "2016-03-17T11:58:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197846654",
      "id" : 197846654,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T11:58:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197846654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "One last thing @laanwj if you dont mind. How can I make the bitcoind accept connections on tor AND ipv4 AND ipv6. I am trying this:\r\n```sh\r\n# bitcoin.conf configuration file. Lines beginning with # are comments.\r\ndaemon=1\r\nlisten=1\r\nrpcpassword=bbbbb\r\nminrelaytxfee=0.00005\r\ntorpassword=xxxxx\r\ndiscover=1\r\n```\r\nbut get this:\r\n```bash\r\nbitcoin-cli getnetworkinfo\r\n{\r\n  \"version\": 120000,\r\n  \"subversion\": \"/Classic:0.12.0/\",\r\n  \"protocolversion\": 70012,\r\n  \"localservices\": \"0000000000000005\",\r\n  \"timeoffset\": -1,\r\n  \"connections\": 13,\r\n  \"networks\": [\r\n    {\r\n      \"name\": \"ipv4\",\r\n      \"limited\": false,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    }, \r\n    {\r\n      \"name\": \"ipv6\",\r\n      \"limited\": false,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    }, \r\n    {\r\n      \"name\": \"onion\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:9050\",\r\n      \"proxy_randomize_credentials\": true\r\n    }\r\n  ],\r\n  \"relayfee\": 0.00005000,\r\n  \"localaddresses\": [\r\n    {\r\n      \"address\": \"kljhw4txgqymrcer.onion\",\r\n      \"port\": 8333,\r\n      \"score\": 4\r\n    }\r\n  ],\r\n  \"warnings\": \"\"\r\n}\r\n```\r\nLooks to me as if the local ipv4 and ipv6 is not being used / propagated to the network...",
      "created_at" : "2016-03-17T12:44:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7700#issuecomment-197861171",
      "id" : 197861171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7700",
      "updated_at" : "2016-03-17T12:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197861171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1150767?v=3",
         "events_url" : "https://api.github.com/users/Levino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Levino/followers",
         "following_url" : "https://api.github.com/users/Levino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Levino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Levino",
         "id" : 1150767,
         "login" : "Levino",
         "organizations_url" : "https://api.github.com/users/Levino/orgs",
         "received_events_url" : "https://api.github.com/users/Levino/received_events",
         "repos_url" : "https://api.github.com/users/Levino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Levino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Levino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Levino"
      }
   }
]
