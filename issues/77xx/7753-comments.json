[
   {
      "body" : "I was planning to submit a pull request to change this kind of *notifications*. The current solution is not very elegant and doesn't scale. The command line arguments should be clean.\r\n\r\nSo if you don't mind I'll try to explain here the idea using this example:\r\n\r\nUsage: `-notify \"mempool ! json ! zmqpub address=tcp://127.0.0.1:28332\"`\r\n\r\nHere the notify argument creates one notification *pipeline* composed by one *source* of events (mempool), one *filter* element to transform the event in json and one *sink* of events (zmqpub), all connected with the operator `!`. There can be more than one notifier configured.\r\n\r\nIs this design, zmq elements are concrete types of sinks. But we could have more, like log to file or pub to nsq queue.\r\n\r\nWe could have *chain* and *wallet* sources for instance. We could have filters to transform to other types.\r\n\r\nWDYT?",
      "created_at" : "2016-03-27T21:52:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202152900",
      "id" : 202152900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-27T22:05:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202152900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "concept ACK",
      "created_at" : "2016-03-27T23:34:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202168895",
      "id" : 202168895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-27T23:34:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202168895",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@promag I'm all for making it more flexible, but what you're proposing sounds like the gstreamer syntax and that's IMO even harder to use than the current arguments. I've needed to do a few media pipelines in my PhD research but never managed to really master it.\r\n\r\nOur basic idea with the ZMQ notifications is that **one** notification system exists. From there on everything (e.g. forward to the notification system of your choice) can be handled by external software. I don't want too much notification-related complexity in core.\r\n\r\nAside, this is the wrong place to discuss this. Let's focus on the software change here. Please create a new issue.",
      "created_at" : "2016-03-28T07:49:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202288790",
      "id" : 202288790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-28T07:55:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202288790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj yes gstreamer all over the comment. I'll move the discussion to a new issue.\r\n\r\nutACK.",
      "created_at" : "2016-03-28T08:09:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202294474",
      "id" : 202294474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-28T08:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202294474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57553425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57553425"
         }
      },
      "body" : "Feels a bit hacky.",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-03-28T08:10:56Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n         AddOneShot(strDest);\n \n #if ENABLE_ZMQ\n-    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs);\n+    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs, &mempool);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57553425",
      "id" : 57553425,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-03-29T11:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57553425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57557447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57557447"
         }
      },
      "body" : "Better suggestions?\r\nAs I see ti there are two alternatives:\r\n- use the global mempool object (ugly)\r\n- pass the mempool in (slightly les ugly)\r\n\r\nAnother option would be to move the instantiation of the CZMQPublishMempoolNotifier(mempool) here. But I'd like as little zmq specific code in init. But it may be the least ugly option.",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-03-28T09:29:09Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n         AddOneShot(strDest);\n \n #if ENABLE_ZMQ\n-    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs);\n+    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs, &mempool);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57557447",
      "id" : 57557447,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-03-29T11:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57557447",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Awesome!\r\nNice work! I hope you have also plans to opensource the ncurses UI.\r\n\r\nSome ideas / conceptual questions:\r\n- How could a listener keep track of the overall mempool size without listening to a fresh start (listening from the beginning when the mempool was at a size of 0), also there is a risk of a delta in case you missed a notification in case you calculate the mempool overall size on the \"listeners side\".\r\n\r\n- would a notification after a significant (every X MB, every X transaction added/removed) in the mempool size or structure make sense?\r\n\r\n- Adding the total mempool size in every mempool notification is probably to much?",
      "created_at" : "2016-03-28T18:31:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202519306",
      "id" : 202519306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-28T18:31:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202519306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57611094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57611094"
         }
      },
      "body" : "I think this implementation approach is reasonable and I also don't see a more elegant way to do this.",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-03-28T18:32:25Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n         AddOneShot(strDest);\n \n #if ENABLE_ZMQ\n-    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs);\n+    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs, &mempool);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57611094",
      "id" : 57611094,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-03-29T11:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57611094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Code Review utACK.",
      "created_at" : "2016-03-28T18:34:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202521016",
      "id" : 202521016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-28T18:34:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202521016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57617043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57617043"
         }
      },
      "body" : "Then I would rename `CreateWithArguments` to just `Create` and move the following from src/init.cpp to `Create`.\r\n\r\n```\r\nif (pzmqNotificationInterface) {\r\n    RegisterValidationInterface(pzmqNotificationInterface);\r\n}\r\n```\r\n\r\n**Edit**:\r\nBecause in your notifier you connect the signals so it also makes sense to connect the remaining signals here.",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-03-28T19:12:27Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n         AddOneShot(strDest);\n \n #if ENABLE_ZMQ\n-    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs);\n+    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs, &mempool);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r57617043",
      "id" : 57617043,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-03-29T11:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57617043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "> Adding the total mempool size in every mempool notification is probably to much?\r\n\r\n:+1: ",
      "created_at" : "2016-03-28T19:14:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202535950",
      "id" : 202535950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-28T19:14:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202535950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "> How could a listener keep track of the overall mempool size without listening to a fresh start (listening from the beginning when the mempool was at a size of 0), also there is a risk of a delta in case you missed a notification in case you calculate the mempool overall size on the \"listeners side\".\r\n\r\nWhat if you use the following sequence:\r\n- Start listening (queue up events)\r\n- Request `getrawmempool`\r\n- Start applying events\r\n\r\nYou may have some duplicates in the first run, e.g., adds which already show up in the mempool requested, removes which were already removed, but I think due to the idempotent nature of the events (just add and remove) the overall state will be the same?\r\n\r\n>  there is a risk of a delta in case you missed a notification\r\n\r\nMissing notifications are a possibiltiy with zmq. But I'd say this is a matter of sizing buffers appropriately, and dedicating a thread to listening to zmq requests.\r\n\r\nTo reliably detect missing notifications we could add sequence numbers to the events, as I think zmq guarantees that events from a single source are delivered in order.\r\n\r\nThen again if we do this we probably want it for all the event types... I actually suggested it for the first zmq proposal.\r\n\r\n> Adding the total mempool size in every mempool notification is probably to much?\r\n\r\nI thought about sending a generic stats packet with every mempool event, but as you can receive tons of them I don't want to make the individual events too big and include things you can compute yourself. But no problems with just the size / # transactions.\r\n\r\n> Nice work! I hope you have also plans to opensource the ncurses UI.\r\n\r\nAbsolutely, I'll open source it soon, will be part of a bc-monitor repo. Eventually I hope to make a tool like [tor-arm](https://www.torproject.org/projects/arm.html.en) (just renamed to nyx IIRC) which allows watching all aspects of a node.",
      "created_at" : "2016-03-29T07:53:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202766457",
      "id" : 202766457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-29T07:58:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202766457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Tested ACK 4e3039b41946ad7bbb1aff6b6df5b1e83348c942\r\nI also think the `addNotifier()`-refactor makes it much cleaner.",
      "created_at" : "2016-03-29T13:03:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-202882163",
      "id" : 202882163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-29T13:03:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202882163",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "lightly tested ACK https://github.com/bitcoin/bitcoin/commit/4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-03-30T14:20:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-203454879",
      "id" : 203454879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-03-30T14:20:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203454879",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58508662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58508662"
         }
      },
      "body" : "I agree, will move that line.\r\n",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-04-05T09:33:41Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n         AddOneShot(strDest);\n \n #if ENABLE_ZMQ\n-    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs);\n+    pzmqNotificationInterface = CZMQNotificationInterface::CreateWithArguments(mapArgs, &mempool);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58508662",
      "id" : 58508662,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 5,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-04-05T09:33:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58508662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58518748"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58518748"
         }
      },
      "body" : "This enum seems to be part of the ZMQ API, so we'll probably want some stability across versions. Things like MPR_EXPIRY and MPR_SIZELIMIT seem quite specific to the existing implementation.",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-04-05T10:56:37Z",
      "diff_hunk" : "@@ -319,6 +321,18 @@ class CInPoint\n     size_t DynamicMemoryUsage() const { return 0; }\n };\n \n+/** Reason why a transaction was removed from the mempool,\n+ * this is passed to the notification signal.\n+ */\n+enum MemPoolRemovalReason {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58518748",
      "id" : 58518748,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 16,
      "path" : "src/txmempool.h",
      "position" : 16,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-04-05T10:56:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58518748",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58519691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58519691"
         }
      },
      "body" : "I would prefer it if the value of the (internal) MemPoolRemovalReason did not leak into the ZMQ protocol, though that can be fixed later by introducing a new enum in the ZMQ definition.",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-04-05T11:05:51Z",
      "diff_hunk" : "@@ -171,3 +177,41 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     int rc = zmq_send_multipart(psocket, \"rawtx\", 5, &(*ss.begin()), ss.size(), 0);\n     return rc == 0;\n }\n+\n+CZMQPublishMempoolNotifier::CZMQPublishMempoolNotifier(CTxMemPool *mempoolIn):\n+    mempool(mempoolIn)\n+{\n+    mempool->NotifyEntryAdded.connect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryAdded, this, _1));\n+    mempool->NotifyEntryRemoved.connect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryRemoved, this, _1, _2));\n+}\n+\n+CZMQPublishMempoolNotifier::~CZMQPublishMempoolNotifier()\n+{\n+    mempool->NotifyEntryAdded.disconnect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryAdded, this, _1));\n+    mempool->NotifyEntryRemoved.disconnect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryRemoved, this, _1, _2));\n+}\n+\n+void CZMQPublishMempoolNotifier::NotifyEntryAdded(const CTxMemPoolEntry &entry)\n+{\n+    LogPrint(\"zmq\", \"zmq: mempool entry added: %s fee=%i size=%i\\n\", entry.GetTx().GetHash().ToString(),\n+            entry.GetFee(), entry.GetTxSize());\n+    uint8_t data[32 + 8 + 4];\n+    WriteHash(&data[0], entry.GetTx().GetHash());\n+    WriteLE64(&data[32], entry.GetFee());\n+    WriteLE32(&data[40], entry.GetTxSize());\n+    int rc = zmq_send_multipart(psocket, \"mempooladded\", 12, data, sizeof(data), 0);\n+    if (rc != 0)\n+        LogPrintf(\"%s: WARNING: zmq send failed with code %i\\n\", __func__, rc);\n+}\n+\n+void CZMQPublishMempoolNotifier::NotifyEntryRemoved(const CTxMemPoolEntry &entry, MemPoolRemovalReason reason)\n+{\n+    LogPrint(\"zmq\", \"zmq: mempool entry removed: %s, reason %i\\n\", entry.GetTx().GetHash().ToString(), (int)reason);\n+    uint8_t data[32 + 1];\n+    WriteHash(&data[0], entry.GetTx().GetHash());\n+    data[32] = reason;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58519691",
      "id" : 58519691,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 79,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 79,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-04-05T11:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58519691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58519885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58519885"
         }
      },
      "body" : "Yes, I'll add another enum here and add a mapping.\r\n",
      "commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "created_at" : "2016-04-05T11:07:32Z",
      "diff_hunk" : "@@ -171,3 +177,41 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     int rc = zmq_send_multipart(psocket, \"rawtx\", 5, &(*ss.begin()), ss.size(), 0);\n     return rc == 0;\n }\n+\n+CZMQPublishMempoolNotifier::CZMQPublishMempoolNotifier(CTxMemPool *mempoolIn):\n+    mempool(mempoolIn)\n+{\n+    mempool->NotifyEntryAdded.connect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryAdded, this, _1));\n+    mempool->NotifyEntryRemoved.connect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryRemoved, this, _1, _2));\n+}\n+\n+CZMQPublishMempoolNotifier::~CZMQPublishMempoolNotifier()\n+{\n+    mempool->NotifyEntryAdded.disconnect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryAdded, this, _1));\n+    mempool->NotifyEntryRemoved.disconnect(boost::bind(&CZMQPublishMempoolNotifier::NotifyEntryRemoved, this, _1, _2));\n+}\n+\n+void CZMQPublishMempoolNotifier::NotifyEntryAdded(const CTxMemPoolEntry &entry)\n+{\n+    LogPrint(\"zmq\", \"zmq: mempool entry added: %s fee=%i size=%i\\n\", entry.GetTx().GetHash().ToString(),\n+            entry.GetFee(), entry.GetTxSize());\n+    uint8_t data[32 + 8 + 4];\n+    WriteHash(&data[0], entry.GetTx().GetHash());\n+    WriteLE64(&data[32], entry.GetFee());\n+    WriteLE32(&data[40], entry.GetTxSize());\n+    int rc = zmq_send_multipart(psocket, \"mempooladded\", 12, data, sizeof(data), 0);\n+    if (rc != 0)\n+        LogPrintf(\"%s: WARNING: zmq send failed with code %i\\n\", __func__, rc);\n+}\n+\n+void CZMQPublishMempoolNotifier::NotifyEntryRemoved(const CTxMemPoolEntry &entry, MemPoolRemovalReason reason)\n+{\n+    LogPrint(\"zmq\", \"zmq: mempool entry removed: %s, reason %i\\n\", entry.GetTx().GetHash().ToString(), (int)reason);\n+    uint8_t data[32 + 1];\n+    WriteHash(&data[0], entry.GetTx().GetHash());\n+    data[32] = reason;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#discussion_r58519885",
      "id" : 58519885,
      "original_commit_id" : "4e3039b41946ad7bbb1aff6b6df5b1e83348c942",
      "original_position" : 79,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 79,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7753",
      "updated_at" : "2016-04-05T11:07:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/58519885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Ok added two commits:\r\n- The first adds a (currently, one to one) mapping between the mempool reasons from the mempool and those on the ZMQ interface.\r\n- The second is a slight refactoring to make all ZMQ publish notifiers register (and unregister) themselves for the events that they want to receive, instead of relying on the events being propagated manually though `CZMQNotificationInterface` @promag",
      "created_at" : "2016-04-06T13:38:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-206377099",
      "id" : 206377099,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-04-06T13:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/206377099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased after #7762",
      "created_at" : "2016-04-19T14:07:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-211936563",
      "id" : 211936563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-04-19T14:07:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211936563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Travis failure seems unrelated\r\n\r\n```\r\nYour test run exceeded 50 minutes. \r\nOne possible solution is to split up your test run.",
      "created_at" : "2016-04-19T15:42:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-211985669",
      "id" : 211985669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-04-19T15:42:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/211985669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Rebased, and changed the enums (both for the mempool and for the zmq protocol) to c++11 enums.",
      "created_at" : "2016-05-12T10:16:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-218716558",
      "id" : 218716558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-05-12T10:16:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218716558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "lightly tested ACK https://github.com/bitcoin/bitcoin/pull/7753/commits/1bbe3660ad9a375e2d2bb8c7fa8f38132774b656",
      "created_at" : "2016-05-12T15:04:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-218785796",
      "id" : 218785796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-05-12T15:04:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218785796",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2016-05-25T16:20:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-221628798",
      "id" : 221628798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-05-25T16:20:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221628798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Still needs rebase.",
      "created_at" : "2016-06-10T09:15:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-225132939",
      "id" : 225132939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-06-10T09:15:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225132939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "ACK.  I have a rebased version of this branch at 'jmcorgan/2016_03_zmq_mempool_notifications'.",
      "created_at" : "2016-08-19T01:50:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-240906989",
      "id" : 240906989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-08-19T01:50:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/240906989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "@jmcorgan feel free to open a PR of your rebases version and take over the lead.",
      "created_at" : "2016-08-19T09:09:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-240967788",
      "id" : 240967788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-08-19T09:09:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/240967788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Continued in #8549 ",
      "created_at" : "2016-08-19T17:08:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-241076298",
      "id" : 241076298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-08-19T17:08:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/241076298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "Closing in favor of #8549",
      "created_at" : "2016-10-18T13:45:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7753#issuecomment-254512164",
      "id" : 254512164,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7753",
      "updated_at" : "2016-10-18T13:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254512164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
