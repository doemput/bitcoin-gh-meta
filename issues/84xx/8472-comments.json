[
   {
      "body" : "utACK 33d15a3a76d073986337adcd62646d93e7ba223f",
      "created_at" : "2016-08-10T05:38:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-238770628",
      "id" : 238770628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-10T05:38:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/238770628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "More ACKs please.",
      "created_at" : "2016-08-22T09:03:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-241353965",
      "id" : 241353965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-22T09:03:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/241353965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "utACK 33d15a3",
      "created_at" : "2016-08-22T11:32:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-241386454",
      "id" : 241386454,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-22T11:32:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/241386454",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "I'd probably use __LINE__ which is defined in the standards, but in practice it probably doesn't matter.",
      "created_at" : "2016-08-29T03:19:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243023929",
      "id" : 243023929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-29T03:19:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243023929",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr `__LINE__` was thought of first, but @theuni raised \"valid\" (but not used yet) use-case (https://botbot.me/freenode/bitcoin-core-dev/2016-08-05/?msg=70857153&page=4):\r\n```\r\nstd::mutex m1;\r\nstd::mutex m2;\r\nLOCK(m1); LOCK(m2);\r\n```\r\nOf course you can use LOCK2 then instead, but...\r\n\r\nUsing `__COUNTER__` allows even this use-case.",
      "created_at" : "2016-08-29T07:22:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243050578",
      "id" : 243050578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-29T07:22:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243050578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik just to clarify, I was being snarky there. I don't think that's a real worry. In fact, 2 locks on the same line would almost certainly be wrong, as they should be std::lock()ed for safety anyway. So either way is fine with me.\r\n\r\nutACK 33d15a3a76d073986337adcd62646d93e7ba223f",
      "created_at" : "2016-08-29T16:18:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243173420",
      "id" : 243173420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-29T16:18:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243173420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni Ah, OK. Then I think we SHOULD use the standard `__LINE__` even if `__COUNTER__` works in all environments...",
      "created_at" : "2016-08-30T09:31:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243384996",
      "id" : 243384996,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-30T09:31:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243384996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Using `__LINE__` would result in a non-obvious error message, I guess. No strong opinion either way.",
      "created_at" : "2016-08-30T13:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243434456",
      "id" : 243434456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-30T13:15:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243434456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "So let's go with `__COUNTER__` and we will see if it is problematic on some systems or if it is de-facto-standard.",
      "created_at" : "2016-08-30T16:39:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243500958",
      "id" : 243500958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-30T16:39:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243500958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Microsoft, gcc and clang implement `__COUNTER__` so I'd say that's good enough.\r\n\r\nWe could even fall back to shadowing if it's not defined?\r\n",
      "created_at" : "2016-08-31T14:56:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243790988",
      "id" : 243790988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-31T14:56:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243790988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Let's try it and see.",
      "created_at" : "2016-08-31T15:14:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-243796959",
      "id" : 243796959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-08-31T15:14:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243796959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "ACK, checked that bitcoind stays the same between 6e6ab2c and 33d15a3.\r\n",
      "created_at" : "2016-09-01T12:41:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8472#issuecomment-244066510",
      "id" : 244066510,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8472",
      "updated_at" : "2016-09-01T12:41:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244066510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
