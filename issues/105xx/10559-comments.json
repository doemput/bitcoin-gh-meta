[
   {
      "body" : "Don't we want to skip fetching a spent coin, e.g. in net_processing.cpp:AlreadyHave ?",
      "created_at" : "2017-06-08T21:09:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307228130",
      "id" : 307228130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-08T21:09:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307228130",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell I think the logic is we don't know if it has been spent or disconnected",
      "created_at" : "2017-06-08T21:17:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307230112",
      "id" : 307230112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-08T21:17:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307230112",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Even if its been disconnected do we really want to fetch it again?",
      "created_at" : "2017-06-08T21:19:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307230571",
      "id" : 307230571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-08T21:19:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307230571",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I don't think it really matters much either way, we're talking about real edge cases:\r\n- a tx being announced to us which recently appeared in a block and has already had its output spent.   And I think we must be talking about a case where a flush happened in between the tx and it's spend otherwise the coin would have been fresh and erased and HaveCoinInCache would never have returned true anyway.\r\n- a disconnected tx which wasn't accepted to the mempool during reorg but is now being reannounced to us.\r\n\r\nMy opinion is that there are pros and cons either way, but the simplicity of having the semantics be the same is the deciding factor.\r\n",
      "created_at" : "2017-06-08T21:27:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307232349",
      "id" : 307232349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-08T21:27:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307232349",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "I think the semantics change should happen.  My doubt is only if AlreadyHave should be using this call; or perhaps one that will also potentially return spent entries.",
      "created_at" : "2017-06-09T01:52:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307273655",
      "id" : 307273655,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-09T01:53:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307273655",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Do you feel like changing `CCoinsViewMemPool::HaveCoin` to also check for non-spentness? I believe that function is in fact not called anywhere, so perhaps it can assert instead. The point is that having a consistent definition everywhere would be nice.",
      "created_at" : "2017-06-09T02:11:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307276253",
      "id" : 307276253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-09T02:11:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307276253",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I agree it is not currently used.  I'm on the fence about changing it, but happy to if that's what everyone else wants.  I feel like the definition is a bit different anyway if it's in the mempool, since you could for instance still create a new transaction that spends that coin which would be accepted (as a replacement).",
      "created_at" : "2017-06-12T15:51:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307831857",
      "id" : 307831857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-12T15:51:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307831857",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos Ok, let's discuss that independently perhaps - it has much less real effect anyway.\r\n\r\nutACK",
      "created_at" : "2017-06-12T18:38:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-307880348",
      "id" : 307880348,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-12T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307880348",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK 525769853efd7796679bf95d069a432df46d8e35",
      "created_at" : "2017-06-25T02:22:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-310877710",
      "id" : 310877710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-25T02:22:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/310877710",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "utACK 5257698",
      "created_at" : "2017-06-26T15:09:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10559#issuecomment-311088368",
      "id" : 311088368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10559",
      "updated_at" : "2017-06-26T15:09:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311088368",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
