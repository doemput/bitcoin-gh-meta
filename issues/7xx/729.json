{
   "assignee" : null,
   "body" : "Currently in the OP_EVAL processing code you have:\r\n\r\n    if (!EvalScriptInner(stack, subscript, txTo, nIn, nHashType, pbegincodehash, pendcodehash, nOpCount, nSigOpCount, fStrictOpEval, nRecurseDepth++))\r\n\r\nThe postfix ++ operator returns the unincremented value of the variable.\r\n\r\nSo my understanding is that (1) this doesn't limit the depth of recursive calls and (2) this does limit the number of non-recursive calls you OP_EVAL you have in one script.\r\n\r\nIn particular (1) implies that that Gavin's example (why wasn't this tested) of \"OP_PUSHDATA {OP_DUP OP_EVAL} OP_DUP OP_EVAL\" should run in an infinite loop (though I haven't tested this).\r\n\r\n&lt;rant>\r\nMore generally, this OP_EVAL is a very large change that clearly hasn't been vetted nearly enough.  It took me all of 70 minutes of looking to find this bug.  You guys are not ready to implement this.  OP_EVAL turns a fundamentally Turing-incomplete langauge with clear termination conditions into what I believe an \"in-principle\" Turing complete language that is only held in check by hacks (which haven't even been implemented properly).\r\n\r\nYou guys need to stop what you are doing and really understand Bitcoin.  In particular you should make a proper specification of the existing scripting language, ideally by creating a formal model of the scripting language.  *Prove* upper bound on the space and time usage of scripts.  Decide what bounds you want to maintain, and only then start defining OP_EVAL, proving that it preserves whatever properties you want your scripting system to have.  OP_IF, OP_CODESEPARATOR, OP_EVAL all have the possibility of interacting complicated ways and you can't just hack the scripting language arbitrarily.\r\n&lt;/rant>",
   "closed_at" : "2012-01-04T23:53:29Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
      "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gavinandresen/followers",
      "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gavinandresen",
      "id" : 331997,
      "login" : "gavinandresen",
      "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
      "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
      "repos_url" : "https://api.github.com/users/gavinandresen/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gavinandresen"
   },
   "comments" : 28,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/729/comments",
   "created_at" : "2011-12-27T02:42:23Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/729/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/729",
   "id" : 2660989,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/729/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 729,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "OP_EVAL doesn't stop recursion",
   "updated_at" : "2012-01-04T23:53:29Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/729",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/852967?v=3",
      "events_url" : "https://api.github.com/users/roconnor/events{/privacy}",
      "followers_url" : "https://api.github.com/users/roconnor/followers",
      "following_url" : "https://api.github.com/users/roconnor/following{/other_user}",
      "gists_url" : "https://api.github.com/users/roconnor/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/roconnor",
      "id" : 852967,
      "login" : "roconnor",
      "organizations_url" : "https://api.github.com/users/roconnor/orgs",
      "received_events_url" : "https://api.github.com/users/roconnor/received_events",
      "repos_url" : "https://api.github.com/users/roconnor/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/roconnor/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/roconnor/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/roconnor"
   }
}
