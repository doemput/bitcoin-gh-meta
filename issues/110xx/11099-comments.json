[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134128377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134128377"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is not correct since it can fail.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-20T22:40:59Z",
      "diff_hunk" : "@@ -1531,6 +1531,21 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"dumpmempool\\n\"\n+            \"\\nDumps to disk the mempool (mempool.dat).\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"dumpmempool\", \"\")\n+            + HelpExampleRpc(\"dumpmempool\", \"\")\n+        );\n+\n+    DumpMempool();\n+    return \"Mempool dumped\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134128377",
      "id" : 134128377,
      "original_commit_id" : "b83be8d2a40e3aa4a1766a86c9a26c4517fea67c",
      "original_position" : 16,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57384353,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134128377",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134128392"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134128392"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove the filename?",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-20T22:41:38Z",
      "diff_hunk" : "@@ -1531,6 +1531,21 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"dumpmempool\\n\"\n+            \"\\nDumps to disk the mempool (mempool.dat).\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134128392",
      "id" : 134128392,
      "original_commit_id" : "b83be8d2a40e3aa4a1766a86c9a26c4517fea67c",
      "original_position" : 9,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57384353,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134128392",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "Suggestion, reword `Add dumpmempool RPC`.",
      "created_at" : "2017-08-20T22:46:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-323616955",
      "id" : 323616955,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-20T22:46:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323616955",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "@promag thanks, updated as for feedback and squashed",
      "created_at" : "2017-08-21T01:45:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-323627960",
      "id" : 323627960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-21T01:45:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323627960",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134171209"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134171209"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sort, move before `getblockchaininfo `.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-21T08:25:29Z",
      "diff_hunk" : "@@ -1552,6 +1568,7 @@ static const CRPCCommand commands[] =\n     { \"blockchain\",         \"gettxoutsetinfo\",        &gettxoutsetinfo,        true,  {} },\n     { \"blockchain\",         \"pruneblockchain\",        &pruneblockchain,        true,  {\"height\"} },\n     { \"blockchain\",         \"verifychain\",            &verifychain,            true,  {\"checklevel\",\"nblocks\"} },\n+    { \"blockchain\",         \"dumpmempool\",            &dumpmempool,            true,  {} },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134171209",
      "id" : 134171209,
      "original_commit_id" : "07d3aacbcb1e17bfe7220ae52eb93d2d51c602dc",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57430762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134171209",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134171514"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134171514"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Missing `{ }`.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-21T08:26:52Z",
      "diff_hunk" : "@@ -1531,6 +1531,22 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"dumpmempool\\n\"\n+            \"\\nDumps to disk the mempool.\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"dumpmempool\", \"\")\n+            + HelpExampleRpc(\"dumpmempool\", \"\")\n+        );\n+\n+    if (!DumpMempool())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134171514",
      "id" : 134171514,
      "original_commit_id" : "07d3aacbcb1e17bfe7220ae52eb93d2d51c602dc",
      "original_position" : 15,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57430762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134171514",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134171596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134171596"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, new line before `return`.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-21T08:27:06Z",
      "diff_hunk" : "@@ -1531,6 +1531,22 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"dumpmempool\\n\"\n+            \"\\nDumps to disk the mempool.\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"dumpmempool\", \"\")\n+            + HelpExampleRpc(\"dumpmempool\", \"\")\n+        );\n+\n+    if (!DumpMempool())\n+        throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to dump mempool to disk\");\n+    return \"Mempool dumped\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134171596",
      "id" : 134171596,
      "original_commit_id" : "07d3aacbcb1e17bfe7220ae52eb93d2d51c602dc",
      "original_position" : 17,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57430762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134171596",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "@promag thanks, updated as for feedback and split in two commits\r\n\r\nre: RPC_INTERNAL_ERROR - didn't immediately found something better, very open to suggestions\r\n\r\nAnything else you would add to the test?",
      "created_at" : "2017-08-21T11:26:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-323719469",
      "id" : 323719469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-21T11:26:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323719469",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "I meant maybe not throw, and have the bool in the response.",
      "created_at" : "2017-08-21T21:37:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-323859945",
      "id" : 323859945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-21T21:37:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323859945",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "I think the condition is exceptional and deserve a throw of an exception & consistent with the other rpcs (though I don't know if there's a more appropriate exception for it)",
      "created_at" : "2017-08-21T22:02:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-323864706",
      "id" : 323864706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-21T22:02:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323864706",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "I almost agree with that if it wasn't the fact that the function doesn't throw.. but I have no strong opinion on that.\r\n\r\nIf the throw stays, then maybe `RPC_MISC_ERROR`. See what causes `RPC_INTERNAL_ERROR`, sound like really bad excpetions.",
      "created_at" : "2017-08-21T22:13:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-323866570",
      "id" : 323866570,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-21T22:13:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/323866570",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134432363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134432363"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not the one to complain about this: but should it be `\"Dumps the mempool to disk\"?",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-22T09:41:38Z",
      "diff_hunk" : "@@ -1531,9 +1531,28 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"dumpmempool\\n\"\n+            \"\\nDumps to disk the mempool.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134432363",
      "id" : 134432363,
      "original_commit_id" : "6df6ce09e454555ee6c2181f3b474ca57826bebd",
      "original_position" : 9,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57720729,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134432363",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134432492"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134432492"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Because this is machine to machine communication, use `true` as ret val at this point?",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-22T09:42:13Z",
      "diff_hunk" : "@@ -1531,9 +1531,28 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"dumpmempool\\n\"\n+            \"\\nDumps to disk the mempool.\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"dumpmempool\", \"\")\n+            + HelpExampleRpc(\"dumpmempool\", \"\")\n+        );\n+\n+    if (!DumpMempool()) {\n+        throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to dump mempool to disk\");\n+    }\n+\n+    return \"Mempool dumped\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134432492",
      "id" : 134432492,
      "original_commit_id" : "6df6ce09e454555ee6c2181f3b474ca57826bebd",
      "original_position" : 19,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57720729,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134432492",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "thanks @jonasschnelli - good points\r\n\r\nadded a commit (which i think should be squashed at some point together with \"Add dumpmempool RPC\")",
      "created_at" : "2017-08-22T12:43:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324014364",
      "id" : 324014364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-22T12:43:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324014364",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134650130"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134650130"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe `RPC_MISC_ERROR`. See what causes `RPC_INTERNAL_ERROR`, sounds like really bad exceptions.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T03:28:21Z",
      "diff_hunk" : "@@ -1531,9 +1531,28 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 0)\n+        throw std::runtime_error(\n+            \"dumpmempool\\n\"\n+            \"\\nDumps the mempool to disk.\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"dumpmempool\", \"\")\n+            + HelpExampleRpc(\"dumpmempool\", \"\")\n+        );\n+\n+    if (!DumpMempool()) {\n+        throw JSONRPCError(RPC_INTERNAL_ERROR, \"Unable to dump mempool to disk\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134650130",
      "id" : 134650130,
      "original_commit_id" : "d6322291ebe8d956c8b904dc39e500e7ec5ae3ea",
      "original_position" : 16,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 57965652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134650130",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "utACK ~~cd0ea487422028bec1f5df62ab4c57909c2bcc90~~\r\n\r\nMaybe add an rational (possible use-cases) to the PR description. ",
      "created_at" : "2017-08-23T10:57:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324294605",
      "id" : 324294605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T15:41:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324294605",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@promag updated the exception, thanks\r\n\r\n@jonasschnelli updated the description. Please note your utACK points to a commit from @TheBlueMatt. GitHub also tells me there's some changes required, should I ignore that?",
      "created_at" : "2017-08-23T11:56:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324306305",
      "id" : 324306305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T11:56:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324306305",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134730881"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134730881"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Use `os.path.join`, so that it works on other operating systems as well.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T12:00:57Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        mempooldat = self.options.tmpdir + \"/node0/regtest/mempool.dat\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134730881",
      "id" : 134730881,
      "original_commit_id" : "79fa1ffe39a42b8a3335d46aa7a8668cfd5ba9ab",
      "original_position" : 32,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58055545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134730881",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731366"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731366"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might use `os.path.isfile` for better readability.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T12:02:57Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        mempooldat = self.options.tmpdir + \"/node0/regtest/mempool.dat\"\n+        assert_raises(OSError, lambda: os.remove(mempooldat))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731366",
      "id" : 134731366,
      "original_commit_id" : "79fa1ffe39a42b8a3335d46aa7a8668cfd5ba9ab",
      "original_position" : 33,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58055545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731366",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731519"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731519"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: No need for assert_equal, you can just `assert dumpmempool()`",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T12:03:43Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        mempooldat = self.options.tmpdir + \"/node0/regtest/mempool.dat\"\n+        assert_raises(OSError, lambda: os.remove(mempooldat))\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert_equal(self.nodes[0].dumpmempool(), True)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731519",
      "id" : 134731519,
      "original_commit_id" : "79fa1ffe39a42b8a3335d46aa7a8668cfd5ba9ab",
      "original_position" : 35,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58055545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731519",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731692"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731692"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think we allow the datadir to be moved while running. The tests should not rely on this.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T12:04:44Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        mempooldat = self.options.tmpdir + \"/node0/regtest/mempool.dat\"\n+        assert_raises(OSError, lambda: os.remove(mempooldat))\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert_equal(self.nodes[0].dumpmempool(), True)\n+        assert_equal(os.path.isfile(mempooldat), True)\n+        os.rename(self.options.tmpdir + \"/node0/regtest\", self.options.tmpdir + \"/node0/regtest_bk\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731692",
      "id" : 134731692,
      "original_commit_id" : "79fa1ffe39a42b8a3335d46aa7a8668cfd5ba9ab",
      "original_position" : 37,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58055545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731692",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731914"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731914"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You might be able to achieve the same error condition by changing the file permissions, though.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T12:05:51Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        mempooldat = self.options.tmpdir + \"/node0/regtest/mempool.dat\"\n+        assert_raises(OSError, lambda: os.remove(mempooldat))\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert_equal(self.nodes[0].dumpmempool(), True)\n+        assert_equal(os.path.isfile(mempooldat), True)\n+        os.rename(self.options.tmpdir + \"/node0/regtest\", self.options.tmpdir + \"/node0/regtest_bk\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134731914",
      "id" : 134731914,
      "in_reply_to_id" : 134731692,
      "original_commit_id" : "79fa1ffe39a42b8a3335d46aa7a8668cfd5ba9ab",
      "original_position" : 37,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58055545,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134731914",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "You might even combine the tests with the existing mempool persist test.",
      "created_at" : "2017-08-23T12:08:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324308923",
      "id" : 324308923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T12:08:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324308923",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke I tried with permissions and didn't work. I couldn't find another way to trigger the error.\r\n\r\nWill address the other feedback now",
      "created_at" : "2017-08-23T12:17:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324311213",
      "id" : 324311213,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T12:17:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324311213",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134795037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134795037"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure what the convention is, or what's best practice, but to me having the `return false` statement within the catch block is more obvious.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T15:58:13Z",
      "diff_hunk" : "@@ -4368,9 +4368,11 @@ void DumpMempool(void)\n         RenameOver(GetDataDir() / \"mempool.dat.new\", GetDataDir() / \"mempool.dat\");\n         int64_t last = GetTimeMicros();\n         LogPrintf(\"Dumped mempool: %gs to copy, %gs to dump\\n\", (mid-start)*0.000001, (last-mid)*0.000001);\n+        return true;\n     } catch (const std::exception& e) {\n         LogPrintf(\"Failed to dump mempool: %s. Continuing anyway.\\n\", e.what());\n     }\n+    return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134795037",
      "id" : 134795037,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 26,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 58129621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134795037",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134795723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134795723"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: PEP8 import ordering please: std library imports first, then local project imports.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T16:00:32Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134795723",
      "id" : 134795723,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 21,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58129621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134795723",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134816629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134816629"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure if this failure test is necessary. If bitcoind can't write to its data directory, I'm sure all kinds of bad things happen.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T17:27:04Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        regtestdir = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat = os.path.join(regtestdir, 'mempool.dat')\n+        assert not os.path.isfile(mempooldat)\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat)\n+        moveddir = os.path.join(self.options.tmpdir, 'node0', 'regtest_bk')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134816629",
      "id" : 134816629,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 38,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58129621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134816629",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "> If the throw stays, then maybe RPC_MISC_ERROR. See what causes RPC_INTERNAL_ERROR, sound like really bad excpetions.\r\n\r\nI think either is fine. bitcoind should always be able to write to its data directory, so I would say failure to do so counts as an internal error.\r\n\r\n> Concept ACK, but I don't like the tests.\r\n\r\nI also don't like the test framework messing with bitcoind's data directory. I don't think the failure testcase is necessary. If bitcoind can't write to its datadirectory, there are more pressing issues than the RPC raising the correct error.\r\n\r\nAgree with @MarcoFalke that it might be a good idea to combine this with the mempool_persist.py test (if it can be done tidily).",
      "created_at" : "2017-08-23T17:30:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324406691",
      "id" : 324406691,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T17:30:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324406691",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134841186"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134841186"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it makes sense to check that there is no file, you dump and there is a file.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T18:57:28Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        regtestdir = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat = os.path.join(regtestdir, 'mempool.dat')\n+        assert not os.path.isfile(mempooldat)\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat)\n+        moveddir = os.path.join(self.options.tmpdir, 'node0', 'regtest_bk')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134841186",
      "id" : 134841186,
      "in_reply_to_id" : 134816629,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 38,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58181568,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134841186",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "@jnewbery thanks, addressed some feedback. \r\n\r\nRe: testing I also don't like messing with the datadir but unless someone has better suggestions the options are keeping it or removing it. \r\n\r\n",
      "created_at" : "2017-08-23T18:57:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324430795",
      "id" : 324430795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T19:01:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324430795",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "> the options are keeping it or removing it.\r\n\r\nI vote for removing it",
      "created_at" : "2017-08-23T19:52:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324443871",
      "id" : 324443871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T19:52:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324443871",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "> bitcoind should always be able to write to its data directory\r\n\r\n@jnewbery `DumpMempool()` ignores failures, treats them irrelevant, hence my initial point of removing the throw in the RPC.",
      "created_at" : "2017-08-23T21:20:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324465985",
      "id" : 324465985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-23T21:20:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324465985",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134876748"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134876748"
         }
      },
      "author_association" : "MEMBER",
      "body" : ">  I think it makes sense to check that there is no file, you dump and there is a file.\r\n\r\nYou do exactly this in the lines above. The comment is about `assert_raises_jsonrpc`, which raises due to the missing datadir. As mentioned earlier, this will likely introduce hard to reproduce test failures now or in the future.\r\n\r\nWith the current flakiness of the test framework in mind I am against adding such a failure test.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T21:32:47Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        regtestdir = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat = os.path.join(regtestdir, 'mempool.dat')\n+        assert not os.path.isfile(mempooldat)\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat)\n+        moveddir = os.path.join(self.options.tmpdir, 'node0', 'regtest_bk')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134876748",
      "id" : 134876748,
      "in_reply_to_id" : 134816629,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 38,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58222394,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134876748",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134877224"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134877224"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What you might try instead is to copy the dumped mempool from node0 to node1 and check that it can be loaded. (The nodes are not connected, but share the same blockchain)\r\n\r\nAnyway, I just noticed you are using a clean blockchain and dump the empty mempool. Might be better to populate it a bit.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T21:35:12Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        regtestdir = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat = os.path.join(regtestdir, 'mempool.dat')\n+        assert not os.path.isfile(mempooldat)\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat)\n+        moveddir = os.path.join(self.options.tmpdir, 'node0', 'regtest_bk')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134877224",
      "id" : 134877224,
      "in_reply_to_id" : 134816629,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 38,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58222394,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134877224",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134879376"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134879376"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "A bit as in 1 transaction is enough? Ã°ÂÂÂ ",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-23T21:45:14Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        regtestdir = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat = os.path.join(regtestdir, 'mempool.dat')\n+        assert not os.path.isfile(mempooldat)\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat)\n+        moveddir = os.path.join(self.options.tmpdir, 'node0', 'regtest_bk')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134879376",
      "id" : 134879376,
      "in_reply_to_id" : 134816629,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 38,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58225360,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134879376",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134994627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134994627"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke I made that change (about to push commit) and moved the test to mempool_persist as advised - however your suggestion still doesn't test the exception so I left that in, can easily remove the last 4 lines of the test if other agrees is better to not have it.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-24T11:53:33Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test mempool dump.\n+\n+By default, bitcoind will dump mempool on shutdown and\n+then reload it on startup. Dump can also happen when requested via RPC.\n+\n+Test is as follows:\n+\n+  - start node0\n+  - check no mempool file exist\n+  - dump mempool and verify it then exists\n+  - move parent directory to cause fail to dump, verify exception\n+\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+import os\n+\n+class MempoolDumpTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        self.log.debug(\"Verify mempool file doesn't exists\")\n+        regtestdir = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat = os.path.join(regtestdir, 'mempool.dat')\n+        assert not os.path.isfile(mempooldat)\n+        self.log.debug(\"Dump mempool to disk\")\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat)\n+        moveddir = os.path.join(self.options.tmpdir, 'node0', 'regtest_bk')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r134994627",
      "id" : 134994627,
      "in_reply_to_id" : 134816629,
      "original_commit_id" : "0ade83e962ff6da0e345ead5ef31cc80d5523f93",
      "original_position" : 38,
      "path" : "test/functional/mempool_dump.py",
      "position" : null,
      "pull_request_review_id" : 58353393,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134994627",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "@MarcoFalke I've merged the tests and added your suggestion \"copy the dumped mempool from node0 to node1 and check that it can be loaded. (The nodes are not connected, but share the same blockchain)\"\r\n\r\nI left in the exception test for now.",
      "created_at" : "2017-08-24T11:55:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-324614261",
      "id" : 324614261,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-24T14:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324614261",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "Updated slightly the tests only: removed the ugly rename of the node directory in favor of using permissions to make it fail in the test\r\n\r\n@MarcoFalke Permissions initially didn't work because there was a rename involved from a tmp file but it works if I use permissions on the tmp file that gets renamed ('mempool.dat.new') so switched to that\r\n\r\nI also removed from the test some redundant asserts re: os.remove doing its job (it already throws if it can't find a file or fails to remove it)\r\n",
      "created_at" : "2017-08-27T20:32:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-325222936",
      "id" : 325222936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-27T20:33:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325222936",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "utACK d0bfa6a11a66a8c08fe2630472546d0e60175fe3\r\n\r\n@jonasschnelli Have your concerns been addressed?",
      "created_at" : "2017-08-28T06:13:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-325268658",
      "id" : 325268658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-28T06:14:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325268658",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135527309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135527309"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Intermediate `regtestdir0` variable not required. `os.path.join()` can take any number of arguments.\r\n\r\nSame for `regtestdir1` below.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-28T13:40:40Z",
      "diff_hunk" : "@@ -85,5 +91,29 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        regtestdir0 = os.path.join(self.options.tmpdir, 'node0', 'regtest')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135527309",
      "id" : 135527309,
      "original_commit_id" : "d0bfa6a11a66a8c08fe2630472546d0e60175fe3",
      "original_position" : 19,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 58945930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135527309",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135527587"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135527587"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Supernit: I like logging in the test script to be 'info' level, so when running the test locally, progress can be seen on the console by default.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-28T13:41:36Z",
      "diff_hunk" : "@@ -85,5 +91,29 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        regtestdir0 = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat0 = os.path.join(regtestdir0, 'mempool.dat')\n+        regtestdir1 = os.path.join(self.options.tmpdir, 'node1', 'regtest')\n+        mempooldat1 = os.path.join(regtestdir1, 'mempool.dat')\n+        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135527587",
      "id" : 135527587,
      "original_commit_id" : "d0bfa6a11a66a8c08fe2630472546d0e60175fe3",
      "original_position" : 23,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 58945930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135527587",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135527790"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135527790"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No need for `time.sleep()` if using `wait_until()` below.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-28T13:42:36Z",
      "diff_hunk" : "@@ -85,5 +91,29 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        regtestdir0 = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat0 = os.path.join(regtestdir0, 'mempool.dat')\n+        regtestdir1 = os.path.join(self.options.tmpdir, 'node1', 'regtest')\n+        mempooldat1 = os.path.join(regtestdir1, 'mempool.dat')\n+        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")\n+        os.remove(mempooldat0)\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat0)\n+\n+        self.log.debug(\"Stop nodes, make node1 use mempool.dat from node0. Verify it has 5 transactions\")\n+        self.stop_nodes()\n+        os.rename(mempooldat0, mempooldat1)\n+        self.nodes.append(self.start_node(1, self.options.tmpdir))\n+        # Give bitcoind a second to reload the mempool\n+        time.sleep(1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135527790",
      "id" : 135527790,
      "original_commit_id" : "d0bfa6a11a66a8c08fe2630472546d0e60175fe3",
      "original_position" : 33,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 58945930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135527790",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135884319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135884319"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Makes sense. Will submit a fix for it",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-29T19:06:33Z",
      "diff_hunk" : "@@ -85,5 +91,29 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        regtestdir0 = os.path.join(self.options.tmpdir, 'node0', 'regtest')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135884319",
      "id" : 135884319,
      "in_reply_to_id" : 135527309,
      "original_commit_id" : "d0bfa6a11a66a8c08fe2630472546d0e60175fe3",
      "original_position" : 19,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 59349078,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135884319",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135884379"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135884379"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "All the other logs in the test are debug. Either we change them all or I don't think it makes sense for me to just change mine.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-29T19:06:45Z",
      "diff_hunk" : "@@ -85,5 +91,29 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        regtestdir0 = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat0 = os.path.join(regtestdir0, 'mempool.dat')\n+        regtestdir1 = os.path.join(self.options.tmpdir, 'node1', 'regtest')\n+        mempooldat1 = os.path.join(regtestdir1, 'mempool.dat')\n+        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135884379",
      "id" : 135884379,
      "in_reply_to_id" : 135527587,
      "original_commit_id" : "d0bfa6a11a66a8c08fe2630472546d0e60175fe3",
      "original_position" : 23,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 59349138,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135884379",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135884452"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135884452"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I thought so too (and indeed it works without time.sleep()) - however the test has that as a pattern and I think we either remove it for the rest of the calls (at least within the same test) or it's inconsistent.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-29T19:07:02Z",
      "diff_hunk" : "@@ -85,5 +91,29 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        regtestdir0 = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat0 = os.path.join(regtestdir0, 'mempool.dat')\n+        regtestdir1 = os.path.join(self.options.tmpdir, 'node1', 'regtest')\n+        mempooldat1 = os.path.join(regtestdir1, 'mempool.dat')\n+        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")\n+        os.remove(mempooldat0)\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat0)\n+\n+        self.log.debug(\"Stop nodes, make node1 use mempool.dat from node0. Verify it has 5 transactions\")\n+        self.stop_nodes()\n+        os.rename(mempooldat0, mempooldat1)\n+        self.nodes.append(self.start_node(1, self.options.tmpdir))\n+        # Give bitcoind a second to reload the mempool\n+        time.sleep(1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135884452",
      "id" : 135884452,
      "in_reply_to_id" : 135527790,
      "original_commit_id" : "d0bfa6a11a66a8c08fe2630472546d0e60175fe3",
      "original_position" : 33,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 59349217,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135884452",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "@jnewbery thanks! Keep in mind we are not doing permissions on the mempool.dat file as that doesn't work (the dump gets done on a tmp file which then replace the mempool.dat and ignores permissions so we are acting on the tmp file instead)",
      "created_at" : "2017-08-29T19:09:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-325765186",
      "id" : 325765186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-29T19:09:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325765186",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135902613"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135902613"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm all for trying to match local style, but there's no benefit in copying bad patterns.\r\n\r\nThe `time.sleep` in L76 should be removed (and the `assert_equal()` in L78 replaced with a `wait_until()`) in a different PR.\r\n\r\nThe `time.sleep` in L85 serves a purpose - the mempool takes a while to load so we want to give it time before asserting it's empty. There's probably a better way of testing this, but we can't just replace the `assert_equal()` with a `wait_until()`.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-08-29T20:28:01Z",
      "diff_hunk" : "@@ -85,5 +91,29 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        regtestdir0 = os.path.join(self.options.tmpdir, 'node0', 'regtest')\n+        mempooldat0 = os.path.join(regtestdir0, 'mempool.dat')\n+        regtestdir1 = os.path.join(self.options.tmpdir, 'node1', 'regtest')\n+        mempooldat1 = os.path.join(regtestdir1, 'mempool.dat')\n+        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")\n+        os.remove(mempooldat0)\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat0)\n+\n+        self.log.debug(\"Stop nodes, make node1 use mempool.dat from node0. Verify it has 5 transactions\")\n+        self.stop_nodes()\n+        os.rename(mempooldat0, mempooldat1)\n+        self.nodes.append(self.start_node(1, self.options.tmpdir))\n+        # Give bitcoind a second to reload the mempool\n+        time.sleep(1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r135902613",
      "id" : 135902613,
      "in_reply_to_id" : 135527790,
      "original_commit_id" : "d0bfa6a11a66a8c08fe2630472546d0e60175fe3",
      "original_position" : 33,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 59370392,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/135902613",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Keep in mind we are not doing permissions on the mempool.dat file as that doesn't work (the dump gets done on a tmp file which then replace the mempool.dat and ignores permissions so we are acting on the tmp file instead)\r\n\r\nAh. Very crafty! Can you add a comment to the test to explain that (`mempool.dat.new` is an implementation detail - it could potentially be changed in future, breaking this test, so a comment would be helpful)",
      "created_at" : "2017-08-29T20:32:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-325794795",
      "id" : 325794795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-29T20:32:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325794795",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery I added the comment and removed the sleep. \r\nI didn't change the logging debug vs info as that imho should be done in a separate PR for all the log statements in the file (i.e. better to be consistent for now)",
      "created_at" : "2017-08-30T00:26:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-325842089",
      "id" : 325842089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-30T00:26:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325842089",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "New commits look great. Can you squash?",
      "created_at" : "2017-08-31T18:51:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326388431",
      "id" : 326388431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-31T18:51:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326388431",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery done, didn't rebase however happy to if needed",
      "created_at" : "2017-08-31T20:12:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326407741",
      "id" : 326407741,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-31T20:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326407741",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "strictly q\nOn Aug 20, 2017 9:46 PM, \"GreenAddress\" <notifications@github.com> wrote:\n\n> @promag <https://github.com/promag> thanks, updated as for feedback and\n> squashed\n>\n> Ã¢ÂÂ\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-323627960>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AVfQPLGwbbeqOskROywlYWaVocTD-14rks5saOFhgaJpZM4O8sJC>\n> .\n>\n",
      "created_at" : "2017-08-31T20:30:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326412144",
      "id" : 326412144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-08-31T20:30:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326412144",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/22532156?v=4",
         "events_url" : "https://api.github.com/users/deno49/events{/privacy}",
         "followers_url" : "https://api.github.com/users/deno49/followers",
         "following_url" : "https://api.github.com/users/deno49/following{/other_user}",
         "gists_url" : "https://api.github.com/users/deno49/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/deno49",
         "id" : 22532156,
         "login" : "deno49",
         "organizations_url" : "https://api.github.com/users/deno49/orgs",
         "received_events_url" : "https://api.github.com/users/deno49/received_events",
         "repos_url" : "https://api.github.com/users/deno49/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/deno49/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/deno49/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/deno49"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r136581173"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136581173"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think the intent of this section of the tests is to verify that the dumped mempool from the `dumpmempool` RPC contains all the transactions. Correct? The way it's written right now doesn't test this. The act of stopping node0 causes it to dump its mempool on shutdown, and hence this test is just a repeat of the test on line 77. I think you need to:\r\n\r\n- run `dumpmempool` on a running node\r\n- move that mempool.dat to a temp location\r\n- shutdown the node\r\n- move the mempool.dat back to the correct location\r\n- start the node\r\n- check that its mempool contains the correct transactions",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-01T14:00:04Z",
      "diff_hunk" : "@@ -85,5 +91,27 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        mempooldat0 = os.path.join(self.options.tmpdir, 'node0', 'regtest', 'mempool.dat')\n+        mempooldat1 = os.path.join(self.options.tmpdir, 'node1', 'regtest', 'mempool.dat')\n+        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")\n+        os.remove(mempooldat0)\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat0)\n+\n+        self.log.debug(\"Stop nodes, make node1 use mempool.dat from node0. Verify it has 5 transactions\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r136581173",
      "id" : 136581173,
      "original_commit_id" : "64d1ad84c10c0023c8c7669c9cb8fdd44f6cae93",
      "original_position" : 26,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 60142981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136581173",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r136581508"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136581508"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: debug message could be clearer. Perhaps:\r\n\r\n```\r\n\"Prevent bitcoind from writing mempool.dat to disk. Verify that `dumpmempool` fails\"\r\n```",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-01T14:01:43Z",
      "diff_hunk" : "@@ -85,5 +91,27 @@ def run_test(self):\n         self.nodes.append(self.start_node(0, self.options.tmpdir))\n         wait_until(lambda: len(self.nodes[0].getrawmempool()) == 5)\n \n+        mempooldat0 = os.path.join(self.options.tmpdir, 'node0', 'regtest', 'mempool.dat')\n+        mempooldat1 = os.path.join(self.options.tmpdir, 'node1', 'regtest', 'mempool.dat')\n+        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")\n+        os.remove(mempooldat0)\n+        assert self.nodes[0].dumpmempool()\n+        assert os.path.isfile(mempooldat0)\n+\n+        self.log.debug(\"Stop nodes, make node1 use mempool.dat from node0. Verify it has 5 transactions\")\n+        self.stop_nodes()\n+        os.rename(mempooldat0, mempooldat1)\n+        self.nodes.append(self.start_node(1, self.options.tmpdir))\n+        wait_until(lambda: len(self.nodes[1].getrawmempool()) == 5)\n+\n+        self.log.debug(\"Force core to fail to save file to disk. Check it errors.\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r136581508",
      "id" : 136581508,
      "original_commit_id" : "64d1ad84c10c0023c8c7669c9cb8fdd44f6cae93",
      "original_position" : 32,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 60142981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136581508",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needed slight rebase changes after #11121 (apologies - I keep making changes to the test_framework API).\r\n\r\nI've done that and pushed here: https://github.com/jnewbery/bitcoin/tree/pr11099 . Feel free to reset your branch onto that commit.",
      "created_at" : "2017-09-01T18:53:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326658130",
      "id" : 326658130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-01T18:53:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326658130",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery thank you! I've updated the PR with your rebase, no need to apologize especially as you did all the work :) ",
      "created_at" : "2017-09-01T19:43:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326668186",
      "id" : 326668186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-01T19:43:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326668186",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK 67d307f606f54a01b8dd6d79ca45d08171d20ccc. Looks great. Thanks for sticking with this.\r\n\r\nExpect Travis to fail (for this and all other PRs) until #11215 is merged.",
      "created_at" : "2017-09-01T19:53:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326670175",
      "id" : 326670175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-01T19:53:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326670175",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r136676253"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136676253"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, add braces. ",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-01T22:31:33Z",
      "diff_hunk" : "@@ -1532,9 +1532,28 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue dumpmempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r136676253",
      "id" : 136676253,
      "original_commit_id" : "67d307f606f54a01b8dd6d79ca45d08171d20ccc",
      "original_position" : 6,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 60254397,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136676253",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/commit/67d307f606f54a01b8dd6d79ca45d08171d20ccc",
      "created_at" : "2017-09-01T23:25:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326703735",
      "id" : 326703735,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-01T23:25:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326703735",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Suggest renaming it to `savemempool` or something.\r\n\r\nThe name `dumpmempool` to me suggested the same outcome as `getrawmempool`...",
      "created_at" : "2017-09-02T06:52:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326726702",
      "id" : 326726702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-02T06:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326726702",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr changed the name, savemempool sounds better to me too.\r\n\r\n@promag added brackets.\r\n\r\ndidn't squash and rename one commit  yet but happy to when people are happy with the changes",
      "created_at" : "2017-09-02T18:49:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326762897",
      "id" : 326762897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-02T18:50:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326762897",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 8ef87d253c88c2e19e875f9fec601159fb6da32f",
      "created_at" : "2017-09-04T16:03:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-326994447",
      "id" : 326994447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-04T16:03:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326994447",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@greenaddress Will review after rebase",
      "created_at" : "2017-09-05T19:18:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-327275841",
      "id" : 327275841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-05T19:18:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327275841",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137089529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137089529"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This return value is not documented. And I think we shouldn't return anything on this rpc.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-05T19:21:57Z",
      "diff_hunk" : "@@ -1532,6 +1532,25 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue savemempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 0) {\n+        throw std::runtime_error(\n+            \"savemempool\\n\"\n+            \"\\nDumps the mempool to disk.\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"savemempool\", \"\")\n+            + HelpExampleRpc(\"savemempool\", \"\")\n+        );\n+    }\n+\n+    if (!DumpMempool()) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Unable to dump mempool to disk\");\n+    }\n+\n+    return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137089529",
      "id" : 137089529,
      "original_commit_id" : "8ef87d253c88c2e19e875f9fec601159fb6da32f",
      "original_position" : 20,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 60712172,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137089529",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137092723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137092723"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove assert.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-05T19:35:57Z",
      "diff_hunk" : "@@ -86,9 +86,9 @@ def run_test(self):\n \n         mempooldat0 = os.path.join(self.options.tmpdir, 'node0', 'regtest', 'mempool.dat')\n         mempooldat1 = os.path.join(self.options.tmpdir, 'node1', 'regtest', 'mempool.dat')\n-        self.log.debug(\"Remove the mempool.dat file. Verify that dumpmempool to disk via RPC re-creates it\")\n+        self.log.debug(\"Remove the mempool.dat file. Verify that savemempool to disk via RPC re-creates it\")\n         os.remove(mempooldat0)\n-        assert self.nodes[0].dumpmempool()\n+        assert self.nodes[0].savemempool()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137092723",
      "id" : 137092723,
      "original_commit_id" : "8ef87d253c88c2e19e875f9fec601159fb6da32f",
      "original_position" : 21,
      "path" : "test/functional/mempool_persist.py",
      "position" : null,
      "pull_request_review_id" : 60715751,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137092723",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137092918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137092918"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, since on failure an exception is raised, on success it can be void.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-05T19:36:53Z",
      "diff_hunk" : "@@ -1532,6 +1532,25 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue savemempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 0) {\n+        throw std::runtime_error(\n+            \"savemempool\\n\"\n+            \"\\nDumps the mempool to disk.\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"savemempool\", \"\")\n+            + HelpExampleRpc(\"savemempool\", \"\")\n+        );\n+    }\n+\n+    if (!DumpMempool()) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Unable to dump mempool to disk\");\n+    }\n+\n+    return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137092918",
      "id" : 137092918,
      "in_reply_to_id" : 137089529,
      "original_commit_id" : "8ef87d253c88c2e19e875f9fec601159fb6da32f",
      "original_position" : 20,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 60715751,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137092918",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137144350"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137144350"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, it appears that many RPCs that perform an action which is expected to succeed return `NullUniValue` on success. See several of the methods in src/rpc/net.cpp for example.",
      "commit_id" : "1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-06T00:05:46Z",
      "diff_hunk" : "@@ -1532,6 +1532,25 @@ UniValue getchaintxstats(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue savemempool(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 0) {\n+        throw std::runtime_error(\n+            \"savemempool\\n\"\n+            \"\\nDumps the mempool to disk.\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"savemempool\", \"\")\n+            + HelpExampleRpc(\"savemempool\", \"\")\n+        );\n+    }\n+\n+    if (!DumpMempool()) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Unable to dump mempool to disk\");\n+    }\n+\n+    return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#discussion_r137144350",
      "id" : 137144350,
      "in_reply_to_id" : 137089529,
      "original_commit_id" : "8ef87d253c88c2e19e875f9fec601159fb6da32f",
      "original_position" : 20,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 60773734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11099",
      "updated_at" : "2017-09-06T07:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137144350",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rebased & squashed  and reworded the second commit to the new `savemempool` name - a lot of thanks for all feedback\r\n\r\n@promag @jnewbery @MarcoFalke I changed the return value to NullUniValue (and accordingly updated the test)",
      "created_at" : "2017-09-06T07:52:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-327404777",
      "id" : 327404777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-06T07:52:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327404777",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 1aa97ee.",
      "created_at" : "2017-09-06T12:44:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-327471567",
      "id" : 327471567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-06T12:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327471567",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 1aa97ee088ea03dd208be054c5ad9198c1f13329",
      "created_at" : "2017-09-06T19:29:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-327589084",
      "id" : 327589084,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-06T19:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327589084",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@greenaddress Thanks for sticking with the pull. Quite a pain to go through so much review iterations.",
      "created_at" : "2017-09-06T20:52:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-327609446",
      "id" : 327609446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-06T20:52:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327609446",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Quite a pain to go through so much review iterations.\r\n\r\nYou mean fun? :trollface: ",
      "created_at" : "2017-09-06T21:03:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11099#issuecomment-327612111",
      "id" : 327612111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11099",
      "updated_at" : "2017-09-06T21:03:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327612111",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
