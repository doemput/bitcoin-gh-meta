{
   "assignee" : null,
   "assignees" : [],
   "body" : "I've been trying to sync testnet for a few weeks now. It keeps getting stuck. The logs are full of messages about \"stalling block download\".\r\n\r\nHere's an example:\r\n\r\n    2017-08-12 21:59:29 Loaded 31249 addresses from peers.dat  144ms\r\n    2017-08-12 21:59:29 init message: Loading banlist...\r\n    2017-08-12 21:59:30 init message: Starting network threads...\r\n    2017-08-12 21:59:30 net thread start\r\n    2017-08-12 21:59:30 dnsseed thread start\r\n    2017-08-12 21:59:30 addcon thread start\r\n    2017-08-12 21:59:30 init message: Done loading\r\n    2017-08-12 21:59:30 msghand thread start\r\n    2017-08-12 21:59:30 opencon thread start\r\n    2017-08-12 21:59:30 GUI: Platform customization: \"other\"\r\n    2017-08-12 21:59:30 GUI: PaymentServer::LoadRootCAs: Loaded  170  root certificates\r\n    2017-08-12 21:59:30 receive version message: /Satoshi:0.13.2/: version 70015, blocks=1176613, us=<my-ip>:32239, peer=0\r\n    2017-08-12 21:59:31 receive version message: /Satoshi:0.13.2/: version 70015, blocks=1176613, us=<my-ip>:15189, peer=1\r\n    2017-08-12 21:59:32 ProcessMessages(version, 102 bytes) FAILED peer=2\r\n    2017-08-12 21:59:32 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:16892, peer=3\r\n    2017-08-12 21:59:33 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:29573, peer=4\r\n    2017-08-12 21:59:33 Peer=0 is stalling block download, disconnecting\r\n    2017-08-12 21:59:34 receive version message: /Satoshi:0.14.0/: version 70015, blocks=1176613, us=<my-ip>:29163, peer=5\r\n    2017-08-12 21:59:34 connect() to [2602:306:3718:2560:31c5:6402:4150:fe74]:18333 failed: Network is unreachable (101)\r\n    2017-08-12 21:59:35 connect() to [2001:0:9d38:6abd:3c72:2f62:f5ff:fffb]:18333 failed: Network is unreachable (101)\r\n    2017-08-12 21:59:35 Peer=1 is stalling block download, disconnecting\r\n    2017-08-12 21:59:35 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:13541, peer=6\r\n    2017-08-12 21:59:36 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:31431, peer=7\r\n    2017-08-12 21:59:37 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:16946, peer=8\r\n    2017-08-12 21:59:37 receive version message: /Satoshi:0.14.1(UASF-SegWit-BIP148)/: version 70015, blocks=1176613, us=<my-ip>:1524, peer=9\r\n    2017-08-12 21:59:38 Peer=3 is stalling block download, disconnecting\r\n    2017-08-12 21:59:40 Peer=4 is stalling block download, disconnecting\r\n    2017-08-12 21:59:41 P2P peers available. Skipped DNS seeding.\r\n    2017-08-12 21:59:41 dnsseed thread exit\r\n    2017-08-12 21:59:42 Peer=5 is stalling block download, disconnecting\r\n    2017-08-12 21:59:44 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:19638, peer=10\r\n    2017-08-12 21:59:44 Peer=6 is stalling block download, disconnecting\r\n    2017-08-12 21:59:46 Peer=7 is stalling block download, disconnecting\r\n    2017-08-12 21:59:48 Peer=8 is stalling block download, disconnecting\r\n    2017-08-12 21:59:50 receive version message: /Satoshi:0.14.1/: version 70015, blocks=1176613, us=<my-ip>:31236, peer=11\r\n    2017-08-12 21:59:50 Peer=9 is stalling block download, disconnecting\r\n    2017-08-12 21:59:52 Peer=10 is stalling block download, disconnecting\r\n    2017-08-12 21:59:56 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:1951, peer=12\r\n    2017-08-12 21:59:57 receive version message: /Satoshi:0.13.2/: version 70015, blocks=1176613, us=<my-ip>:17679, peer=13\r\n    2017-08-12 21:59:57 receive version message: /Satoshi:0.14.0/: version 70015, blocks=1176613, us=<my-ip>:12698, peer=14\r\n    2017-08-12 21:59:58 connect() to [2001:0:9d38:6ab8:2c22:7efc:46f0:c0b2]:18333 failed: Network is unreachable (101)\r\n    2017-08-12 21:59:59 Peer=11 is stalling block download, disconnecting\r\n    2017-08-12 21:59:59 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:14820, peer=15\r\n    2017-08-12 21:59:59 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176613, us=<my-ip>:22808, peer=16\r\n    2017-08-12 22:00:00 receive version message: /Satoshi:0.13.0/: version 70014, blocks=1176614, us=<my-ip>:18306, peer=17\r\n    2017-08-12 22:00:01 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176614, us=<my-ip>:13932, peer=18\r\n    2017-08-12 22:00:01 Peer=12 is stalling block download, disconnecting\r\n    2017-08-12 22:00:01 connect() to [2001:0:5ef5:79fd:2826:209:d9b2:d42f]:18333 failed: Network is unreachable (101)\r\n    2017-08-12 22:00:03 Peer=13 is stalling block download, disconnecting\r\n    2017-08-12 22:00:05 Peer=14 is stalling block download, disconnecting\r\n    2017-08-12 22:00:07 connect() to [2001:0:9d38:90d7:3060:a2:ace1:d935]:18333 failed: Network is unreachable (101)\r\n    2017-08-12 22:00:07 Peer=15 is stalling block download, disconnecting\r\n    2017-08-12 22:00:08 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176614, us=<my-ip>:6427, peer=19\r\n    2017-08-12 22:00:09 receive version message: /Satoshi:0.14.0/: version 70015, blocks=1176614, us=<my-ip>:4919, peer=20\r\n    2017-08-12 22:00:09 receive version message: /Satoshi:0.13.0/: version 70014, blocks=1096309, us=<my-ip>:15127, peer=21\r\n    2017-08-12 22:00:09 Peer=16 is stalling block download, disconnecting\r\n    2017-08-12 22:00:10 receive version message: /Satoshi:0.14.1/: version 70015, blocks=1176614, us=<my-ip>:28165, peer=22\r\n    2017-08-12 22:00:11 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176614, us=<my-ip>:17486, peer=23\r\n    2017-08-12 22:00:11 receive version message: /Satoshi:0.13.2/: version 70015, blocks=1176614, us=<my-ip>:25716, peer=24\r\n    2017-08-12 22:00:12 Peer=17 is stalling block download, disconnecting\r\n    2017-08-12 22:00:12 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176614, us=<my-ip>:22900, peer=25\r\n    2017-08-12 22:00:14 Peer=18 is stalling block download, disconnecting\r\n    2017-08-12 22:00:16 Peer=19 is stalling block download, disconnecting\r\n    2017-08-12 22:00:18 Peer=20 is stalling block download, disconnecting\r\n\r\nI built from source on Linux, against tag `v0.14.2`.\r\n\r\nThree minutes later I've still not made any progress:\r\n\r\n    2017-08-12 22:02:56 Peer=74 is stalling block download, disconnecting\r\n    2017-08-12 22:02:57 receive version message: /Satoshi:0.13.99/: version 70015, blocks=1176617, us=<my-ip>:18117, peer=77\r\n    2017-08-12 22:02:59 Peer=75 is stalling block download, disconnecting\r\n    2017-08-12 22:03:01 Peer=76 is stalling block download, disconnecting\r\n    2017-08-12 22:03:03 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176617, us=<my-ip>:22069, peer=78\r\n    2017-08-12 22:03:04 receive version message: /bcoin:v1.0.0-beta.12/: version 70015, blocks=1166749, us=<my-ip>:26790, peer=79\r\n    2017-08-12 22:03:05 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176617, us=<my-ip>:29893, peer=80\r\n    2017-08-12 22:03:05 Peer=77 is stalling block download, disconnecting\r\n    2017-08-12 22:03:05 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176617, us=<my-ip>:13425, peer=81\r\n    2017-08-12 22:03:06 connect() to [2003:78:ef5f:4c00:55ab:d1f0:9b1d:ca53]:18333 failed: Network is unreachable (101)\r\n    2017-08-12 22:03:07 Peer=78 is stalling block download, disconnecting\r\n    2017-08-12 22:03:07 receive version message: /Satoshi:0.14.2/: version 70015, blocks=1176617, us=<my-ip>:29658, peer=82\r\n    2017-08-12 22:03:09 Peer=80 is stalling block download, disconnecting\r\n    2017-08-12 22:03:12 Peer=81 is stalling block download, disconnecting\r\n    2017-08-12 22:03:14 Peer=79 is stalling block download, disconnecting\r\n\r\nIs this a problem with testnet? With having segregated witness activated? With my Internet being a bit laggy?",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11037/comments",
   "created_at" : "2017-08-12T22:04:35Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11037/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/11037",
   "id" : 249838021,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "id" : 98298007,
         "name" : "P2P",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11037/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 11037,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "trying to sync new testnet node - failing due to \"stalling block download\"",
   "updated_at" : "2017-08-12T22:18:12Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11037",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
      "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
      "followers_url" : "https://api.github.com/users/dooglus/followers",
      "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
      "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/dooglus",
      "id" : 573356,
      "login" : "dooglus",
      "organizations_url" : "https://api.github.com/users/dooglus/orgs",
      "received_events_url" : "https://api.github.com/users/dooglus/received_events",
      "repos_url" : "https://api.github.com/users/dooglus/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/dooglus"
   }
}
