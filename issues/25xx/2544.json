{
   "assignee" : null,
   "body" : "source : https://bitcointalk.org/index.php?topic=178657\r\nusing: 0.8.1 (same in 0.7.1)\r\nwallet.dat: old wallet created in 0.3.22 never explicitly upgraded.\r\n\r\nbitcoind accepts to use this wallet without warning, which is what I expect.\r\n\r\nbut then, getaddressesbyaccount \"\",  lists bunch of addresses some of which I have the private keys, BUT SOME OF WHICH I DON'T (in fact it lists addresses to which I sent btcs from this wallet in the past).\r\n\r\nI sent 10 btcs from vircurex to an old bitcointorrentz address which was somehow listed as my own address in my wallet, because of this.\r\n\r\nI suggest that getaddressesbyaccount actually verify that the wallet contains the private key before listing the address. I can't imagine the other behaviour being desirable.\r\n\r\nI hope this is useful. unfortunately I can't provide my wallet (and can't produce an empty wallet corrupted the same way), but I'll be happy to verify something if you need me to. just respond to my forum post above or pm me.\r\n",
   "closed_at" : "2016-02-09T15:44:21Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2544/comments",
   "created_at" : "2013-04-21T11:07:58Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2544/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/2544",
   "id" : 13447636,
   "labels" : [
      {
         "color" : "FBBAAB",
         "name" : "Bug",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      },
      {
         "color" : "02d7e1",
         "name" : "Wallet",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2544/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 2544,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "getaddressesbyaccount lists addresses with no private keys in a corrupted wallet",
   "updated_at" : "2016-02-09T15:44:21Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2544",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/4215458?v=3",
      "events_url" : "https://api.github.com/users/gurcani/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gurcani/followers",
      "following_url" : "https://api.github.com/users/gurcani/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gurcani/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gurcani",
      "id" : 4215458,
      "login" : "gurcani",
      "organizations_url" : "https://api.github.com/users/gurcani/orgs",
      "received_events_url" : "https://api.github.com/users/gurcani/received_events",
      "repos_url" : "https://api.github.com/users/gurcani/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gurcani/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gurcani/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gurcani"
   }
}
