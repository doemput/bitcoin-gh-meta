[
   {
      "body" : "Is it just reindex that is slower or also sync from a node?\r\n\r\nCan you try before and after #7917?",
      "created_at" : "2016-06-23T10:51:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8245#issuecomment-228014866",
      "id" : 228014866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8245",
      "updated_at" : "2016-06-23T10:52:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228014866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I am pretty sure I tested #7917 back when the pull was open and I could not find any performance issues, even when switching back and forth versions of bitcoin core during the reindex.",
      "created_at" : "2016-06-23T11:51:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8245#issuecomment-228026935",
      "id" : 228026935,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8245",
      "updated_at" : "2016-06-23T11:51:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228026935",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "I'm not convinced it's actually a regression. Maybe we're so used to always running with large dbcache that we're now surprised to slow it is with the default setting.",
      "created_at" : "2016-06-23T13:46:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8245#issuecomment-228054989",
      "id" : 228054989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8245",
      "updated_at" : "2016-06-23T13:46:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228054989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I've been extensively testing on Windows 10 today and seeing slow synchronization (not reindex):\r\n```\r\n2016-06-23 13:50:19 UpdateTip: new best=00000000000000000412bc1fa22a035f7f7f545586ce52ea1292883d65ef3f50 height=356958 version=0x00000002 log2_work=82.801074 tx=69031401 date='2015-05-18 07:51:33' progress=0.622482 cache=58.3MiB(15614tx)\r\n2016-06-23 13:50:23 UpdateTip: new best=0000000000000000020fa4b30a53a44debf3600ebb14d1a6561e2eebd575ef2b height=356959 version=0x00000002 log2_work=82.80111 tx=69031724 date='2015-05-18 07:56:13' progress=0.622486 cache=59.2MiB(16110tx)\r\n2016-06-23 13:50:29 UpdateTip: new best=000000000000000009bff6a73f74d1efd4c0945af0ed528e2492624ccc1044e5 height=356960 version=0x00000002 log2_work=82.801146 tx=69032017 date='2015-05-18 08:00:57' progress=0.622490 cache=61.7MiB(16665tx)\r\n2016-06-23 13:50:41 UpdateTip: new best=000000000000000002b15055f17bf9e876914bf9566abab8c6a165968277c45e height=356961 version=0x00000002 log2_work=82.801182 tx=69032559 date='2015-05-18 08:09:30' progress=0.622496 cache=62.7MiB(17738tx)\r\n2016-06-23 13:50:51 UpdateTip: new best=000000000000000008a24b93ffab49d39694083fef5f6b9d24b69cfe5e0280d2 height=356962 version=0x00000002 log2_work=82.801218 tx=69032746 date='2015-05-18 08:22:59' progress=0.622503 cache=63.3MiB(18316tx)\r\n2016-06-23 13:51:19 UpdateTip: new best=00000000000000000229d3b9297140d003994cde00e0a726f6e55c6b95561fe0 height=356963 version=0x00000002 log2_work=82.801253 tx=69033878 date='2015-05-18 08:30:59' progress=0.622512 cache=0.3MiB(0tx)\r\n2016-06-23 13:51:43 UpdateTip: new best=000000000000000015de74fe80f877a5aba32735b0d6841ff0d146ff758b81d3 height=356964 version=0x00000002 log2_work=82.801289 tx=69035054 date='2015-05-18 08:52:19' progress=0.622528 cache=11.2MiB(3029tx)\r\n2016-06-23 13:52:08 UpdateTip: new best=0000000000000000110f9a8d5ebca55b992e014a0084b35ad11f0ac91d1a4278 height=356965 version=0x00000003 log2_work=82.801325 tx=69036009 date='2015-05-18 09:09:32' progress=0.622540 cache=27.3MiB(5363tx)\r\n2016-06-23 13:52:28 UpdateTip: new best=0000000000000000086225a6554b82a687c93ed4abd8c37019c2f9e95ad9a25f height=356966 version=0x00000003 log2_work=82.801361 tx=69036664 date='2015-05-18 09:13:56' progress=0.622546 cache=33.6MiB(7050tx)\r\n2016-06-23 13:52:37 Pre-allocating up to position 0x400000 in rev00270.dat\r\n2016-06-23 13:52:37 UpdateTip: new best=000000000000000001de8968d633c5b0c3bc77d2fcd377d8ede0c5be42abcdea height=356967 version=0x00000002 log2_work=82.801397 tx=69037153 date='2015-05-18 09:21:13' progress=0.622552 cache=36.0MiB(7975tx)\r\n2016-06-23 13:53:25 UpdateTip: new best=00000000000000000293fce0cb9f6afc49b3f307ef5ca556617fd182a030db59 height=356968 version=0x00000003 log2_work=82.801433 tx=69038601 date='2015-05-18 09:45:21' progress=0.622570 cache=57.1MiB(11507tx)\r\n2016-06-23 13:53:25 UpdateTip: new best=000000000000000000555586c55daec4ae63c90a725e98dd76212d62e5b8ad52 height=356969 version=0x00000002 log2_work=82.801469 tx=69038602 date='2015-05-18 09:46:44' progress=0.622570 cache=57.1MiB(11508tx)\r\n```\r\nNow, this is a slow laptop, and it's never been really fast, but some blocks take more than 20 seconds. I've had faster sync times on crappy ARM boxes.\r\n\r\nEdit: it is possible that this is due to another process interfering with disk access, and unrelated to any change, see #8250",
      "created_at" : "2016-06-23T13:57:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8245#issuecomment-228058232",
      "id" : 228058232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8245",
      "updated_at" : "2016-06-23T19:26:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228058232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "If you want some anecdotal evidence...\r\n\r\nI just filled up my old SSD and got a new SSD that I synced to the block chain from scratch. It seemed to run fine until we got in to the range of a half year, or maybe year, left, at which point my disk started thrashing so hard it would end up freezing up my Xubuntu 16.04 install and I'd need to hard cycle power on the computer. This happened repeatedly. Raising dbcache solved the problem for me. I think there's just got to be so many transactions lately the default setting does need to go up.\r\n\r\nEDIT: for clarification, this was while `--reindex`ing blocks on disk.",
      "created_at" : "2016-07-05T17:37:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8245#issuecomment-230547786",
      "id" : 230547786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8245",
      "updated_at" : "2016-07-05T17:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/230547786",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/255776?v=3",
         "events_url" : "https://api.github.com/users/grant-olson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/grant-olson/followers",
         "following_url" : "https://api.github.com/users/grant-olson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/grant-olson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/grant-olson",
         "id" : 255776,
         "login" : "grant-olson",
         "organizations_url" : "https://api.github.com/users/grant-olson/orgs",
         "received_events_url" : "https://api.github.com/users/grant-olson/received_events",
         "repos_url" : "https://api.github.com/users/grant-olson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/grant-olson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/grant-olson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/grant-olson"
      }
   },
   {
      "body" : "Anything left to do here?",
      "created_at" : "2016-07-08T16:45:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8245#issuecomment-231410663",
      "id" : 231410663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8245",
      "updated_at" : "2016-07-08T16:45:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/231410663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Time to close this. I suppose there is enough possible to be done to speed up the sync process (no more low-hanging fruit, though), but  as intermediate step (#8273) has been taken for 0.13.0 and there doesn't seem to be an issue besides 'newer blocks are more expensive to verify', there's no need to keep this issue open for it.\r\n",
      "created_at" : "2016-07-11T09:59:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8245#issuecomment-231692184",
      "id" : 231692184,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8245",
      "updated_at" : "2016-07-11T09:59:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/231692184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
