{
   "assignee" : null,
   "assignees" : [],
   "body" : "I'm attempting to build Bitcoin 0.12.1 on Fedora 24, which includes GCC 6.1.1.\r\n\r\nWhile the code appears to build correctly, `make check` fails on `test_bitcoin`. The `test-suite.log` shows 85 test failures, all with this particular assertion failing. A representative sample:\r\n\r\n```\r\nterminate called without an active exception\r\nRunning 183 test cases...\r\nunknown location(0): fatal error: in \"reverselock_tests/reverselock_errors\": signal: SIGABRT (application abort requested)\r\ntest/reverselock_tests.cpp(50): last checkpoint\r\ntest_bitcoin: key.cpp:305: void ECC_Start(): Assertion `secp256k1_context_sign == NULL' failed.\r\nunknown location(0): fatal error: in \"rpc_tests/rpc_rawparams\": signal: SIGABRT (application abort requested)\r\ntest/rpc_tests.cpp(53): last checkpoint: \"rpc_rawparams\" fixture entry.\r\ntest_bitcoin: key.cpp:305: void ECC_Start(): Assertion `secp256k1_context_sign == NULL' failed.\r\nunknown location(0): fatal error: in \"rpc_tests/rpc_rawsign\": signal: SIGABRT (application abort requested)\r\ntest/rpc_tests.cpp(95): last checkpoint: \"rpc_rawsign\" fixture entry.\r\ntest_bitcoin: key.cpp:305: void ECC_Start(): Assertion `secp256k1_context_sign == NULL' failed.\r\n\r\n...\r\n\r\n*** 85 failures are detected in the test module \"Bitcoin Test Suite\"\r\nFAIL test/test_bitcoin (exit status: 201)\r\n```\r\n\r\nThe failure occurs on both 32-bit and 64-bit. The 64-bit configuration is:\r\n\r\n`'--build=x86_64-redhat-linux-gnu' '--host=x86_64-redhat-linux-gnu' '--program-prefix=' '--disable-dependency-tracking' '--prefix=/usr' '--exec-prefix=/usr' '--bindir=/usr/bin' '--sbindir=/usr/sbin' '--sysconfdir=/etc' '--datadir=/usr/share' '--includedir=/usr/include' '--libdir=/usr/lib64' '--libexecdir=/usr/libexec' '--localstatedir=/var' '--sharedstatedir=/var/lib' '--mandir=/usr/share/man' '--infodir=/usr/share/info' '--enable-reduce-exports' '--enable-glibc-back-compat' 'build_alias=x86_64-redhat-linux-gnu' 'host_alias=x86_64-redhat-linux-gnu' 'CXXFLAGS=-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic' 'LDFLAGS=-Wl,-z,relro -specs=/usr/lib/rpm/redhat/redhat-hardened-ld' 'CFLAGS=-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic' 'PKG_CONFIG_PATH=:/usr/lib64/pkgconfig:/usr/share/pkgconfig' --disable-shared --with-pic --with-bignum=no --enable-module-recovery`\r\n\r\nThe 32-bit configuration is:\r\n\r\n`'--build=i686-redhat-linux-gnu' '--host=i686-redhat-linux-gnu' '--program-prefix=' '--disable-dependency-tracking' '--prefix=/usr' '--exec-prefix=/usr' '--bindir=/usr/bin' '--sbindir=/usr/sbin' '--sysconfdir=/etc' '--datadir=/usr/share' '--includedir=/usr/include' '--libdir=/usr/lib' '--libexecdir=/usr/libexec' '--localstatedir=/var' '--sharedstatedir=/var/lib' '--mandir=/usr/share/man' '--infodir=/usr/share/info' '--enable-reduce-exports' '--enable-glibc-back-compat' 'build_alias=i686-redhat-linux-gnu' 'host_alias=i686-redhat-linux-gnu' 'CXXFLAGS=-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m32 -march=i686 -mtune=atom -fasynchronous-unwind-tables' 'LDFLAGS=-Wl,-z,relro -specs=/usr/lib/rpm/redhat/redhat-hardened-ld' 'CFLAGS=-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m32 -march=i686 -mtune=atom -fasynchronous-unwind-tables' 'PKG_CONFIG_PATH=:/usr/lib/pkgconfig:/usr/share/pkgconfig' --disable-shared --with-pic --with-bignum=no --enable-module-recovery`",
   "closed_at" : "2016-08-24T04:53:11Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/198207?v=3",
      "events_url" : "https://api.github.com/users/error10/events{/privacy}",
      "followers_url" : "https://api.github.com/users/error10/followers",
      "following_url" : "https://api.github.com/users/error10/following{/other_user}",
      "gists_url" : "https://api.github.com/users/error10/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/error10",
      "id" : 198207,
      "login" : "error10",
      "organizations_url" : "https://api.github.com/users/error10/orgs",
      "received_events_url" : "https://api.github.com/users/error10/received_events",
      "repos_url" : "https://api.github.com/users/error10/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/error10/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/error10/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/error10"
   },
   "comments" : 18,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8260/comments",
   "created_at" : "2016-06-25T05:25:18Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8260/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/8260",
   "id" : 162264768,
   "labels" : [
      {
         "color" : "5319e7",
         "name" : "Build system",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8260/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 8260,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "test_bitcoin: key.cpp:305: void ECC_Start(): Assertion `secp256k1_context_sign == NULL' failed.",
   "updated_at" : "2016-08-24T04:53:11Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8260",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/198207?v=3",
      "events_url" : "https://api.github.com/users/error10/events{/privacy}",
      "followers_url" : "https://api.github.com/users/error10/followers",
      "following_url" : "https://api.github.com/users/error10/following{/other_user}",
      "gists_url" : "https://api.github.com/users/error10/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/error10",
      "id" : 198207,
      "login" : "error10",
      "organizations_url" : "https://api.github.com/users/error10/orgs",
      "received_events_url" : "https://api.github.com/users/error10/received_events",
      "repos_url" : "https://api.github.com/users/error10/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/error10/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/error10/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/error10"
   }
}
