[
   {
      "author_association" : "MEMBER",
      "body" : "Lags by how much? It's almost an instant response for me.\r\n\r\nAlso, what did you expect? The transaction index (if you have that enabled for `getrawtransaction` to be useful) is massive. It's not exactly going to be a fast operation since it has to search through the entire index to find your nonexistent transaction. Although I have `txindex` enabled on my node and it returned a response almost immediately.",
      "created_at" : "2017-10-16T04:12:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336775987",
      "id" : 336775987,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T04:27:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336775987",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "If it's as intended, that's fine. But large services doing lookups for user-entered inputs will suffer.\r\n\r\nYou can close this if it's not going to be fixed.\r\n\r\nThe issue was introduced in the 0.15.x branch.",
      "created_at" : "2017-10-16T04:15:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336776304",
      "id" : 336776304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T04:18:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336776304",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6928955?v=4",
         "events_url" : "https://api.github.com/users/doersf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/doersf/followers",
         "following_url" : "https://api.github.com/users/doersf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/doersf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/doersf",
         "id" : 6928955,
         "login" : "doersf",
         "organizations_url" : "https://api.github.com/users/doersf/orgs",
         "received_events_url" : "https://api.github.com/users/doersf/received_events",
         "repos_url" : "https://api.github.com/users/doersf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/doersf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/doersf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/doersf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I am unable to reproduce your issue, so it does not even seem like there is an issue here. We can't fix a bug for which we cannot reproduce and have no debugging information for. Please provide more information if you think there is a bug.\r\n\r\nInformation that would be useful: Do you have txindex enabled? How long is the lag?",
      "created_at" : "2017-10-16T04:22:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336777000",
      "id" : 336777000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T04:26:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336777000",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I missed that :)\r\n\r\nLag for a single non-existent transaction is between 0.321s and 0.350s. This is not fine.\r\nLag for a single valid transaction is between 0.004s and 0.005s. Tested with size: 225b. This is fine.\r\n\r\n`txindex` is enabled. Above results hold with and without re-indexing post upgrade to 0.15.\r\n\r\nHighest machine configuration with the above results:\r\n\r\nUbuntu 16.04\r\n8 CPUs\r\n24GB RAM, 10GB free\r\n",
      "created_at" : "2017-10-16T04:36:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336778394",
      "id" : 336778394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T04:59:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336778394",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6928955?v=4",
         "events_url" : "https://api.github.com/users/doersf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/doersf/followers",
         "following_url" : "https://api.github.com/users/doersf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/doersf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/doersf",
         "id" : 6928955,
         "login" : "doersf",
         "organizations_url" : "https://api.github.com/users/doersf/orgs",
         "received_events_url" : "https://api.github.com/users/doersf/received_events",
         "repos_url" : "https://api.github.com/users/doersf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/doersf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/doersf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/doersf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I see. This is a side effect of the new UTXO database structure. The slowdown is on searching the UTXO set for the txid, not on txindex. I think it can be sped up, but that may take a bit of work to do. Because the UTXO database is now keyed on the outpoint (txid hash and output index), we have to search through all possible outpoints for a given txid which is slower than previously which was keyed on only the txid. I'll see if it can be sped up.",
      "created_at" : "2017-10-16T05:03:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336781246",
      "id" : 336781246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T05:03:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336781246",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "This seems expected when you don't have txindex one, but with it it seems easy to avoid.",
      "created_at" : "2017-10-16T05:05:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336781448",
      "id" : 336781448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T05:05:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336781448",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This seems expected when you don't have txindex one, but with it it seems easy to avoid.\r\n\r\nIs it not possible to just search for the prefix of the key (i.e. the txid) instead of the entire key?",
      "created_at" : "2017-10-16T05:19:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336783087",
      "id" : 336783087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T05:19:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336783087",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@doersf Does #11507 fix your problem?",
      "created_at" : "2017-10-16T05:32:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336784622",
      "id" : 336784622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T05:32:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336784622",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@achow101 The UTXO set cache in memory is a hashtable - it does not support searching by prefix.",
      "created_at" : "2017-10-16T05:34:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336784909",
      "id" : 336784909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-16T05:34:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336784909",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@achow101 this is better. The results are now:\r\n\r\nsingle valid txid: 0.004s to 0.005s\r\nsingle non-existent txid: 0.004s to 0.005s\r\n\r\nThis should make 0.15.x production ready for us.",
      "created_at" : "2017-10-16T07:37:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-336804561",
      "id" : 336804561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-17T08:59:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336804561",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6928955?v=4",
         "events_url" : "https://api.github.com/users/doersf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/doersf/followers",
         "following_url" : "https://api.github.com/users/doersf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/doersf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/doersf",
         "id" : 6928955,
         "login" : "doersf",
         "organizations_url" : "https://api.github.com/users/doersf/orgs",
         "received_events_url" : "https://api.github.com/users/doersf/received_events",
         "repos_url" : "https://api.github.com/users/doersf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/doersf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/doersf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/doersf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@doersf Is this fixed now that #11529 is merged? Can you close if that is the case.",
      "created_at" : "2017-10-21T03:06:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-338359729",
      "id" : 338359729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-21T03:06:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338359729",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Things look fine. Thanks!",
      "created_at" : "2017-10-21T03:14:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11506#issuecomment-338360080",
      "id" : 338360080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11506",
      "updated_at" : "2017-10-21T03:14:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338360080",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6928955?v=4",
         "events_url" : "https://api.github.com/users/doersf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/doersf/followers",
         "following_url" : "https://api.github.com/users/doersf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/doersf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/doersf",
         "id" : 6928955,
         "login" : "doersf",
         "organizations_url" : "https://api.github.com/users/doersf/orgs",
         "received_events_url" : "https://api.github.com/users/doersf/received_events",
         "repos_url" : "https://api.github.com/users/doersf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/doersf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/doersf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/doersf"
      }
   }
]
