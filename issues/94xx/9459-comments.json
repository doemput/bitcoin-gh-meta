[
   {
      "body" : "Needs rebase if still relevant",
      "created_at" : "2017-01-04T13:20:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-270368613",
      "id" : 270368613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-04T13:20:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270368613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Rebased. The conflict was in the files:\r\n\r\ncontrib/linearize/linearize-data.py\r\ncontrib/linearize/linearize-hashes.py\r\nshare/rpcuser/rpcuser.py\r\n\r\nFor the three files, the conflict was with 27765b6403cece54320374b37afb01a0cfe571c3 which incremented the end year to 2016.\r\n\r\nFor linearize-data.py and linearize-hashes.py it *also* conflicted with 3c8f63ba7c7be62d462727f4d67633e1064f0f79 which changed the shebang at the top of the file to point to python3",
      "created_at" : "2017-01-07T18:12:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-271099985",
      "id" : 271099985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-07T18:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271099985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20916903?v=3",
         "events_url" : "https://api.github.com/users/isle2983/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isle2983/followers",
         "following_url" : "https://api.github.com/users/isle2983/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isle2983/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isle2983",
         "id" : 20916903,
         "login" : "isle2983",
         "organizations_url" : "https://api.github.com/users/isle2983/orgs",
         "received_events_url" : "https://api.github.com/users/isle2983/received_events",
         "repos_url" : "https://api.github.com/users/isle2983/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isle2983/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isle2983/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isle2983"
      }
   },
   {
      "body" : "Should we check the subdirs like `secp256k1` at all? Regexps like:\r\n\r\n```\r\n+SECP256K1_HOLDERS = [\r\n+    \"Pieter Wuille +\\\\*\",\r\n+    \"Pieter Wuille, Gregory Maxwell +\\\\*\",\r\n+    \"Pieter Wuille, Andrew Poelstra +\\\\*\",\r\n+    \"Andrew Poelstra +\\\\*\",\r\n+    \"Diederik Huys, Pieter Wuille +\\\\*\",\r\n+    \"Thomas Daede, Cory Fields +\\\\*\",\r\n+]\r\n+ANY_SECP256K1_HOLDER = '(%s)' % '|'.join([h for h in SECP256K1_HOLDERS])\r\n```\r\n\r\nare strange to have in Bitcoin Core source tree (even in `contrib` directory)...\r\n",
      "created_at" : "2017-01-08T11:32:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-271145406",
      "id" : 271145406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-08T11:32:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271145406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/9459/commits/b64b1c60000db317d086862f2ca6cd148ea5847f - yes why not unify the headers, maybe for the last time.\r\n\r\nNot sure about the changes to the copyright script though. Should we really be monitoring the copyright headers of subtrees in here? It looks like the script will need constant maintenance when new files are added to the repo, or something changes upstream. ",
      "created_at" : "2017-01-12T14:13:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-272172855",
      "id" : 272172855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-12T14:13:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272172855",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "I am not really sure what the right answer is. It is nice have an automated way to monitor the state of the copyright for code that compiled and used in the repo. But on the other hand, there are ways of doing that in a way that doesn't need the particular validation logic checked into the mainline.\r\n\r\nFor example, as posted in #9459, a suggested workflow for Coverity (a static code analysis tool) is to have a side branch automatically pulling from the mainline that is allowed to go red on CI for a while and then periodically synced up to green with a fixup PR.  https://docs.travis-ci.com/user/coverity-scan/#Build-Submission-Frequency",
      "created_at" : "2017-01-12T17:59:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-272235168",
      "id" : 272235168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-12T17:59:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272235168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20916903?v=3",
         "events_url" : "https://api.github.com/users/isle2983/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isle2983/followers",
         "following_url" : "https://api.github.com/users/isle2983/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isle2983/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isle2983",
         "id" : 20916903,
         "login" : "isle2983",
         "organizations_url" : "https://api.github.com/users/isle2983/orgs",
         "received_events_url" : "https://api.github.com/users/isle2983/received_events",
         "repos_url" : "https://api.github.com/users/isle2983/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isle2983/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isle2983/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isle2983"
      }
   },
   {
      "body" : "ACK https://github.com/bitcoin/bitcoin/pull/9459/commits/b64b1c60000db317d086862f2ca6cd148ea5847f\r\nNACK 1083bad I don't we need the subtree style checking etc.\r\n\r\nIf you drop the second commit, we can merge this, but then let's focus efforts on style/automation changes that we are more likely to see benefits from, such as #9603.",
      "created_at" : "2017-01-21T00:15:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-274213663",
      "id" : 274213663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-21T00:17:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274213663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Yep, the picture of what makes sense is becoming clearer. Agreed that the subtree checking probably won't even make sense in the long run.\r\n\r\nThe new branch keeps b64b1c60000db317d086862f2ca6cd148ea5847f as-is, but revs 1083bad to a new version of the script with all the subtree stuff taken out. The ALWAYS_IGNORE now looks like this:\r\n\r\n```\r\nALWAYS_IGNORE = [\r\n    # empty files for python init:\r\n    '*__init__.py',\r\n    # files in subtrees:\r\n    'src/secp256k1/*',\r\n    'src/leveldb/*',\r\n    'src/univalue/*',\r\n    'src/crypto/ctaes/*',\r\n]\r\n```\r\n\r\nSo, the remaining benefit of the `copyright_header.py` changes over the mainline one are: \r\n\r\n1) proper python regex-based file searching and editing (the mainline version is a bit clumsy in this department)\r\n\r\n2) the `check` subcommand that gives a pointer specific to each file that has an issue and a bash status code for future CI script use.\r\n\r\n3) a different `report` subcommand output which now looks like this:\r\n\r\n```\r\n--------------------------------------------------------------------------------\r\n1465 files tracked according to 'git ls-files'\r\n 556 files examined according to SOURCE_FILES and ALWAYS_IGNORE fnmatch rules\r\n--------------------------------------------------------------------------------\r\nFiles expected to have header:                                     534\r\nFiles not expected to have header:                                  22\r\nFiles not expected to have 'copyright' occurrence outside header:  527\r\nFiles expected to have 'copyright' occurrence outside header:       29\r\nFiles passed:                                                      556\r\nFiles failed:                                                        0\r\n--------------------------------------------------------------------------------\r\n```\r\n\r\n4) a bunch of minor tweaks to bring it in line with a couple things learned from `basic_style.py` in #9603 \r\n\r\nAgain, following from the body of other discussions, there is no rush to fix up the minor headers issues - they aren't hurting anyone in their present state. If there is no rush to merge, I am content letting this PR sit until a larger collection of automation scripts are completed and we can have the bigger CI discussion.",
      "created_at" : "2017-01-23T03:02:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-274388056",
      "id" : 274388056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-23T03:02:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274388056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20916903?v=3",
         "events_url" : "https://api.github.com/users/isle2983/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isle2983/followers",
         "following_url" : "https://api.github.com/users/isle2983/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isle2983/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isle2983",
         "id" : 20916903,
         "login" : "isle2983",
         "organizations_url" : "https://api.github.com/users/isle2983/orgs",
         "received_events_url" : "https://api.github.com/users/isle2983/received_events",
         "repos_url" : "https://api.github.com/users/isle2983/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isle2983/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isle2983/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isle2983"
      }
   },
   {
      "body" : "Needs rebase",
      "created_at" : "2017-01-31T23:52:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-276531664",
      "id" : 276531664,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-01-31T23:52:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276531664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "rebased. `clang-format.py` was removed, so this no longer needs to adjust it's header.\r\n\r\nAlso, this discussion about scripting continues in #9658. This will likely end up being closed once a new PR is put together with some automation of the various checks.",
      "created_at" : "2017-02-01T00:14:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-276535610",
      "id" : 276535610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-02-01T00:14:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276535610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20916903?v=3",
         "events_url" : "https://api.github.com/users/isle2983/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isle2983/followers",
         "following_url" : "https://api.github.com/users/isle2983/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isle2983/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isle2983",
         "id" : 20916903,
         "login" : "isle2983",
         "organizations_url" : "https://api.github.com/users/isle2983/orgs",
         "received_events_url" : "https://api.github.com/users/isle2983/received_events",
         "repos_url" : "https://api.github.com/users/isle2983/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isle2983/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isle2983/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isle2983"
      }
   },
   {
      "body" : "Closing.\r\n\r\nThe plan is to submit script likes this to https://github.com/bitcoin-core/bitcoin-maintainer-tools as that now seems to be the preferred location.\r\n\r\nI will be touching up this script to share some code with the others and submitting it all as a PR there.\r\n\r\nAlso, once that is up the underlying copyright_header.py can probably be removed from `devtools`.",
      "created_at" : "2017-02-02T19:41:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9459#issuecomment-277060773",
      "id" : 277060773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9459",
      "updated_at" : "2017-02-02T19:41:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277060773",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20916903?v=3",
         "events_url" : "https://api.github.com/users/isle2983/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isle2983/followers",
         "following_url" : "https://api.github.com/users/isle2983/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isle2983/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isle2983",
         "id" : 20916903,
         "login" : "isle2983",
         "organizations_url" : "https://api.github.com/users/isle2983/orgs",
         "received_events_url" : "https://api.github.com/users/isle2983/received_events",
         "repos_url" : "https://api.github.com/users/isle2983/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isle2983/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isle2983/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isle2983"
      }
   }
]
