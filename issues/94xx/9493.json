{
   "assignee" : null,
   "assignees" : [],
   "body" : "#9387 added a new test that uses libevent's event_set_mem_functions which is sometimes not included with libevent. In particular, Gentoo only enables this when libevent is installed with the \"debug\" option.\r\n\r\nCurrently, this causes the build to simply fail on tests:\r\n\r\n```\r\ntest/raii_event_tests.cpp: In member function Ã¢ÂÂvoid raii_event_tests::raii_event_creation::test_method()Ã¢ÂÂ:\r\ntest/raii_event_tests.cpp:39:58: error: Ã¢ÂÂevent_set_mem_functionsÃ¢ÂÂ was not declared in this scope\r\n     event_set_mem_functions(tag_malloc, realloc, tag_free);\r\n                                                          ^\r\ntest/raii_event_tests.cpp: In member function Ã¢ÂÂvoid raii_event_tests::raii_event_order::test_method()Ã¢ÂÂ:\r\ntest/raii_event_tests.cpp:68:58: error: Ã¢ÂÂevent_set_mem_functionsÃ¢ÂÂ was not declared in this scope\r\n     event_set_mem_functions(tag_malloc, realloc, tag_free);\r\n                                                          ^\r\nMakefile:8355: recipe for target 'test/test_test_bitcoin-raii_event_tests.o' failed\r\n```\r\n\r\nProbably we should skip this test if libevent doesn't support overriding memory functions.\r\n\r\n(event.h defines EVENT_SET_MEM_FUNCTIONS_IMPLEMENTED if it is available.)",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9493/comments",
   "created_at" : "2017-01-08T21:40:36Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9493/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/9493",
   "id" : 199448961,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 61889416,
         "name" : "Build system",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9493/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 50,
      "created_at" : "2016-06-13T14:18:51Z",
      "creator" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      },
      "description" : "",
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestone/21",
      "id" : 1823680,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/21/labels",
      "number" : 21,
      "open_issues" : 34,
      "state" : "open",
      "title" : "0.14.0",
      "updated_at" : "2017-01-08T21:43:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/21"
   },
   "number" : 9493,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "event_set_mem_functions is not available on all libevents",
   "updated_at" : "2017-01-08T21:43:20Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9493",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
      "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
      "followers_url" : "https://api.github.com/users/luke-jr/followers",
      "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/luke-jr",
      "id" : 1095675,
      "login" : "luke-jr",
      "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
      "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
      "repos_url" : "https://api.github.com/users/luke-jr/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/luke-jr"
   }
}
