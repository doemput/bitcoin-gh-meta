[
   {
      "body" : "Sudden shutdowns (happens quickly with virtual machines) can cause a block (database) corruptions.\r\nWhat you can do in a such case is to delete the `blocks/` and `chainstate/` directory and start Bitcoin-Qt (or bitcoind) again and resync the chain.\r\n\r\nOnce we have something like this (regular incremental UTXO dumps https://github.com/bitcoin/bitcoin/issues/8037), this is probably the simplest and most effective solution (although it takes again a while to re-sync the chain).",
      "created_at" : "2017-01-06T15:55:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-270933994",
      "id" : 270933994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-01-06T15:55:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270933994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "There have been issues in the past with using network shares (which is what VBox shared folders are) as the network share does not always do things properly. See #7981 ",
      "created_at" : "2017-01-06T17:28:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-270956301",
      "id" : 270956301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-01-06T17:28:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270956301",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "I've never seen that network shares are supported for Bitcoin Core database storage, but especially in this case (vboxsf).",
      "created_at" : "2017-01-06T19:24:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-270983455",
      "id" : 270983455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-01-06T19:24:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270983455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "I have a rpi node running in pruned mode seating in front of 1TB NAS (only supporting samba). Decided to run a full node using NAS storage for ` /blocks` ; got the same error described in #7981. Apparently the problem is leveldb not properly supporting cifs.",
      "created_at" : "2017-02-01T19:41:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-276759664",
      "id" : 276759664,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-02-01T19:41:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276759664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25490035?v=3",
         "events_url" : "https://api.github.com/users/juiceayres/events{/privacy}",
         "followers_url" : "https://api.github.com/users/juiceayres/followers",
         "following_url" : "https://api.github.com/users/juiceayres/following{/other_user}",
         "gists_url" : "https://api.github.com/users/juiceayres/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/juiceayres",
         "id" : 25490035,
         "login" : "juiceayres",
         "organizations_url" : "https://api.github.com/users/juiceayres/orgs",
         "received_events_url" : "https://api.github.com/users/juiceayres/received_events",
         "repos_url" : "https://api.github.com/users/juiceayres/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/juiceayres/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/juiceayres/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/juiceayres"
      }
   },
   {
      "body" : "Well, there are issues about SMB too, but this is vboxsf as I mentioned above. I haven't looked, maybe it's a modified Samba protocol. In any case neither of the two is supported.",
      "created_at" : "2017-02-02T02:13:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-276846755",
      "id" : 276846755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-02-02T02:13:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276846755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "What you could do is moving and symlinking just the `blocks` directory to your external storage, and leaving the rest of on the local filesystem. In my experience this works - the part of bitcoin core that have problems with \"weird filesytems\" are BerkelyDB for the wallet and LevelDB for the block index / utxo set. The block storage is based on just dumb files.\r\n\r\n> Let Windows directory G:\\vbshare be shared folder\r\n\r\nJust to be clear as you mention \"shared\": no part of the state should be shared between multiple running instances of Bitcoin Core at any time. This will cause awful corruptions.",
      "created_at" : "2017-02-02T08:43:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-276898968",
      "id" : 276898968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-02-02T08:43:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276898968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Could we have natively support for a different `blocks` path in future? For example `-blocksdir` in config to move the block data elsewhere.",
      "created_at" : "2017-02-02T21:44:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-277093922",
      "id" : 277093922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-02-02T21:44:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277093922",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25490035?v=3",
         "events_url" : "https://api.github.com/users/juiceayres/events{/privacy}",
         "followers_url" : "https://api.github.com/users/juiceayres/followers",
         "following_url" : "https://api.github.com/users/juiceayres/following{/other_user}",
         "gists_url" : "https://api.github.com/users/juiceayres/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/juiceayres",
         "id" : 25490035,
         "login" : "juiceayres",
         "organizations_url" : "https://api.github.com/users/juiceayres/orgs",
         "received_events_url" : "https://api.github.com/users/juiceayres/received_events",
         "repos_url" : "https://api.github.com/users/juiceayres/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/juiceayres/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/juiceayres/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/juiceayres"
      }
   },
   {
      "body" : "Is -datadir; rest data apart from blocks like wallet are small",
      "created_at" : "2017-02-02T21:47:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9482#issuecomment-277094766",
      "id" : 277094766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9482",
      "updated_at" : "2017-02-02T21:47:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277094766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/757493?v=3",
         "events_url" : "https://api.github.com/users/borneq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/borneq/followers",
         "following_url" : "https://api.github.com/users/borneq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/borneq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/borneq",
         "id" : 757493,
         "login" : "borneq",
         "organizations_url" : "https://api.github.com/users/borneq/orgs",
         "received_events_url" : "https://api.github.com/users/borneq/received_events",
         "repos_url" : "https://api.github.com/users/borneq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/borneq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/borneq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/borneq"
      }
   }
]
