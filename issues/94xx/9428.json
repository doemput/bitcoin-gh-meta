{
   "assignee" : null,
   "assignees" : [],
   "body" : "An alternative to #9427. #9427 assumes we wanted to download the block but more efficiently than was being done, whereas this PR assumes we don't need the block at all, until circumstances suggest we do (i.e. it's forming the longer chain).\r\n\r\nTo elaborate:-\r\n\r\nCurrently the logic for compact blocks is that it is now requested unless the work is greater than our current best, whereas the parallel fetch logic will still request blocks with work equal to our current best, which means that for competing blocks we always requested the full block even though we could have used the compact block received.\r\n\r\nRather than utilize the compact block, we don't need to download the block at all (saving disk space) until we are sure that it's part of a longer chain.",
   "closed_at" : "2016-12-26T10:21:28Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9428/comments",
   "created_at" : "2016-12-26T08:17:05Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9428/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/9428",
   "id" : 197555636,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "id" : 98298007,
         "name" : "P2P",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9428/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 9428,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/9428.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9428",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/9428.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9428"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "WIP: Don't download blocks unless they have more work than our current best",
   "updated_at" : "2016-12-26T13:03:49Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9428",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
      "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
      "followers_url" : "https://api.github.com/users/rebroad/followers",
      "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/rebroad",
      "id" : 1530283,
      "login" : "rebroad",
      "organizations_url" : "https://api.github.com/users/rebroad/orgs",
      "received_events_url" : "https://api.github.com/users/rebroad/received_events",
      "repos_url" : "https://api.github.com/users/rebroad/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/rebroad"
   }
}
