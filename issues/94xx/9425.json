{
   "assignee" : null,
   "assignees" : [],
   "body" : "To assist querying keys in the wallet, the key metadata should keep track of what block height ranges it MAY not know the transactions for.\r\n\r\nUpon a full-rescan: all keys should have their 'unscanned' ranges cleared.\r\n\r\nUpon 'pruning' a set of translations in a wallet: all related keys in the wallet should be updated with the appropriate 'unscanned' ranges.\r\n\r\nIf upon opening a wallet the client cannot connect an appropriate hash and rescan (such as when changing wallets on a pruned node).  All keys in the wallet should be set to include the unscanned range upto where then node keeps full-blocks (and can rescan from).\r\n\r\nThe ranges should be conservative so that the wallet can be quite confident that it knows about all the transactions that are not inside the unscanned ranges.  The wallet may also know about transactions that are inside the unscanned ranges.\r\n\r\nNote: Updated upon @sipa 's comments that the wallets already have implement many similar behaviour to what is described.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9425/comments",
   "created_at" : "2016-12-26T07:41:24Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9425/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/9425",
   "id" : 197551335,
   "labels" : [
      {
         "color" : "02d7e1",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9425/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 9425,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "[Wallet] Add set of unscanned-block-height-ranges to key metadata",
   "updated_at" : "2016-12-26T14:37:51Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9425",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/691439?v=3",
      "events_url" : "https://api.github.com/users/da2ce7/events{/privacy}",
      "followers_url" : "https://api.github.com/users/da2ce7/followers",
      "following_url" : "https://api.github.com/users/da2ce7/following{/other_user}",
      "gists_url" : "https://api.github.com/users/da2ce7/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/da2ce7",
      "id" : 691439,
      "login" : "da2ce7",
      "organizations_url" : "https://api.github.com/users/da2ce7/orgs",
      "received_events_url" : "https://api.github.com/users/da2ce7/received_events",
      "repos_url" : "https://api.github.com/users/da2ce7/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/da2ce7/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/da2ce7/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/da2ce7"
   }
}
