[
   {
      "body" : "@MarcoFalke Marko, do you have a sample of how it fails without this change? I did 100 runs of master to compare and ACK this and it was always OK...\r\n",
      "created_at" : "2016-05-01T16:16:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216052887",
      "id" : 216052887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-01T16:16:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216052887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik This depends on your environment. I will post exact steps to reproduce tonight, when I am home.",
      "created_at" : "2016-05-02T11:05:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216203086",
      "id" : 216203086,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-02T11:05:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216203086",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "+1 for using OrderedDict. Normal dicts's order is randomized (they use a random seed for security reasons) and it's clear that the order of those outputs here matters.\r\n\r\nAside: as of Python 3.5 [OrderedDict is implemented in C](https://bugs.python.org/issue16991) and hence almost as fast as normal dict. Not that it matters in this particular instance.\r\n",
      "created_at" : "2016-05-02T14:02:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216243949",
      "id" : 216243949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-02T14:02:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216243949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "To reproduce I'd suggest using an OrderedDict with the items reversed.\r\n\r\n(can't do it myself right now, running the extended test suite using python 3)\r\n\r\nThis PR is also part of #7814.\r\n",
      "created_at" : "2016-05-02T14:03:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216244153",
      "id" : 216244153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-02T14:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216244153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@paveljanik To test this you can use `python -h` to see how you enable random hash seeds, if it is not yet enabled.\r\n\r\nE.g. `python -R qa/rpc-tests/smartfees.py --srcdir=src` fails on master, passes with this patch.",
      "created_at" : "2016-05-02T16:05:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216277888",
      "id" : 216277888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-02T16:05:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216277888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@paveljanik Thanks for noticing! Of course I need to fix it in the other places as well...",
      "created_at" : "2016-05-02T17:36:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216304970",
      "id" : 216304970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-02T17:36:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216304970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Tests are running.\r\n\r\n@MarcoFalke Feel free to cherrypick typos from https://github.com/bitcoin/bitcoin/commit/bcdd81cc8abf3505c827610190daa746be7e0d96",
      "created_at" : "2016-05-02T20:25:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216352518",
      "id" : 216352518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-02T20:25:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216352518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik Done, thx.",
      "created_at" : "2016-05-03T06:29:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216448587",
      "id" : 216448587,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-03T06:29:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216448587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "20 runs of `rm -rf cache/; python -R qa/rpc-tests/smartfees.py  --srcdir=src` in both master and this PR: master 12x Failed, this PR: all OK.\r\n\r\nACK https://github.com/bitcoin/bitcoin/pull/7980/commits/43bbcd075355630544a530f3cc52014edb3787b2",
      "created_at" : "2016-05-03T07:08:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7980#issuecomment-216455114",
      "id" : 216455114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7980",
      "updated_at" : "2016-05-03T07:08:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216455114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   }
]
