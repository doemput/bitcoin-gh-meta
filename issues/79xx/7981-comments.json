[
   {
      "body" : "This looks like an open bug in leveldb: google/leveldb#281",
      "created_at" : "2016-05-01T16:03:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7981#issuecomment-216051990",
      "id" : 216051990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7981",
      "updated_at" : "2016-05-01T16:03:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216051990",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1047859?v=3",
         "events_url" : "https://api.github.com/users/kazcw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kazcw/followers",
         "following_url" : "https://api.github.com/users/kazcw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kazcw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kazcw",
         "id" : 1047859,
         "login" : "kazcw",
         "organizations_url" : "https://api.github.com/users/kazcw/orgs",
         "received_events_url" : "https://api.github.com/users/kazcw/received_events",
         "repos_url" : "https://api.github.com/users/kazcw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kazcw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kazcw"
      }
   },
   {
      "body" : "Most network based filesystems are currently not supported by leveldb/bitcoind.\r\nRelated to https://github.com/bitcoin/bitcoin/issues/3641#issuecomment-35256537.\r\n",
      "created_at" : "2016-05-02T06:48:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7981#issuecomment-216117798",
      "id" : 216117798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7981",
      "updated_at" : "2016-05-02T06:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216117798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Please consider the block database is huge and growing, so the need of storing it on a NAS could become more popular in future.",
      "created_at" : "2016-05-02T07:28:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7981#issuecomment-216122791",
      "id" : 216122791,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7981",
      "updated_at" : "2016-05-02T07:28:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216122791",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/386394?v=3",
         "events_url" : "https://api.github.com/users/gtozzi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gtozzi/followers",
         "following_url" : "https://api.github.com/users/gtozzi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gtozzi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gtozzi",
         "id" : 386394,
         "login" : "gtozzi",
         "organizations_url" : "https://api.github.com/users/gtozzi/orgs",
         "received_events_url" : "https://api.github.com/users/gtozzi/received_events",
         "repos_url" : "https://api.github.com/users/gtozzi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gtozzi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gtozzi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gtozzi"
      }
   },
   {
      "body" : "I partial agree with @gtozzi. I think the UTXO database should _not_ be on a NAS (or lets say high latency & slow speed persistence store) but there could be reasons to keep the block files on a NAS (especially age >144 blocks).",
      "created_at" : "2016-05-02T07:33:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7981#issuecomment-216123488",
      "id" : 216123488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7981",
      "updated_at" : "2016-05-02T07:33:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216123488",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "You could try my `dummy_db` branch https://github.com/laanwj/bitcoin/tree/2016_04_dummy_db.\r\nIt builds the entire database in memory and only saves it at shutdown, and re-reads it at startup.\r\nWarning: needs quite some memory :)\r\n(I also have a LMDB branch but I wouldn't recommend it to anyone at this moment)\r\n\r\nI agree with @jonasschnelli though - what I'd suggest doing is to store the databases ($DATADIR/blocks/index) and ($DATADIR/chainstate) locally on a fast disk, and the block files on a (slower) remote device. There is no (direct) option to do this at the moment, but it can be accomplished by symbolic linking.\r\n",
      "created_at" : "2016-05-02T10:52:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7981#issuecomment-216197424",
      "id" : 216197424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7981",
      "updated_at" : "2016-05-02T11:05:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216197424",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I use this script to move old `*.dat` files into a cifs mount point:\r\n\r\n```\r\n#!/usr/bin/env python\r\n\r\nimport os\r\nimport shutil\r\nimport time\r\n\r\n# Tuples of source directory where *.dat files are written to by bitcoind and\r\n# destination directory where old *.dat files will be moved to.\r\nDIRS = [\r\n    (\r\n        os.path.expanduser('~/.testnet3/testnet3/blocks'),  # Source\r\n        '/mnt/testnet3-blocks-dat',  # Destination\r\n    ),\r\n    (\r\n        os.path.expanduser('~/.bitcoin/blocks'),\r\n        '/mnt/bitcoin-blocks-dat',\r\n    ),\r\n]\r\n\r\n# Archive *.dat files that are modified over `MAX_AGE` ago.\r\nMAX_AGE = 3600\r\n\r\n# Change to `False` to actually archive the *.dat files.\r\nDRY_RUN = True\r\n\r\n\r\nif __name__ == '__main__':\r\n    for (src_dir, dst_dir) in DIRS:\r\n        if not os.path.isdir(src_dir):\r\n            raise Exception('%s does not exist!' % src_dir)\r\n\r\n        if not os.path.isdir(dst_dir):\r\n            raise Exception('%s does not exist!' % dst_dir)\r\n\r\n        os.chdir(src_dir)\r\n\r\n        files = os.listdir(src_dir)\r\n        for filename in files:\r\n            if not filename.endswith('.dat'):\r\n                continue\r\n\r\n            src_path = os.path.join(src_dir, filename)\r\n            last_modified = int(os.path.getmtime(src_path))\r\n\r\n            dst_path = os.path.join(dst_dir, filename)\r\n            if os.path.exists(dst_path):\r\n                continue\r\n\r\n            now = int(time.time())\r\n            if now - last_modified > MAX_AGE:\r\n                print('mv {} {}'.format(src_path, dst_path))\r\n                if not DRY_RUN:\r\n                    shutil.move(src_path, dst_path)\r\n\r\n                print('ln -s {} {}'.format(dst_path, filename))\r\n                if not DRY_RUN:\r\n                    os.symlink(dst_path, filename)\r\n```",
      "created_at" : "2016-09-30T09:05:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7981#issuecomment-250696261",
      "id" : 250696261,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7981",
      "updated_at" : "2016-09-30T09:05:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/250696261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/500869?v=3",
         "events_url" : "https://api.github.com/users/ayeowch/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ayeowch/followers",
         "following_url" : "https://api.github.com/users/ayeowch/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ayeowch/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ayeowch",
         "id" : 500869,
         "login" : "ayeowch",
         "organizations_url" : "https://api.github.com/users/ayeowch/orgs",
         "received_events_url" : "https://api.github.com/users/ayeowch/received_events",
         "repos_url" : "https://api.github.com/users/ayeowch/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ayeowch/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ayeowch/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ayeowch"
      }
   }
]
