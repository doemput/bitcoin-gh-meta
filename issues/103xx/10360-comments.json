[
   {
      "body" : "Getting travis `RPC_WALLET_INSUFFICIENT_FUNDS` errors all over the place for one configuration. Can't reproduce locally...\r\n\r\n>/usr/include/c++/4.8/debug/vector:519:error: attempt to erase from \r\n > container with a past-the-end iterator.\r\n\r\nedit: was indeed erasing past-end of the vector... fixed.",
      "created_at" : "2017-05-08T21:32:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10360#issuecomment-299997161",
      "id" : 299997161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10360",
      "updated_at" : "2017-05-08T22:30:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299997161",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "sort of concept ACK\r\n\r\nI think there are a lot of issues to think about in order to make sure we don't accidentally introduce poor behavior.\r\nOne simple improvement would be to cache the number of bytes each input would require to spend to create a much simpler calculation of effective value each time through instead of dummy signing an ever growing virtual transaction.\r\n\r\nBut I'm more concerned with the interaction between the knapsack solver and the effective value inputs.  Since the knapsack solver aims for exact matches (either with or without change), I believe there will be a tendency to often include many very small effective inputs to try to get as close as possible to an arbitrary change number.\r\n\r\n",
      "created_at" : "2017-05-09T14:32:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10360#issuecomment-300183630",
      "id" : 300183630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10360",
      "updated_at" : "2017-05-09T14:32:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300183630",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : ">One simple improvement would be to cache the number of bytes each input would require to spend to create a much simpler calculation of effective value each time through instead of dummy signing an ever growing virtual transaction.\r\n\r\nYes, some additional refactoring would make sense especially for this. This was probably the most janky part of my implementation.\r\n\r\n>I believe there will be a tendency to often include many very small effective inputs to try to get as close as possible to an arbitrary change number.\r\n\r\nAs we discussed on IRC, Core already does this, but you mean that previously slightly larger inputs would now fall under this bucket so it may pack even more. It's hard to say the net effect especially since we disallow negative effective value inputs, but something to think about. OTOH If we wait until everything is an unambiguous win, I am not sure any changes will get merged.\r\n\r\n> some chatter about general refactoring on IRC\r\n\r\nI really don't mind attempting to tackle more refactoring within this PR. I admittedly did just over minimal refactoring to make it work.",
      "created_at" : "2017-05-09T15:31:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10360#issuecomment-300202449",
      "id" : 300202449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10360",
      "updated_at" : "2017-05-09T15:31:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300202449",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "@gmaxwell notes on IRC that we may want to consider unconfirmed change as smaller effective value by having it also need to pay for the ancestor(s) feerate delta to current confirmation target feerate.",
      "created_at" : "2017-06-11T18:56:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10360#issuecomment-307649083",
      "id" : 307649083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10360",
      "updated_at" : "2017-06-11T18:56:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307649083",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
