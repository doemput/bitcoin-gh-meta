[
   {
      "body" : "I have tested this locally, both for an in-tree and out-of-tree build.",
      "created_at" : "2017-05-03T18:58:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-299003767",
      "id" : 299003767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-05-03T18:58:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299003767",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Tested ACK 3fe56f2860a2226b1295ffaded5817098ac5898d",
      "created_at" : "2017-05-07T22:06:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-299738500",
      "id" : 299738500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-05-07T22:06:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299738500",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "body" : "Do we need to mention the Python 3 requirement somewhere?",
      "created_at" : "2017-05-17T09:13:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-302033012",
      "id" : 302033012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-05-17T09:13:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/302033012",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "> Do we need to mention the Python 3 requirement somewhere?\r\n\r\nSo the difference is that 'make check' now requires Python 3?\r\nWe could note it, thoough the same will be the case with #10044.",
      "created_at" : "2017-05-23T16:55:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-303464982",
      "id" : 303464982,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-05-23T16:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303464982",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> So the difference is that 'make check' now requires Python 3?\r\n\r\nCorrect. That would also be the case for #10044 (see discussion here: https://botbot.me/freenode/bitcoin-core-dev/2017-03-16/?msg=82548466&page=5)",
      "created_at" : "2017-05-23T17:02:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-303466990",
      "id" : 303466990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-05-23T17:02:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303466990",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2017-05-23T17:18:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-303471392",
      "id" : 303471392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-05-23T17:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303471392",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10331#discussion_r119396649"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10331"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/119396649"
         }
      },
      "body" : "This block didnt make the move.",
      "commit_id" : "8ad5bdef781d9b3009030287e5c99341e6933007",
      "created_at" : "2017-05-31T15:52:08Z",
      "diff_hunk" : "@@ -1,139 +0,0 @@\n-# Copyright 2014 BitPay Inc.\n-# Copyright 2016 The Bitcoin Core developers\n-# Distributed under the MIT software license, see the accompanying\n-# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-from __future__ import division,print_function,unicode_literals\n-import subprocess\n-import os\n-import json\n-import sys\n-import binascii\n-import difflib\n-import logging\n-import pprint\n-\n-def parse_output(a, fmt):\n-    \"\"\"Parse the output according to specified format.\n-\n-    Raise an error if the output can't be parsed.\"\"\"\n-    if fmt == 'json': # json: compare parsed data\n-        return json.loads(a)\n-    elif fmt == 'hex': # hex: parse and compare binary data\n-        return binascii.a2b_hex(a.strip())\n-    else:\n-        raise NotImplementedError(\"Don't know how to compare %s\" % fmt)\n-\n-def bctest(testDir, testObj, buildenv):\n-    \"\"\"Runs a single test, comparing output and RC to expected output and RC.\n-\n-    Raises an error if input can't be read, executable fails, or output/RC\n-    are not as expected. Error is caught by bctester() and reported.\n-    \"\"\"\n-    # Get the exec names and arguments\n-    execprog = buildenv.BUILDDIR + \"/src/\" + testObj['exec'] + buildenv.exeext\n-    execargs = testObj['args']\n-    execrun = [execprog] + execargs\n-\n-    # Read the input data (if there is any)\n-    stdinCfg = None\n-    inputData = None\n-    if \"input\" in testObj:\n-        filename = testDir + \"/\" + testObj['input']\n-        inputData = open(filename).read()\n-        stdinCfg = subprocess.PIPE\n-\n-    # Read the expected output data (if there is any)\n-    outputFn = None\n-    outputData = None\n-    if \"output_cmp\" in testObj:\n-        outputFn = testObj['output_cmp']\n-        outputType = os.path.splitext(outputFn)[1][1:] # output type from file extension (determines how to compare)\n-        try:\n-            outputData = open(testDir + \"/\" + outputFn).read()\n-        except:\n-            logging.error(\"Output file \" + outputFn + \" can not be opened\")\n-            raise\n-        if not outputData:\n-            logging.error(\"Output data missing for \" + outputFn)\n-            raise Exception\n-\n-    # Run the test\n-    proc = subprocess.Popen(execrun, stdin=stdinCfg, stdout=subprocess.PIPE, stderr=subprocess.PIPE,universal_newlines=True)\n-    try:\n-        outs = proc.communicate(input=inputData)\n-    except OSError:\n-        logging.error(\"OSError, Failed to execute \" + execprog)\n-        raise\n-\n-    if outputData:\n-        data_mismatch, formatting_mismatch = False, False\n-        # Parse command output and expected output\n-        try:\n-            a_parsed = parse_output(outs[0], outputType)\n-        except Exception as e:\n-            logging.error('Error parsing command output as %s: %s' % (outputType,e))\n-            raise\n-        try:\n-            b_parsed = parse_output(outputData, outputType)\n-        except Exception as e:\n-            logging.error('Error parsing expected output %s as %s: %s' % (outputFn,outputType,e))\n-            raise\n-        # Compare data\n-        if a_parsed != b_parsed:\n-            logging.error(\"Output data mismatch for \" + outputFn + \" (format \" + outputType + \")\")\n-            data_mismatch = True\n-        # Compare formatting\n-        if outs[0] != outputData:\n-            error_message = \"Output formatting mismatch for \" + outputFn + \":\\n\"\n-            error_message += \"\".join(difflib.context_diff(outputData.splitlines(True),\n-                                                          outs[0].splitlines(True),\n-                                                          fromfile=outputFn,\n-                                                          tofile=\"returned\"))\n-            logging.error(error_message)\n-            formatting_mismatch = True\n-\n-        assert not data_mismatch and not formatting_mismatch\n-\n-    # Compare the return code to the expected return code\n-    wantRC = 0\n-    if \"return_code\" in testObj:\n-        wantRC = testObj['return_code']\n-    if proc.returncode != wantRC:\n-        logging.error(\"Return code mismatch for \" + outputFn)\n-        raise Exception\n-\n-    if \"error_txt\" in testObj:\n-        want_error = testObj[\"error_txt\"]\n-        # Compare error text\n-        # TODO: ideally, we'd compare the strings exactly and also assert\n-        # That stderr is empty if no errors are expected. However, bitcoin-tx\n-        # emits DISPLAY errors when running as a windows application on\n-        # linux through wine. Just assert that the expected error text appears\n-        # somewhere in stderr.\n-        if want_error not in outs[1]:\n-            logging.error(\"Error mismatch:\\n\" + \"Expected: \" + want_error + \"\\nReceived: \" + outs[1].rstrip())\n-            raise Exception\n-\n-def bctester(testDir, input_basename, buildenv):\n-    \"\"\" Loads and parses the input file, runs all tests and reports results\"\"\"\n-    input_filename = testDir + \"/\" + input_basename\n-    raw_data = open(input_filename).read()\n-    input_data = json.loads(raw_data)\n-\n-    failed_testcases = []\n-\n-    for testObj in input_data:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#discussion_r119396649",
      "id" : 119396649,
      "original_commit_id" : "3fe56f2860a2226b1295ffaded5817098ac5898d",
      "original_position" : 125,
      "path" : "test/util/bctest.py",
      "position" : 125,
      "pull_request_review_id" : 41273372,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10331",
      "updated_at" : "2017-06-06T20:53:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/119396649",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Thanks @TheBlueMatt . Block restored in fixup commit. I'll squash when this is ready for merge.",
      "created_at" : "2017-05-31T16:07:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-305236126",
      "id" : 305236126,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-05-31T16:07:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/305236126",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Please squash the two fixup commits.\r\n\r\n<!-- 95836c5, 23174d3",
      "created_at" : "2017-06-06T18:16:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-306572482",
      "id" : 306572482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-06-06T18:17:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306572482",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "fixup commits squashed",
      "created_at" : "2017-06-06T20:53:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-306613841",
      "id" : 306613841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-06-06T20:53:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306613841",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "utACK 8ad5bde",
      "created_at" : "2017-06-06T21:06:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10331#issuecomment-306617420",
      "id" : 306617420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10331",
      "updated_at" : "2017-06-06T21:06:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306617420",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
