{
   "assignee" : null,
   "body" : "Before the fix, there were 6 errors such as :\r\nserialize_tests.cpp:77: error in \"noncanonical\": incorrect exception std::ios_base::failure is caught\r\n\r\nIt turns out that ex.what() returns following string instead of \"non-canonical ReadCompactSize()\"\r\n\"non-canonical ReadCompactSize(): unspecified iostream_category error\"\r\n\r\nAfter the fix, unit test passed.\r\n\r\nThe test ran using Apple LLVM v5.0 on OSX 10.9.\r\n\r\nIn case the unit test error happened because of different error messages by different compilers, you may want to merge the code as shown below.\r\n\r\n```\r\nstatic bool isCanonicalException(const std::ios_base::failure& ex)\r\n{\r\n    return std::string(\"non-canonical ReadCompactSize()\") == ex.what() ||\r\n             std::string(\"non-canonical ReadCompactSize(): unspecified iostream_category error\") == ex.what();\r\n}\r\n```\r\n\r\ng++ --version on my development environment.\r\n\r\n```\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\r\nApple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)\r\nTarget: x86_64-apple-darwin13.0.0\r\nThread model: posix\r\n```",
   "closed_at" : "2013-12-15T13:46:24Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/510271?v=3",
      "events_url" : "https://api.github.com/users/Kangmo/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Kangmo/followers",
      "following_url" : "https://api.github.com/users/Kangmo/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Kangmo/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Kangmo",
      "id" : 510271,
      "login" : "Kangmo",
      "organizations_url" : "https://api.github.com/users/Kangmo/orgs",
      "received_events_url" : "https://api.github.com/users/Kangmo/received_events",
      "repos_url" : "https://api.github.com/users/Kangmo/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Kangmo/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Kangmo/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Kangmo"
   },
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3418/comments",
   "created_at" : "2013-12-15T12:55:27Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3418/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/3418",
   "id" : 24310735,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3418/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 3418,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/3418.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3418",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/3418.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3418"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Fix unit test error.",
   "updated_at" : "2014-07-11T03:43:04Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3418",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/510271?v=3",
      "events_url" : "https://api.github.com/users/Kangmo/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Kangmo/followers",
      "following_url" : "https://api.github.com/users/Kangmo/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Kangmo/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Kangmo",
      "id" : 510271,
      "login" : "Kangmo",
      "organizations_url" : "https://api.github.com/users/Kangmo/orgs",
      "received_events_url" : "https://api.github.com/users/Kangmo/received_events",
      "repos_url" : "https://api.github.com/users/Kangmo/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Kangmo/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Kangmo/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Kangmo"
   }
}
