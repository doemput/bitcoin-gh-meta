[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537145"
         }
      },
      "body" : "nits: I don't think it should throw an error. The expected state is correctly reached at the end of the call.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T06:53:09Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+        );\n+\n+    if (!pwallet->fScanningWallet) throw JSONRPCError(RPC_WALLET_ERROR, \"No wallet rescans in progress.\");\n+    if (pwallet->fAbortRescan) throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan abort already in progress.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537145",
      "id" : 111537145,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 18,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 32790831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537145",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537232"
         }
      },
      "body" : "need to set `fAbortRescan` to false again.\r\n\r\nEDIT: Actually it should be fine... I think it is best that the end state of the variable is known though.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T06:54:23Z",
      "diff_hunk" : "@@ -1558,7 +1560,12 @@ CBlockIndex* CWallet::ScanForWalletTransactions(CBlockIndex* pindexStart, bool f\n                 LogPrintf(\"Still rescanning. At block %d. Progress=%f\\n\", pindex->nHeight, GuessVerificationProgress(chainParams.TxData(), pindex));\n             }\n         }\n+        if (pindex && fAbortRescan) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537232",
      "id" : 111537232,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 22,
      "path" : "src/wallet/wallet.cpp",
      "position" : 22,
      "pull_request_review_id" : 32790934,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537232",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537238"
         }
      },
      "body" : "It's a response to the RPC caller, so it's more like feedback and less than an actual error. Compare this to the std::runtime_error thrown for the help message.\r\n\r\nUltimately, if the scan is not in progress and/or if the rescan flag is already set, the end results will be the same even without throwing.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T06:54:26Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+        );\n+\n+    if (!pwallet->fScanningWallet) throw JSONRPCError(RPC_WALLET_ERROR, \"No wallet rescans in progress.\");\n+    if (pwallet->fAbortRescan) throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan abort already in progress.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537238",
      "id" : 111537238,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 18,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 32790937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537238",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537335"
         }
      },
      "body" : "It's set at line 1530 above. I was thinking of setting it to false at end but it doesn't really matter as it's reset at top anyway.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T06:55:33Z",
      "diff_hunk" : "@@ -1558,7 +1560,12 @@ CBlockIndex* CWallet::ScanForWalletTransactions(CBlockIndex* pindexStart, bool f\n                 LogPrintf(\"Still rescanning. At block %d. Progress=%f\\n\", pindex->nHeight, GuessVerificationProgress(chainParams.TxData(), pindex));\n             }\n         }\n+        if (pindex && fAbortRescan) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537335",
      "id" : 111537335,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 22,
      "path" : "src/wallet/wallet.cpp",
      "position" : 22,
      "pull_request_review_id" : 32791034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537335",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537584"
         }
      },
      "body" : "returning a  human readable message feel a bit weird to me.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T06:58:18Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+        );\n+\n+    if (!pwallet->fScanningWallet) throw JSONRPCError(RPC_WALLET_ERROR, \"No wallet rescans in progress.\");\n+    if (pwallet->fAbortRescan) throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan abort already in progress.\");\n+    pwallet->fAbortRescan = true;\n+    return \"Wallet rescan aborted.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537584",
      "id" : 111537584,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 20,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 32791317,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111537584",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538198"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538198"
         }
      },
      "body" : "I was sure I'd seen that elsewhere but now I'm not so sure. Revisiting that part now.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T07:02:58Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+        );\n+\n+    if (!pwallet->fScanningWallet) throw JSONRPCError(RPC_WALLET_ERROR, \"No wallet rescans in progress.\");\n+    if (pwallet->fAbortRescan) throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan abort already in progress.\");\n+    pwallet->fAbortRescan = true;\n+    return \"Wallet rescan aborted.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538198",
      "id" : 111538198,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 20,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 32791937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538198",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538526"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538526"
         }
      },
      "body" : "nit: Usually we have the  `HelpExampleCli` and `HelpExampleRpc` here.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T07:05:11Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538526",
      "id" : 111538526,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 14,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 14,
      "pull_request_review_id" : 32792273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538526",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538654"
         }
      },
      "body" : "@jonasschnelli I wasn't sure that was the case even for no-arg commands. Will add.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T07:06:08Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538654",
      "id" : 111538654,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 14,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 14,
      "pull_request_review_id" : 32792415,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538654",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538873"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538873"
         }
      },
      "body" : "From the API consumer perspective, what you want is parsable differentiations between the possible states.\r\nYour currently use `RPC_WALLET_ERROR` for `fScanningWallet` and `fAbortRescan` leading to the fact the one needs to parse string to get the correct state.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T07:08:25Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+        );\n+\n+    if (!pwallet->fScanningWallet) throw JSONRPCError(RPC_WALLET_ERROR, \"No wallet rescans in progress.\");\n+    if (pwallet->fAbortRescan) throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan abort already in progress.\");\n+    pwallet->fAbortRescan = true;\n+    return \"Wallet rescan aborted.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111538873",
      "id" : 111538873,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 20,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 32792649,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111538873",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Nice. Concept ACK.\r\nHave you tested this together with the GUI? Are you willing to expand this to the GUI?",
      "created_at" : "2017-04-14T07:09:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294104643",
      "id" : 294104643,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:09:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294104643",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Accidentally closed. Reopening.",
      "created_at" : "2017-04-14T07:09:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294104688",
      "id" : 294104688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:09:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294104688",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli I haven't tried with the GUI. Definitely willing to add that, but wonder if that should be a separate PR?",
      "created_at" : "2017-04-14T07:11:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294105059",
      "id" : 294105059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:11:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294105059",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111539274"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111539274"
         }
      },
      "body" : "Added.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T07:12:15Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111539274",
      "id" : 111539274,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 14,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 14,
      "pull_request_review_id" : 32793065,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111539274",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "Can be separate if this PR does not break the GUI rescan additions (the popup window).",
      "created_at" : "2017-04-14T07:13:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294105199",
      "id" : 294105199,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:13:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294105199",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111539350"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111539350"
         }
      },
      "body" : "Right, good point -- I will add error codes for these two and throw those instead.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T07:13:27Z",
      "diff_hunk" : "@@ -154,6 +154,25 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+        );\n+\n+    if (!pwallet->fScanningWallet) throw JSONRPCError(RPC_WALLET_ERROR, \"No wallet rescans in progress.\");\n+    if (pwallet->fAbortRescan) throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan abort already in progress.\");\n+    pwallet->fAbortRescan = true;\n+    return \"Wallet rescan aborted.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111539350",
      "id" : 111539350,
      "original_commit_id" : "a9fd7c811c7812c7cea027581a93c7f1807604c0",
      "original_position" : 20,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 32793163,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111539350",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "Gotcha. I will test the GUI. If it doesn't seem overly complex I'll add support there as well while at it.",
      "created_at" : "2017-04-14T07:14:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294105344",
      "id" : 294105344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:14:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294105344",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "@jonasschnelli I tested out the GUI. The only way I could find importing keys was the Help > Debug > Console > importprivkey ... route. It brings up the \"Rescanning...\" popup with the progress bar, and locks input so I can't abort the rescan to test that part. But the actual GUI works fine.\r\n\r\nAdding an \"Abort\" button to the progress popup seems sensible, but I'm going to declare that as a separate PR for now as I don't immediately see a neat solution to doing so.",
      "created_at" : "2017-04-14T07:35:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294108087",
      "id" : 294108087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:35:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294108087",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "@kallewoof You can run bitcoin-qt with the -server flag, and then issue command through bitcoin-cli or any other RPC client.",
      "created_at" : "2017-04-14T07:36:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294108255",
      "id" : 294108255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294108255",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@kallewoof: Great. Yes. Let's fix this in an upcoming PR. I think you can also rescan by `./bitcoin-qt -server` or `./bitcoin-qt -rescan`.",
      "created_at" : "2017-04-14T07:36:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294108298",
      "id" : 294108298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:36:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294108298",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@sipa Ahh that let me try abortrescan from CLI while doing import from the GUI. Thanks!\r\n\r\n@jonasschnelli GUI fully tested and appears functional.",
      "created_at" : "2017-04-14T07:41:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294108929",
      "id" : 294108929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T07:41:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294108929",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "utACK 33b93f52b4452008075520239f4991440380be1a",
      "created_at" : "2017-04-14T10:04:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294129405",
      "id" : 294129405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T10:04:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294129405",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "\"Wallet is being asked to abort rescan despite already pending rescan abort\"\r\n\r\nI would change \"abort\" to \"abortion\"; I believe it may be more grammatically correct, and we need the word abortion in the core code.",
      "created_at" : "2017-04-14T19:45:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294222688",
      "id" : 294222688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-14T19:45:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294222688",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/27191891?v=3",
         "events_url" : "https://api.github.com/users/KibbledJiveElkZoo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/KibbledJiveElkZoo/followers",
         "following_url" : "https://api.github.com/users/KibbledJiveElkZoo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/KibbledJiveElkZoo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/KibbledJiveElkZoo",
         "id" : 27191891,
         "login" : "KibbledJiveElkZoo",
         "organizations_url" : "https://api.github.com/users/KibbledJiveElkZoo/orgs",
         "received_events_url" : "https://api.github.com/users/KibbledJiveElkZoo/received_events",
         "repos_url" : "https://api.github.com/users/KibbledJiveElkZoo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/KibbledJiveElkZoo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/KibbledJiveElkZoo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/KibbledJiveElkZoo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111630062"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111630062"
         }
      },
      "body" : "I would turn both these flags to private standard boolean and use CWallet getters&setters to change them",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-14T20:18:14Z",
      "diff_hunk" : "@@ -723,6 +723,8 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n      */\n     mutable CCriticalSection cs_wallet;\n \n+    std::atomic<bool> fAbortRescan;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111630062",
      "id" : 111630062,
      "original_commit_id" : "33b93f52b4452008075520239f4991440380be1a",
      "original_position" : 4,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 32890937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111630062",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/20778324?v=3",
         "events_url" : "https://api.github.com/users/rawodb/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rawodb/followers",
         "following_url" : "https://api.github.com/users/rawodb/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rawodb/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rawodb",
         "id" : 20778324,
         "login" : "rawodb",
         "organizations_url" : "https://api.github.com/users/rawodb/orgs",
         "received_events_url" : "https://api.github.com/users/rawodb/received_events",
         "repos_url" : "https://api.github.com/users/rawodb/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rawodb/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rawodb/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rawodb"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111695543"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111695543"
         }
      },
      "body" : "For some reason I didn't think we used getters/setters but clearly we do. Fixed, thanks!",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-17T00:45:40Z",
      "diff_hunk" : "@@ -723,6 +723,8 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n      */\n     mutable CCriticalSection cs_wallet;\n \n+    std::atomic<bool> fAbortRescan;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111695543",
      "id" : 111695543,
      "original_commit_id" : "33b93f52b4452008075520239f4991440380be1a",
      "original_position" : 4,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 32954625,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T14:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111695543",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2017-04-17T08:39:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294432481",
      "id" : 294432481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-17T08:39:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294432481",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/20778324?v=3",
         "events_url" : "https://api.github.com/users/rawodb/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rawodb/followers",
         "following_url" : "https://api.github.com/users/rawodb/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rawodb/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rawodb",
         "id" : 20778324,
         "login" : "rawodb",
         "organizations_url" : "https://api.github.com/users/rawodb/orgs",
         "received_events_url" : "https://api.github.com/users/rawodb/received_events",
         "repos_url" : "https://api.github.com/users/rawodb/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rawodb/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rawodb/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rawodb"
      }
   },
   {
      "body" : "nice! utACK after squash",
      "created_at" : "2017-04-17T13:12:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294483180",
      "id" : 294483180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-17T13:12:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294483180",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Squashed. ~~~Edit: Crap. Fixing...~~~",
      "created_at" : "2017-04-17T14:27:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294495535",
      "id" : 294495535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-17T14:37:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294495535",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111800501"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111800501"
         }
      },
      "body" : "I have to agree with the previous comment, throwing here is super strange. The direct API we expose is likely fine, but many API wrappers will throw a corresponding exception like we do here, and I'd consider \"not currently scanning\" to be a warning, not a critical error - it would be nice to just return a boolean for \"we did something\".",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-17T19:14:37Z",
      "diff_hunk" : "@@ -154,6 +154,32 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nImport a private key\\n\"\n+            + HelpExampleCli(\"importprivkey\", \"\\\"mykey\\\"\") +\n+            \"\\nAbort the running wallet rescan\\n\"\n+            + HelpExampleCli(\"abortrescan\", \"\") +\n+            \"\\nAs a JSON-RPC call\\n\"\n+            + HelpExampleRpc(\"abortrescan\", \"\")\n+        );\n+\n+    if (!pwallet->IsScanning()) throw JSONRPCError(RPC_WALLET_NOT_SCANNING, \"No wallet rescans in progress.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111800501",
      "id" : 111800501,
      "original_commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "original_position" : 24,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 24,
      "pull_request_review_id" : 33067253,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-17T19:14:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111800501",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111854285"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111854285"
         }
      },
      "body" : "I can't find the previous comment you are referring to? (Did you get this and https://github.com/bitcoin/bitcoin/pull/9622#discussion_r102975099 mixed up, by any chance?)\r\n\r\nSince we're throwing when a user types the word `help`, it conceptually feels like a throw is simply a result with a code and a message, rather than a critical error. It's a way to distinguish from \"ACK\" and \"NACK\" even for trivial reasons. Compare e.g. the `addnode` RPC which throws an error when a node being added is already there, or when a node being removed is not in the list. That feels similarly non-critical to me -- end result is the same -- but could be harder to code for without error codes if we changed to returning a success bool or something.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-18T01:14:45Z",
      "diff_hunk" : "@@ -154,6 +154,32 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nImport a private key\\n\"\n+            + HelpExampleCli(\"importprivkey\", \"\\\"mykey\\\"\") +\n+            \"\\nAbort the running wallet rescan\\n\"\n+            + HelpExampleCli(\"abortrescan\", \"\") +\n+            \"\\nAs a JSON-RPC call\\n\"\n+            + HelpExampleRpc(\"abortrescan\", \"\")\n+        );\n+\n+    if (!pwallet->IsScanning()) throw JSONRPCError(RPC_WALLET_NOT_SCANNING, \"No wallet rescans in progress.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111854285",
      "id" : 111854285,
      "original_commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "original_position" : 24,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 24,
      "pull_request_review_id" : 33124976,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-18T01:14:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111854285",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111856696"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111856696"
         }
      },
      "body" : "I was referring to https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111537145 The help throw, however, is for when you provide bad arguments, which is the correct \"you fucked up\" response. Throwing if not scanning is just a race in client applications, an almost-guaranteed-benign race to boot.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-18T01:43:07Z",
      "diff_hunk" : "@@ -154,6 +154,32 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nImport a private key\\n\"\n+            + HelpExampleCli(\"importprivkey\", \"\\\"mykey\\\"\") +\n+            \"\\nAbort the running wallet rescan\\n\"\n+            + HelpExampleCli(\"abortrescan\", \"\") +\n+            \"\\nAs a JSON-RPC call\\n\"\n+            + HelpExampleRpc(\"abortrescan\", \"\")\n+        );\n+\n+    if (!pwallet->IsScanning()) throw JSONRPCError(RPC_WALLET_NOT_SCANNING, \"No wallet rescans in progress.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111856696",
      "id" : 111856696,
      "original_commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "original_position" : 24,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 24,
      "pull_request_review_id" : 33127499,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-18T01:43:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111856696",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111859440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111859440"
         }
      },
      "body" : "I guess the worst thing that happens is that you accidentally target the wrong node and one node ends up scanning the entire wallet even though you asked it not to. That's not a biggie, really, especially if you don't even realize it yourself.\r\n\r\nI'll switch to returning true/false for did/didn't do something as you suggest.",
      "commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "created_at" : "2017-04-18T02:20:50Z",
      "diff_hunk" : "@@ -154,6 +154,32 @@ UniValue importprivkey(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue abortrescan(const JSONRPCRequest& request)\n+{\n+    CWallet* const pwallet = GetWalletForJSONRPCRequest(request);\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 0)\n+        throw std::runtime_error(\n+            \"abortrescan\\n\"\n+            \"\\nStops current wallet rescan triggered e.g. by an importprivkey call.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nImport a private key\\n\"\n+            + HelpExampleCli(\"importprivkey\", \"\\\"mykey\\\"\") +\n+            \"\\nAbort the running wallet rescan\\n\"\n+            + HelpExampleCli(\"abortrescan\", \"\") +\n+            \"\\nAs a JSON-RPC call\\n\"\n+            + HelpExampleRpc(\"abortrescan\", \"\")\n+        );\n+\n+    if (!pwallet->IsScanning()) throw JSONRPCError(RPC_WALLET_NOT_SCANNING, \"No wallet rescans in progress.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111859440",
      "id" : 111859440,
      "original_commit_id" : "153d24d073635a98a2206a6455e23fb5fc77d0da",
      "original_position" : 24,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 24,
      "pull_request_review_id" : 33130531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10208",
      "updated_at" : "2017-04-18T02:20:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111859440",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "Per https://github.com/bitcoin/bitcoin/pull/10208#discussion_r111800501 I have replaced the RPC throws with true/false for \"did something\" / \"did nothing\" return values in `abortrescan`.\r\n\r\nUnsquashed history: [1](https://github.com/kallewoof/bitcoin/commit/75a08e7d17da9db2ac0e9f55a4286dda912385bc) Ã¢ÂÂ [2](https://github.com/kallewoof/bitcoin/commit/153d24d073635a98a2206a6455e23fb5fc77d0da) Ã¢ÂÂ [3Ã¢ÂÂ2](https://github.com/kallewoof/bitcoin/commit/76297b729b987040093ff77b9d13b42b3431c4fb) ",
      "created_at" : "2017-04-18T02:55:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294659859",
      "id" : 294659859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-18T02:55:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294659859",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "This still needs (in follow-up PR):\r\n- a test in `test/functional`\r\n- mention in the release notes",
      "created_at" : "2017-04-18T06:06:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10208#issuecomment-294696227",
      "id" : 294696227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10208",
      "updated_at" : "2017-04-18T06:06:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294696227",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
