[
   {
      "body" : "Interesting!\r\nHaven't looked at it in detail, but would this affect \"policy\" by adding the `TX_HTLC` as to the standard templates?",
      "created_at" : "2016-02-25T21:11:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-188990746",
      "id" : 188990746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-25T21:11:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/188990746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli All P2SH is already standard.\n",
      "created_at" : "2016-02-25T21:16:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-188992532",
      "id" : 188992532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-25T21:16:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/188992532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa: Ah. Right. Then Ã¢ÂÂ I guess Ã¢ÂÂ the `standard.cpp -> Solver()` changes are only because we want to detect these types of P2SH scripts in the wallet.",
      "created_at" : "2016-02-25T21:19:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-188993515",
      "id" : 188993515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-25T21:19:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/188993515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli To be clear: this indeed does make the HTLC type transaction standard in non-P2SH setting; it's however still smaller and cheaper than the largest raw multisig that is allowed. Perhaps that indeed shouldn't happen.",
      "created_at" : "2016-02-25T21:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-188994757",
      "id" : 188994757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-25T21:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/188994757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Concept ACK.",
      "created_at" : "2016-02-25T22:37:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189015509",
      "id" : 189015509,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-25T22:37:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189015509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "concept ACK",
      "created_at" : "2016-02-26T02:23:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189082634",
      "id" : 189082634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T02:23:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189082634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Interestingly, this is useful for Paypub, as well as ZKCP, among other things.\r\n\r\nConcept ACK",
      "created_at" : "2016-02-26T03:45:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189099248",
      "id" : 189099248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T03:45:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189099248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@sipa For Paypub, having the payments be visible in the blockchain for the receiver is extremely useful; w/o the ability to do so in scriptPubKey you'd likely implement it with an extra OP_RETURN output (maybe until we have a better Bitmessage to use instead). Not necessarily an argument either for or against doing so, but worth noting.",
      "created_at" : "2016-02-26T03:50:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189099823",
      "id" : 189099823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T03:50:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189099823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2016-02-26T06:10:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189127550",
      "id" : 189127550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T06:10:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189127550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Some tests fail with:\r\n```\r\nRunning testscript wallet.py ...\r\nInitializing test directory /tmp/testr_T8PJ\r\nstart_node: bitcoind started, calling bitcoin-cli -rpcwait getblockcount\r\nstart_node: calling bitcoin-cli -rpcwait getblockcount returned\r\nJSONRPC error: preimage must be hexadecimal string (not '')\r\n```\r\nI can't reproduce locally 8)\r\n",
      "created_at" : "2016-02-26T07:19:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189143916",
      "id" : 189143916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T07:19:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189143916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Concept ACK\r\nNeeds some tests. Needs BIP for new `OP_ANYDATA`.",
      "created_at" : "2016-02-26T07:21:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189144205",
      "id" : 189144205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T07:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189144205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Concept ACK.\r\n\r\n1.) Not sure if this requires a BIP, I guess we don't need a BIP for every contract template and I can't find the other template matching params (like `OP_SMALLINTEGER`) in the BIPs. \r\n\r\nI also concept ACK the IsStandard rule for HTLC to allow blockchain-visible HTLC, though, this might require a BIP.",
      "created_at" : "2016-02-26T07:30:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189146907",
      "id" : 189146907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T07:30:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189146907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "OP_ANYDATA is just local wallet logic, it uses a range of script opcodes\nthat are disabled in execution, and is only used inside the matching\ntemplates (I think it's a bad idea to mix them in the same CScript\ntype...), so I disagree with needing a BIP for that.\n\nIsStandard changes so far have also been done without a BIP, but maybe we\ncan postpone making raw HTLC standard for now.\n\nCertainly agree we need tests.\n",
      "created_at" : "2016-02-26T13:20:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189269842",
      "id" : 189269842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T13:20:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189269842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I agree IsStandard changes do not need a BIP, but it seems any transaction type supported by the reference implementation necessarily involves coordination with other software/people, and therefore should have a BIP written describing how it works.\r\n\r\nIs there a benefit to bare HTLC over P2SH (or SegWit) HTLC? If not, it seems pointless to expand the policy to allow for it. Note that many users do not enable bare multisig (and it should probably be disabled by default).",
      "created_at" : "2016-02-26T13:53:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189285497",
      "id" : 189285497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T13:53:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189285497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I don't think initially we should make this standard outside P2SH (yet), so that's definitely a change that should be made to this PR.\r\n\r\nThis work so far allows you to \"import\" a preimage into CWallet (so that you can redeem the atomic swap branch of the script) but it does not persist this to disk, and I'm curious if others think it should. (I'm skeptical of making bitcoind store secrets, especially if for some use cases they are ephemeral.)",
      "created_at" : "2016-02-26T14:03:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189290767",
      "id" : 189290767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T14:03:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189290767",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3794471?v=3",
         "events_url" : "https://api.github.com/users/ebfull/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ebfull/followers",
         "following_url" : "https://api.github.com/users/ebfull/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ebfull/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ebfull",
         "id" : 3794471,
         "login" : "ebfull",
         "organizations_url" : "https://api.github.com/users/ebfull/orgs",
         "received_events_url" : "https://api.github.com/users/ebfull/received_events",
         "repos_url" : "https://api.github.com/users/ebfull/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ebfull/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ebfull/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ebfull"
      }
   },
   {
      "body" : "As an example of what this was written to enable: https://bitcoincore.org/en/2016/02/26/zero-knowledge-contingent-payments-announcement/",
      "created_at" : "2016-02-26T21:54:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189497768",
      "id" : 189497768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T21:54:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189497768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Wow, concept ACK.",
      "created_at" : "2016-02-26T23:18:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-189522675",
      "id" : 189522675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-02-26T23:18:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/189522675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "We should probably also wait until CSV is in, and add support for it in the constructed scripts here.",
      "created_at" : "2016-03-05T05:47:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-192584364",
      "id" : 192584364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-03-05T05:47:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/192584364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r55140584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55140584"
         }
      },
      "body" : "This new line?\n",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2016-03-06T14:47:42Z",
      "diff_hunk" : "@@ -839,3 +839,4 @@ UniValue sendrawtransaction(const UniValue& params, bool fHelp)\n \n     return hashTx.GetHex();\n }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r55140584",
      "id" : 55140584,
      "original_commit_id" : "9136c81d601445c7cf013cba281fad314595a39f",
      "original_position" : 4,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-06T15:00:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55140584",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@sipa CSV is almost in, but I don't think we should be deploying enabled generation for them until the softfork is good and settled.  Maybe behind a hidden option or testnet only?",
      "created_at" : "2016-03-30T16:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-203512417",
      "id" : 203512417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-03-30T16:24:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203512417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Additionally, supporting RIPEMD160 for ZKCPs is a must. I will try to find some time to write an arithmetic circuit for it.",
      "created_at" : "2016-03-30T18:05:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-203557688",
      "id" : 203557688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-03-30T18:06:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203557688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3794471?v=3",
         "events_url" : "https://api.github.com/users/ebfull/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ebfull/followers",
         "following_url" : "https://api.github.com/users/ebfull/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ebfull/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ebfull",
         "id" : 3794471,
         "login" : "ebfull",
         "organizations_url" : "https://api.github.com/users/ebfull/orgs",
         "received_events_url" : "https://api.github.com/users/ebfull/received_events",
         "repos_url" : "https://api.github.com/users/ebfull/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ebfull/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ebfull/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ebfull"
      }
   },
   {
      "body" : "After segwit lands (?) I will try to rebase and clean this PR up.",
      "created_at" : "2016-06-07T05:35:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-224182598",
      "id" : 224182598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-06-07T05:35:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/224182598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3794471?v=3",
         "events_url" : "https://api.github.com/users/ebfull/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ebfull/followers",
         "following_url" : "https://api.github.com/users/ebfull/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ebfull/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ebfull",
         "id" : 3794471,
         "login" : "ebfull",
         "organizations_url" : "https://api.github.com/users/ebfull/orgs",
         "received_events_url" : "https://api.github.com/users/ebfull/received_events",
         "repos_url" : "https://api.github.com/users/ebfull/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ebfull/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ebfull/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ebfull"
      }
   },
   {
      "body" : "@ebfull segwit has been merged to master and is also activated on testnet.",
      "created_at" : "2016-06-26T12:01:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-228597915",
      "id" : 228597915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-06-26T12:01:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228597915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "CSV is active on mainnet!",
      "created_at" : "2016-07-05T16:36:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-230531892",
      "id" : 230531892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-07-05T16:36:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/230531892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Rebased this on to master. Now supports RIPEMD160. Switched to CSV (block denominated mode). Added some RPC tests.\r\n\r\nIt can be trivially extended to use CLTV in the RPC, I just need to come up with a solid UX for it. The same goes for \"relative\" time strings like \"10h\" or \"5d.\" Also, still need to bring over the \"preimage\" display that showed in `listtransactions`.\r\n\r\nI'll try to work alongside #7534 for the remaining work, including submitting a BIP.",
      "created_at" : "2016-07-18T01:09:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-233214929",
      "id" : 233214929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-07-18T01:09:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/233214929",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3794471?v=3",
         "events_url" : "https://api.github.com/users/ebfull/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ebfull/followers",
         "following_url" : "https://api.github.com/users/ebfull/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ebfull/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ebfull",
         "id" : 3794471,
         "login" : "ebfull",
         "organizations_url" : "https://api.github.com/users/ebfull/orgs",
         "received_events_url" : "https://api.github.com/users/ebfull/received_events",
         "repos_url" : "https://api.github.com/users/ebfull/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ebfull/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ebfull/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ebfull"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r75850799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/75850799"
         }
      },
      "body" : "In the \"ELSE\" case any relay node may replace the top stack with anything without invalidating the tx. See related discussion at https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-August/013036.html\n",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2016-08-23T11:56:43Z",
      "diff_hunk" : "@@ -54,6 +55,26 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n \n         // Sender provides N pubkeys, receivers provides M signatures\n         mTemplates.insert(make_pair(TX_MULTISIG, CScript() << OP_SMALLINTEGER << OP_PUBKEYS << OP_SMALLINTEGER << OP_CHECKMULTISIG));\n+\n+        // HTLC where sender requests preimage of a hash\n+        {\n+            const opcodetype accepted_hashers[] = {OP_SHA256, OP_RIPEMD160};\n+            const opcodetype accepted_timeout_ops[] = {OP_CHECKLOCKTIMEVERIFY, OP_CHECKSEQUENCEVERIFY};\n+\n+            BOOST_FOREACH(opcodetype hasher, accepted_hashers) {\n+                BOOST_FOREACH(opcodetype timeout_op, accepted_timeout_ops) {\n+                    mTemplates.insert(make_pair(TX_HTLC, CScript()\n+                        << hasher << OP_ANYDATA << OP_EQUAL",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r75850799",
      "id" : 75850799,
      "original_commit_id" : "94b6591673f9eba8b97771e6bb1583a1c7edd558",
      "original_position" : 21,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-06T15:00:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/75850799",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/8403418?v=3",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "body" : "Needs rebase",
      "created_at" : "2016-11-23T15:08:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-262540047",
      "id" : 262540047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-11-23T15:08:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/262540047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5617245?v=3",
         "events_url" : "https://api.github.com/users/afk11/events{/privacy}",
         "followers_url" : "https://api.github.com/users/afk11/followers",
         "following_url" : "https://api.github.com/users/afk11/following{/other_user}",
         "gists_url" : "https://api.github.com/users/afk11/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/afk11",
         "id" : 5617245,
         "login" : "afk11",
         "organizations_url" : "https://api.github.com/users/afk11/orgs",
         "received_events_url" : "https://api.github.com/users/afk11/received_events",
         "repos_url" : "https://api.github.com/users/afk11/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/afk11/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/afk11/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/afk11"
      }
   },
   {
      "body" : "Still needs rebase.",
      "created_at" : "2016-12-27T15:41:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-269342130",
      "id" : 269342130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-12-27T15:41:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269342130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Before I rebase, I need to understand the consensus regarding preventing malleability of these scripts.\r\n\r\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-August/013036.html\r\n\r\nMultiple suggestions were made and I'm not personally qualified to pick from them.",
      "created_at" : "2016-12-28T05:23:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-269427730",
      "id" : 269427730,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-12-28T05:23:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269427730",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3794471?v=3",
         "events_url" : "https://api.github.com/users/ebfull/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ebfull/followers",
         "following_url" : "https://api.github.com/users/ebfull/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ebfull/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ebfull",
         "id" : 3794471,
         "login" : "ebfull",
         "organizations_url" : "https://api.github.com/users/ebfull/orgs",
         "received_events_url" : "https://api.github.com/users/ebfull/received_events",
         "repos_url" : "https://api.github.com/users/ebfull/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ebfull/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ebfull/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ebfull"
      }
   },
   {
      "body" : "@ebfull: I'd suggest this one. But you may want to discuss it on mailing list to make sure it is compatible with other implementations (if any)\r\n\r\n`OP_IF\r\n [HASHOP] <digest> OP_EQUALVERIFY\r\n <seller pubkey>\r\nOP_ELSE\r\n <num> [TIMEOUTOP] OP_DROP\r\n <buyer pubkey>\r\nOP_ENDIF\r\nOP_CHECKSIG`",
      "created_at" : "2016-12-29T08:59:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-269600304",
      "id" : 269600304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2016-12-29T08:59:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269600304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8403418?v=3",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "body" : "@ebfull, this looks very interesting to me and many others. Would be wonderful for you can find the time to have a second look at this pull request since v0.14 has been forked off.",
      "created_at" : "2017-02-20T08:18:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-281014293",
      "id" : 281014293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2017-02-20T08:18:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281014293",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/691439?v=3",
         "events_url" : "https://api.github.com/users/da2ce7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/da2ce7/followers",
         "following_url" : "https://api.github.com/users/da2ce7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/da2ce7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/da2ce7",
         "id" : 691439,
         "login" : "da2ce7",
         "organizations_url" : "https://api.github.com/users/da2ce7/orgs",
         "received_events_url" : "https://api.github.com/users/da2ce7/received_events",
         "repos_url" : "https://api.github.com/users/da2ce7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/da2ce7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/da2ce7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/da2ce7"
      }
   },
   {
      "body" : "I will be rebasing using @jl2012's script as the foundation, and update my BIP draft.",
      "created_at" : "2017-02-21T23:06:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-281511966",
      "id" : 281511966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2017-02-21T23:06:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281511966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3794471?v=3",
         "events_url" : "https://api.github.com/users/ebfull/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ebfull/followers",
         "following_url" : "https://api.github.com/users/ebfull/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ebfull/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ebfull",
         "id" : 3794471,
         "login" : "ebfull",
         "organizations_url" : "https://api.github.com/users/ebfull/orgs",
         "received_events_url" : "https://api.github.com/users/ebfull/received_events",
         "repos_url" : "https://api.github.com/users/ebfull/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ebfull/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ebfull/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ebfull"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r108931629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108931629"
         }
      },
      "body" : "It looks like you're assuming all TX_HTLC transactions are DOS attacks?\r\nWhy reject them all?",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-30T13:53:22Z",
      "diff_hunk" : "@@ -46,6 +46,8 @@ bool IsStandard(const CScript& scriptPubKey, txnouttype& whichType, const bool w\n             return false;\n         if (m < 1 || m > n)\n             return false;\n+    } else if (whichType == TX_HTLC) {\n+        return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r108931629",
      "id" : 108931629,
      "original_commit_id" : "74a43f9dbd197d4b7b1c441d4c381a54d3be951f",
      "original_position" : 5,
      "path" : "src/policy/policy.cpp",
      "position" : 5,
      "pull_request_review_id" : 29997844,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-30T13:53:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/108931629",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5689834?v=3",
         "events_url" : "https://api.github.com/users/arielgabizon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/arielgabizon/followers",
         "following_url" : "https://api.github.com/users/arielgabizon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/arielgabizon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/arielgabizon",
         "id" : 5689834,
         "login" : "arielgabizon",
         "organizations_url" : "https://api.github.com/users/arielgabizon/orgs",
         "received_events_url" : "https://api.github.com/users/arielgabizon/received_events",
         "repos_url" : "https://api.github.com/users/arielgabizon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/arielgabizon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/arielgabizon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/arielgabizon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109183786"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109183786"
         }
      },
      "body" : "can reserve preimage.",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T15:17:47Z",
      "diff_hunk" : "@@ -108,6 +108,30 @@ static bool SignStep(const BaseSignatureCreator& creator, const CScript& scriptP\n         ret.push_back(valtype()); // workaround CHECKMULTISIG bug\n         return (SignN(vSolutions, creator, scriptPubKey, ret, sigversion));\n \n+    case TX_HTLC:\n+        {\n+            std::vector<unsigned char> image(vSolutions[0]);\n+            std::vector<unsigned char> preimage;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109183786",
      "id" : 109183786,
      "original_commit_id" : "74a43f9dbd197d4b7b1c441d4c381a54d3be951f",
      "original_position" : 7,
      "path" : "src/script/sign.cpp",
      "position" : 7,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109183786",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109185181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109185181"
         }
      },
      "body" : "Please reserve keys.",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T15:24:13Z",
      "diff_hunk" : "@@ -125,6 +125,19 @@ isminetype IsMine(const CKeyStore &keystore, const CScript& scriptPubKey, bool&\n         break;\n     }\n \n+    case TX_HTLC:\n+    {\n+        // Only consider HTLC's \"mine\" if we own ALL the keys\n+        // involved.\n+        vector<valtype> keys;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109185181",
      "id" : 109185181,
      "original_commit_id" : "74a43f9dbd197d4b7b1c441d4c381a54d3be951f",
      "original_position" : 8,
      "path" : "src/script/ismine.cpp",
      "position" : 8,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109185181",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109185420"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109185420"
         }
      },
      "body" : "Please don't introduce any new BOOST_FOREACH",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T15:25:17Z",
      "diff_hunk" : "@@ -54,6 +55,29 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, vector<vector<unsi\n \n         // Sender provides N pubkeys, receivers provides M signatures\n         mTemplates.insert(make_pair(TX_MULTISIG, CScript() << OP_SMALLINTEGER << OP_PUBKEYS << OP_SMALLINTEGER << OP_CHECKMULTISIG));\n+\n+        // HTLC where sender requests preimage of a hash\n+        {\n+            // Hash opcode and template opcode to match digest\n+            const std::pair<opcodetype, opcodetype> accepted_hashers[] = {\n+                make_pair(OP_SHA256, OP_BLOB32),\n+                make_pair(OP_RIPEMD160, OP_BLOB20)\n+            };\n+            const opcodetype accepted_timeout_ops[] = {OP_CHECKLOCKTIMEVERIFY, OP_CHECKSEQUENCEVERIFY};\n+\n+            BOOST_FOREACH(auto hasher, accepted_hashers) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109185420",
      "id" : 109185420,
      "original_commit_id" : "74a43f9dbd197d4b7b1c441d4c381a54d3be951f",
      "original_position" : 22,
      "path" : "src/script/standard.cpp",
      "position" : 22,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109185420",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109186876"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109186876"
         }
      },
      "body" : "Prefer to not make any new template matching parameters, but I see how it would be inconvenient to otherwise.",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T15:31:28Z",
      "diff_hunk" : "@@ -179,6 +179,10 @@ enum opcodetype\n \n \n     // template matching params\n+    OP_BLOB20 = 0xf7,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109186876",
      "id" : 109186876,
      "original_commit_id" : "74a43f9dbd197d4b7b1c441d4c381a54d3be951f",
      "original_position" : 4,
      "path" : "src/script/script.h",
      "position" : 4,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109186876",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109198981"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109198981"
         }
      },
      "body" : "Check that hasher_type and image.size() match?",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T16:28:06Z",
      "diff_hunk" : "@@ -374,6 +374,32 @@ CScript GetScriptForMultisig(int nRequired, const std::vector<CPubKey>& keys)\n     return script;\n }\n \n+CScript GetScriptForHTLC(const CPubKey& seller,\n+                         const CPubKey& refund,\n+                         const std::vector<unsigned char> image,\n+                         uint32_t timeout,\n+                         opcodetype hasher_type,\n+                         opcodetype timeout_type)\n+{\n+    CScript script;\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109198981",
      "id" : 109198981,
      "original_commit_id" : "483c04c548989345480bbf693225272e1e0daf05",
      "original_position" : 12,
      "path" : "src/script/standard.cpp",
      "position" : 113,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109198981",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109200296"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109200296"
         }
      },
      "body" : "Maybe hash should be optional, and if not supplied a `GetRandHash` preimage should be selected and returned to the caller.",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T16:35:10Z",
      "diff_hunk" : "@@ -336,6 +336,89 @@ UniValue createmultisig(const JSONRPCRequest& request)\n     return result;\n }\n \n+\n+UniValue createhtlc(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() != 4) {\n+        string msg = \"createhtlc seller_key refund_key hash timeout_type timeout\\n\"\n+            \"\\nCreates an address whose funds can be unlocked with a preimage or as a refund\\n\"\n+            \"It returns a json object with the address and redeemScript.\\n\"\n+\n+            \"\\nArguments:\\n\"\n+            \"1. seller_key    (string, required) The public key of the possessor of the preimage.\\n\"\n+            \"2. refund_key    (string, required) The public key of the recipient of the refund.\\n\"\n+            \"3. hash          (string, required) SHA256 or RIPEMD160 hash of the preimage.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109200296",
      "id" : 109200296,
      "original_commit_id" : "d13d5da6b804a1d64b3b63728be7c0369259c972",
      "original_position" : 15,
      "path" : "src/rpc/misc.cpp",
      "position" : 98,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109200296",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109200848"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109200848"
         }
      },
      "body" : "I think that you should persist the PreimageMap to disk.",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T16:38:24Z",
      "diff_hunk" : "@@ -102,6 +115,16 @@ class CBasicKeyStore : public CKeyStore\n     virtual bool HaveCScript(const CScriptID &hash) const;\n     virtual bool GetCScript(const CScriptID &hash, CScript& redeemScriptOut) const;\n \n+    bool GetPreimage(\n+        const std::vector<unsigned char>& image,\n+        std::vector<unsigned char>& preimage\n+    ) const;\n+    \n+    bool AddPreimage(",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109200848",
      "id" : 109200848,
      "original_commit_id" : "7a36d0a932678e7ae908fc22d3922423289e1025",
      "original_position" : 43,
      "path" : "src/keystore.h",
      "position" : 43,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109200848",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109201392"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109201392"
         }
      },
      "body" : "Maybe add a RemovePreimage, LockPreimage, and UnlockPreimage call, which could be used to ensure that a node no longer has the ability to solve a particular HTLC or does not until explicitly allowed. These should also go to disk.",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T16:40:56Z",
      "diff_hunk" : "@@ -102,6 +115,16 @@ class CBasicKeyStore : public CKeyStore\n     virtual bool HaveCScript(const CScriptID &hash) const;\n     virtual bool GetCScript(const CScriptID &hash, CScript& redeemScriptOut) const;\n \n+    bool GetPreimage(\n+        const std::vector<unsigned char>& image,\n+        std::vector<unsigned char>& preimage\n+    ) const;\n+    \n+    bool AddPreimage(\n+        const std::vector<unsigned char>& image,\n+        const std::vector<unsigned char>& preimage\n+    );\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109201392",
      "id" : 109201392,
      "original_commit_id" : "7a36d0a932678e7ae908fc22d3922423289e1025",
      "original_position" : 47,
      "path" : "src/keystore.h",
      "position" : 47,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109201392",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109201583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109201583"
         }
      },
      "body" : "If you add persistence, be sure to update here.",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T16:42:00Z",
      "diff_hunk" : "@@ -640,6 +640,49 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n     return NullUniValue;\n }\n \n+UniValue importpreimage(const JSONRPCRequest& request)\n+{\n+    if (!EnsureWalletIsAvailable(request.fHelp))\n+        return NullUniValue;\n+\n+    if (request.fHelp || request.params.size() != 1)\n+        throw runtime_error(\n+            \"importpreimage \\\"data\\\"\\n\"\n+            \"\\nImports a preimage for use in HTLC transactions. Only remains in memory.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109201583",
      "id" : 109201583,
      "original_commit_id" : "979f17cdb870e8415715e59eafd00ae516904a67",
      "original_position" : 12,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 12,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109201583",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109202263"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109202263"
         }
      },
      "body" : "Maybe just for safety, assert(vSolutions.size() > 3)",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-03-31T16:45:28Z",
      "diff_hunk" : "@@ -125,6 +125,19 @@ isminetype IsMine(const CKeyStore &keystore, const CScript& scriptPubKey, bool&\n         break;\n     }\n \n+    case TX_HTLC:\n+    {\n+        // Only consider HTLC's \"mine\" if we own ALL the keys\n+        // involved.\n+        vector<valtype> keys;\n+        keys.push_back(vSolutions[1]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r109202263",
      "id" : 109202263,
      "original_commit_id" : "74a43f9dbd197d4b7b1c441d4c381a54d3be951f",
      "original_position" : 9,
      "path" : "src/script/ismine.cpp",
      "position" : 9,
      "pull_request_review_id" : 30272831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-03-31T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/109202263",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "body" : "Thanks for the reviews @arielg and @JeremyRubin. I intend to rebase this again and clean it up.\r\n\r\nAlso, BIP199 has been submitted to start standardizing what is in this PR.",
      "created_at" : "2017-03-31T23:07:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-290855831",
      "id" : 290855831,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2017-03-31T23:07:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290855831",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3794471?v=3",
         "events_url" : "https://api.github.com/users/ebfull/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ebfull/followers",
         "following_url" : "https://api.github.com/users/ebfull/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ebfull/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ebfull",
         "id" : 3794471,
         "login" : "ebfull",
         "organizations_url" : "https://api.github.com/users/ebfull/orgs",
         "received_events_url" : "https://api.github.com/users/ebfull/received_events",
         "repos_url" : "https://api.github.com/users/ebfull/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ebfull/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ebfull/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ebfull"
      }
   },
   {
      "body" : "@ebfull Thanks for mentioning... that was my question, regarding BIP 199, when reading this thread.  \r\n\r\nA few questions actually - \r\n1) Does BIP 199 need to be at final before this (HTLC) can be implemented in Core wallet? Probably dumb process question.\r\n2) Bitcoin wiki on Lightning network states in part, regarding \"key features,\" that \"payments can be routed across more than one blockchain (including altcoins and sidechains) as long as all the chains support the same hash function to use for the hash lock, as well as the ability the ability to create time locks.\"  Although I see that this is not actually part of the proposed functionality here by way of the commits, might it ultimately allow the payment routing across more than one blockchain with further development?\r\n3) TX_HTLC transactions - What is the way in which they are accepted and what would be a sample condition in which one would obviously be rejected?",
      "created_at" : "2017-06-02T09:34:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-305738883",
      "id" : 305738883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2017-06-02T09:34:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/305738883",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4469280?v=3",
         "events_url" : "https://api.github.com/users/ABISprotocol/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ABISprotocol/followers",
         "following_url" : "https://api.github.com/users/ABISprotocol/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ABISprotocol/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ABISprotocol",
         "id" : 4469280,
         "login" : "ABISprotocol",
         "organizations_url" : "https://api.github.com/users/ABISprotocol/orgs",
         "received_events_url" : "https://api.github.com/users/ABISprotocol/received_events",
         "repos_url" : "https://api.github.com/users/ABISprotocol/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ABISprotocol/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ABISprotocol/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ABISprotocol"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r119960030"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/119960030"
         }
      },
      "body" : "@arielgabizon Would this actually reject all TX_HTLC items?  I had the impression or understand that there was a design such that these would actually be completed in most instances.  In lnd, a description of this was given as follows:  \"If payment/htlc amount is too small, than such output is called dust. If for some reason channel have been force closed during payment, and dust htlc/payment haven't been settled (both sides haven't agreed to remove the htlc and change the balances accordingly), th(e)n we (do) not include it in commitment transaction (thereby giv(ing it) as a fee to miners) in order to make it valid.\"  For reference to this comment (from a contributor in lnd) see:  https://github.com/lightningnetwork/lnd/pull/115#issuecomment-305739226\r\n\r\nWith that said, I'm not sure of how the differences will play out between how bitcoin core is planning on handling it vs. how it is handled presently in the lnd development process.  \r\n\r\ncc @ebfull ",
      "commit_id" : "0ba1a5008b80041114771c98ff0e9b349945b473",
      "created_at" : "2017-06-02T21:58:31Z",
      "diff_hunk" : "@@ -46,6 +46,8 @@ bool IsStandard(const CScript& scriptPubKey, txnouttype& whichType, const bool w\n             return false;\n         if (m < 1 || m > n)\n             return false;\n+    } else if (whichType == TX_HTLC) {\n+        return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#discussion_r119960030",
      "id" : 119960030,
      "original_commit_id" : "74a43f9dbd197d4b7b1c441d4c381a54d3be951f",
      "original_position" : 5,
      "path" : "src/policy/policy.cpp",
      "position" : 5,
      "pull_request_review_id" : 41892906,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7601",
      "updated_at" : "2017-06-02T21:58:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/119960030",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4469280?v=3",
         "events_url" : "https://api.github.com/users/ABISprotocol/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ABISprotocol/followers",
         "following_url" : "https://api.github.com/users/ABISprotocol/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ABISprotocol/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ABISprotocol",
         "id" : 4469280,
         "login" : "ABISprotocol",
         "organizations_url" : "https://api.github.com/users/ABISprotocol/orgs",
         "received_events_url" : "https://api.github.com/users/ABISprotocol/received_events",
         "repos_url" : "https://api.github.com/users/ABISprotocol/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ABISprotocol/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ABISprotocol/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ABISprotocol"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "This still alive?",
      "created_at" : "2017-10-24T17:32:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7601#issuecomment-339070202",
      "id" : 339070202,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7601",
      "updated_at" : "2017-10-24T17:32:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/339070202",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   }
]
