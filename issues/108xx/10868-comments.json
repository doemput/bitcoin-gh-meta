[
   {
      "body" : "@ryanofsky - should address your concern about `usewallet`",
      "created_at" : "2017-07-18T16:07:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316113627",
      "id" : 316113627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T16:07:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316113627",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128029949"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128029949"
         }
      },
      "body" : "In commit \"bitcoin-cli shouldn't read the -wallet argument from conf file\"\r\n\r\nWe should no longer have trapped in wallet problem anymore because node commands should currently work on the wallet endpoint.",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T16:41:16Z",
      "diff_hunk" : "@@ -103,8 +103,31 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    // For bitcoin-cli, the -wallet parameter can only be specified from the\n+    // command line, not in the conf file. This is because the conf file can\n+    // contain multiple -wallet args, so it's not possible to determine which\n+    // one to use.  Furthermore, if bitcoin-cli used the -wallet arg from the\n+    // conf file, we'd get 'trapped' in wallet mode and not be able to issue",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128029949",
      "id" : 128029949,
      "original_commit_id" : "761c5b160cde59478e311ac7560772c828995f41",
      "original_position" : 17,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 50671688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:52:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128029949",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128030465"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128030465"
         }
      },
      "body" : "In commit \"bitcoin-cli shouldn't read the -wallet argument from conf file\"\r\n\r\nMaybe eliminate this variable and use `!wallet.empty()` instead.",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T16:43:23Z",
      "diff_hunk" : "@@ -103,8 +103,31 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    // For bitcoin-cli, the -wallet parameter can only be specified from the\n+    // command line, not in the conf file. This is because the conf file can\n+    // contain multiple -wallet args, so it's not possible to determine which\n+    // one to use.  Furthermore, if bitcoin-cli used the -wallet arg from the\n+    // conf file, we'd get 'trapped' in wallet mode and not be able to issue\n+    // commands to the node.\n+    //\n+    // Store the command line -wallet arg here so we can restore it after\n+    // parsing the conf file.\n+    bool use_wallet = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128030465",
      "id" : 128030465,
      "original_commit_id" : "761c5b160cde59478e311ac7560772c828995f41",
      "original_position" : 22,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 50671688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:52:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128030465",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128032112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128032112"
         }
      },
      "body" : "In commit \"[utils] bitcoin-cli shouldn't read the -wallet argument from conf file\"\r\n\r\nI think it would make control flow clearer, and also simplify the PR if you just passed wallet_name variable directly from AppInitRPC -> CallRPC without going through the `gArgs` class. You could do this by making wallet_name a static global in this file (`static const std::string g_wallet_name;`) or an output argument (`std::string&`) for this function that could be passed to other functions.\r\n\r\nThis way you wouldn't need the ClearArg method or SoftSet call or need to make any changes outside of bitcoin-cli.",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T16:50:24Z",
      "diff_hunk" : "@@ -103,8 +103,31 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    // For bitcoin-cli, the -wallet parameter can only be specified from the\n+    // command line, not in the conf file. This is because the conf file can\n+    // contain multiple -wallet args, so it's not possible to determine which\n+    // one to use.  Furthermore, if bitcoin-cli used the -wallet arg from the\n+    // conf file, we'd get 'trapped' in wallet mode and not be able to issue\n+    // commands to the node.\n+    //\n+    // Store the command line -wallet arg here so we can restore it after\n+    // parsing the conf file.\n+    bool use_wallet = false;\n+    std::string wallet_name;\n+    if (gArgs.GetArgs(\"-wallet\").size() > 1) {\n+        fprintf(stderr, \"Error: Only one -wallet option may be used.\\n\");\n+        return EXIT_FAILURE;\n+    } else if (gArgs.GetArgs(\"-wallet\").size() == 1) {\n+        wallet_name = (gArgs.GetArgs(\"-wallet\"))[0];\n+        use_wallet = true;\n+    }\n     try {\n         ReadConfigFile(GetArg(\"-conf\", BITCOIN_CONF_FILENAME));\n+        // restore the command line -wallet argument\n+        gArgs.ClearArg(\"-wallet\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128032112",
      "id" : 128032112,
      "original_commit_id" : "761c5b160cde59478e311ac7560772c828995f41",
      "original_position" : 34,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 50671688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:52:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128032112",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128034402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128034402"
         }
      },
      "body" : "In commit \"[args] allow args to be cleared from ArgsManager\"\r\n\r\nNot sure, but I think you might be able to write this as `return mapArgs.erase(strArg) | mapMultiArgs.erase(strArg)`. Should avoid `||` though because that will short circuit.",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T16:59:37Z",
      "diff_hunk" : "@@ -482,7 +482,21 @@ void ArgsManager::ForceSetArg(const std::string& strArg, const std::string& strV\n     mapMultiArgs[strArg].push_back(strValue);\n }\n \n-\n+bool ArgsManager::ClearArg(const std::string& strArg)\n+{\n+    LOCK(cs_args);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128034402",
      "id" : 128034402,
      "original_commit_id" : "f2c4d06a60a5975fffcaa1da73d491886f8589c8",
      "original_position" : 7,
      "path" : "src/util.cpp",
      "position" : 7,
      "pull_request_review_id" : 50671688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:52:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128034402",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "@ryanofsky Thanks for the feedback. You're right - the PR description was overly long and confusing for something that's actually very simple. I've reworked it using your words.\r\n\r\nYes, perhaps this could go in 0.15 as a bugfix.\r\n\r\nWill address your technical feedback soon.",
      "created_at" : "2017-07-18T17:30:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316137480",
      "id" : 316137480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T17:30:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316137480",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "If we want to replace `-usewallet` with `-wallet` for `bitcoin-cli`, it should go in 0.15 or we'd be breaking backward compatibility in later?",
      "created_at" : "2017-07-18T17:34:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316138572",
      "id" : 316138572,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T17:34:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316138572",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> If we want to replace -usewallet with -wallet for bitcoin-cli, it should go in 0.15 or we'd be breaking backward compatibility in later?\r\n\r\nYes, but as I've mentioned before, I'm not very concerned about backward compatibility for an interface that should be marked as experimental.\r\n\r\nThat said, I'm happy for this to go in v0.15 as a bugfix.",
      "created_at" : "2017-07-18T17:46:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316141986",
      "id" : 316141986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T17:46:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316141986",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "> I'm not very concerned about backward compatibility for an interface that should be marked as experimental.\r\n\r\nStill no reason to go intentionally plan to break it.",
      "created_at" : "2017-07-18T17:49:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316142883",
      "id" : 316142883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T17:49:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316142883",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> Still no reason to go intentionally plan to break it.\r\n\r\nSorry, I'm confused about what you're advocating for? I've already said I'm happy for this to go into v0.15 as a bugfix.",
      "created_at" : "2017-07-18T18:02:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316146666",
      "id" : 316146666,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T18:02:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316146666",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "@jnewbery I think we should either decide to have it, and get it in now, or not at all.",
      "created_at" : "2017-07-18T18:06:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316147518",
      "id" : 316147518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T18:06:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316147518",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ok, my vote is for having it now.\r\n\r\naside: on a philosophical level I disagree that we should be forever bound to an interface that hasn't been fully agreed or designed. Presumably any users that are active enough to enable multiwallet in its first release and update all their client software are perfectly able to change `usewallet` to `wallet` at a later date.",
      "created_at" : "2017-07-18T18:09:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316148515",
      "id" : 316148515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T18:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316148515",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128063377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128063377"
         }
      },
      "body" : "Thanks. Fixed",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T18:52:39Z",
      "diff_hunk" : "@@ -103,8 +103,31 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    // For bitcoin-cli, the -wallet parameter can only be specified from the\n+    // command line, not in the conf file. This is because the conf file can\n+    // contain multiple -wallet args, so it's not possible to determine which\n+    // one to use.  Furthermore, if bitcoin-cli used the -wallet arg from the\n+    // conf file, we'd get 'trapped' in wallet mode and not be able to issue",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128063377",
      "id" : 128063377,
      "original_commit_id" : "761c5b160cde59478e311ac7560772c828995f41",
      "original_position" : 17,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 50708292,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:52:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128063377",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128063439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128063439"
         }
      },
      "body" : "Neat! Thanks. Fixed",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T18:52:56Z",
      "diff_hunk" : "@@ -482,7 +482,21 @@ void ArgsManager::ForceSetArg(const std::string& strArg, const std::string& strV\n     mapMultiArgs[strArg].push_back(strValue);\n }\n \n-\n+bool ArgsManager::ClearArg(const std::string& strArg)\n+{\n+    LOCK(cs_args);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128063439",
      "id" : 128063439,
      "original_commit_id" : "f2c4d06a60a5975fffcaa1da73d491886f8589c8",
      "original_position" : 7,
      "path" : "src/util.cpp",
      "position" : 7,
      "pull_request_review_id" : 50708358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:52:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128063439",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128063481"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128063481"
         }
      },
      "body" : "Yes, much better. Thanks",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T18:53:08Z",
      "diff_hunk" : "@@ -103,8 +103,31 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    // For bitcoin-cli, the -wallet parameter can only be specified from the\n+    // command line, not in the conf file. This is because the conf file can\n+    // contain multiple -wallet args, so it's not possible to determine which\n+    // one to use.  Furthermore, if bitcoin-cli used the -wallet arg from the\n+    // conf file, we'd get 'trapped' in wallet mode and not be able to issue\n+    // commands to the node.\n+    //\n+    // Store the command line -wallet arg here so we can restore it after\n+    // parsing the conf file.\n+    bool use_wallet = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128063481",
      "id" : 128063481,
      "original_commit_id" : "761c5b160cde59478e311ac7560772c828995f41",
      "original_position" : 22,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 50708416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128063481",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128064332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128064332"
         }
      },
      "body" : "I prefer not to set this as a global or pass it through `main()`, `CommandLineRPC()` and `CallRPC()`. It makes sense to me to set up all the config in `AppInitRPC()` and have it contained in the standard `gArgs` global.\r\n\r\nHappy to reconsider if making changes to util.cpp is a blocker for this PR.",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T18:56:43Z",
      "diff_hunk" : "@@ -103,8 +103,31 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    // For bitcoin-cli, the -wallet parameter can only be specified from the\n+    // command line, not in the conf file. This is because the conf file can\n+    // contain multiple -wallet args, so it's not possible to determine which\n+    // one to use.  Furthermore, if bitcoin-cli used the -wallet arg from the\n+    // conf file, we'd get 'trapped' in wallet mode and not be able to issue\n+    // commands to the node.\n+    //\n+    // Store the command line -wallet arg here so we can restore it after\n+    // parsing the conf file.\n+    bool use_wallet = false;\n+    std::string wallet_name;\n+    if (gArgs.GetArgs(\"-wallet\").size() > 1) {\n+        fprintf(stderr, \"Error: Only one -wallet option may be used.\\n\");\n+        return EXIT_FAILURE;\n+    } else if (gArgs.GetArgs(\"-wallet\").size() == 1) {\n+        wallet_name = (gArgs.GetArgs(\"-wallet\"))[0];\n+        use_wallet = true;\n+    }\n     try {\n         ReadConfigFile(GetArg(\"-conf\", BITCOIN_CONF_FILENAME));\n+        // restore the command line -wallet argument\n+        gArgs.ClearArg(\"-wallet\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128064332",
      "id" : 128064332,
      "original_commit_id" : "761c5b160cde59478e311ac7560772c828995f41",
      "original_position" : 34,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 50709382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T18:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128064332",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Addressed @ryanofsky's comments",
      "created_at" : "2017-07-18T18:57:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316163834",
      "id" : 316163834,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T18:57:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316163834",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128071504"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128071504"
         }
      },
      "body" : "> Happy to reconsider if making changes to util.cpp is a blocker for this PR.\r\n\r\nNot a big deal to me. If someone else objects to the util.cpp change though, we should just be aware that it isn't a critical part of the PR and there are various ways to get the same behavior.",
      "commit_id" : "561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-18T19:24:21Z",
      "diff_hunk" : "@@ -103,8 +103,31 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    // For bitcoin-cli, the -wallet parameter can only be specified from the\n+    // command line, not in the conf file. This is because the conf file can\n+    // contain multiple -wallet args, so it's not possible to determine which\n+    // one to use.  Furthermore, if bitcoin-cli used the -wallet arg from the\n+    // conf file, we'd get 'trapped' in wallet mode and not be able to issue\n+    // commands to the node.\n+    //\n+    // Store the command line -wallet arg here so we can restore it after\n+    // parsing the conf file.\n+    bool use_wallet = false;\n+    std::string wallet_name;\n+    if (gArgs.GetArgs(\"-wallet\").size() > 1) {\n+        fprintf(stderr, \"Error: Only one -wallet option may be used.\\n\");\n+        return EXIT_FAILURE;\n+    } else if (gArgs.GetArgs(\"-wallet\").size() == 1) {\n+        wallet_name = (gArgs.GetArgs(\"-wallet\"))[0];\n+        use_wallet = true;\n+    }\n     try {\n         ReadConfigFile(GetArg(\"-conf\", BITCOIN_CONF_FILENAME));\n+        // restore the command line -wallet argument\n+        gArgs.ClearArg(\"-wallet\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#discussion_r128071504",
      "id" : 128071504,
      "original_commit_id" : "761c5b160cde59478e311ac7560772c828995f41",
      "original_position" : 34,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 50716955,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10868",
      "updated_at" : "2017-07-18T19:30:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/128071504",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "But I want to be able to tell my daemon to load wallets one two and three, while make my bitcoin-cli default to wallet one.",
      "created_at" : "2017-07-18T19:59:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316180003",
      "id" : 316180003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T19:59:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316180003",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "> But I want to be able to tell my daemon to load wallets one two and three, while make my bitcoin-cli default to wallet one.\r\n\r\nWe could allow this, but the thought is that it's dangerous because maybe you'll forget to add an explicit -wallet=filename argument in one of the cases where you don't intend to use your default wallet (maybe in a single bitcoin-cli invocation as part of a larger script) and then you will accidentally perform an action on the wrong wallet.",
      "created_at" : "2017-07-18T20:06:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316181874",
      "id" : 316181874,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:06:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316181874",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "@ryanofsky  That danger doesn't hold w the only allow one argument change.  \r\n\r\nExample usecase is joinmarket wallet and a normal wallet.  Joinmarket will always use the rpc, but the cli I want to always use the normal wallet.",
      "created_at" : "2017-07-18T20:09:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316182535",
      "id" : 316182535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:09:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316182535",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "> But I want to be able to tell my daemon to load wallets one two and three, while make my bitcoin-cli default to wallet one.\r\n\r\nThen write a wrapper around your cli :slightly_smiling_face: \r\n\r\nI agree with @ryanofsky - not having a default wallet is *much* safer for all users.",
      "created_at" : "2017-07-18T20:13:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316183548",
      "id" : 316183548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:13:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316183548",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "A setting I explicitly set isn't a default though. I agree it shouldn't have a default.  The argument you're making would apply identically to the testnet vs mainnet switch (which is also multiple wallets and also unsafe if you get the wrong one).",
      "created_at" : "2017-07-18T20:16:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316184290",
      "id" : 316184290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:16:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316184290",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Yeah, I'm not actually against allowing users to explicitly set a default wallet. I was just trying to explain what the rationale was.\r\n\r\n@gmaxwell, are you suggesting with the one-argument limit that you might want to allow users to specify a default wallet in the conf file, but then disallow specifying a second wallet on the command line that would override it? That seems like a weird behavior, but I guess would be safe by john's definition.",
      "created_at" : "2017-07-18T20:19:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316185086",
      "id" : 316185086,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:21:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316185086",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "I agree - the `testnet` / `mainnet` switch in the .conf file is dangerous and has tripped lots of people up, including me several times. Having to specify it explicitly it for each bitcoin-cli call would be safer (but irritating).\r\n\r\nI'm not even clear on what exact functionality you want - are you saying `-usewallet` in the conf file should be the default? But that it can be overridden by `-usewallet` on the command line?",
      "created_at" : "2017-07-18T20:22:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316185956",
      "id" : 316185956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:22:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316185956",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "If we are ok with explicitly set default wallets, maybe it would best to have a \"-defaultwallet\" config setting that gets implemented on server side rather than client side. This would allow for consistent behavior even across different clients, and provide functionality that couldn't be replicated with a simple wrapper script or command alias.",
      "created_at" : "2017-07-18T20:25:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316186690",
      "id" : 316186690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:27:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316186690",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "What is the rationale for renaming -usewallet to -wallet (over just rejecting duplicate -usewallet and/or having -defaultwallet)? Besides being slightly shorter, I don't see the advantage.",
      "created_at" : "2017-07-18T20:40:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316190736",
      "id" : 316190736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:46:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316190736",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> What is the rationale for renaming -usewallet to -wallet (over just rejecting duplicate -usewallet and/or -defaultwallet)?\r\n\r\nFrom my point of view I think the consistency is good. If we just have a consistent \"-wallet=filename\" option accepted by `bitcoind`, `bitcoin-qt`, `bitcoin-cli` tools, it is harder to screw up using them. Especially if we want to have support for default wallets like Greg wants, it seems like asking for trouble expecting users to remember \"-usewallet\" instead of \"-wallet\" on the command line for this one tool, and punishing them if they forget by not showing any error and falling back to another wallet written in some config file.",
      "created_at" : "2017-07-18T20:47:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316192750",
      "id" : 316192750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:47:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316192750",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "I'm not sure it's a great thing for consistency, if it needs such exceptional processing (ignoring something in the conf file is unique...).",
      "created_at" : "2017-07-18T20:53:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316194307",
      "id" : 316194307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:53:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316194307",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Exactly what @ryanofsky said.\r\n\r\nAnd less importantly, because `-use` is content free. All arguments are used.",
      "created_at" : "2017-07-18T20:54:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316194673",
      "id" : 316194673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T20:54:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316194673",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "> I'm not sure it's a great thing for consistency, if it needs such exceptional processing (ignoring something in the conf file is unique...).\r\n\r\nI don't necessarily think it should be ignored in the conf file. That's really just a quirk of the way this PR is implemented. I think my preferred implementation would check to see if a command line argument is specified, and if so override anything in the config file (obviously). Else if no command line argument is specified, and the configuration file has more than one value specified, exit with an error message, otherwise use the value from the config file. Behavior would be indistinguishable in the common case where bitcoind and bitcoin-cli share the same config file.\r\n\r\nI think John favored current approach though to prioritize safety just always get the wallet name from the command line when an RPC call is being made.",
      "created_at" : "2017-07-18T21:10:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316198924",
      "id" : 316198924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T21:10:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316198924",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "> That's really just a quirk of the way this PR is implemented.\r\n\r\nCorrect - in terms of implementation, it's simpler to just clear out the .conf file wallet argument (since wallet is a multimap). The end result is exactly as Russ has described.\r\n\r\nI'm happy to review alternative implementations if that's confused people.",
      "created_at" : "2017-07-18T21:26:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316202917",
      "id" : 316202917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T21:26:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316202917",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "I think my objection goes away if -wallet in the config file is not being ignored, but there are just rules that prevent specifying it twice on the command line.",
      "created_at" : "2017-07-18T21:30:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316203788",
      "id" : 316203788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T21:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316203788",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "After some offline discussion with @jnewbery, Concept ACK. I misunderstood how little effect \"ignore the config file\" had on the semantics of -wallet.\r\n\r\nI believe the behaviour of the -wallet option can effectively be modelled as \"the command-line -wallet arguments replace the config file ones as a whole, rather than appending to them\". I think that's fine. Ideally, I think that interpretation can be extended slightly further, by making `bitcoin-cli` use (all) `wallet=` lines from the config if no `-wallet` is provided on the cmdline.\r\n\r\nHaving a `-defaultwallet` can be an independent feature that is added later, or not.",
      "created_at" : "2017-07-18T22:06:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316212416",
      "id" : 316212416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T22:22:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316212416",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Sounds good. I'm happy with this PR as it is, as well as the other options that have been discussed. Note that the current PR doesn't exactly model command line -wallet options \"replacing config file ones as a whole\", because it clears config wallet options even when no command line option specified. The change I was talking about earlier would give you that behavior (and potentially less safe results when bitcoind and bitcoin-cli read different config files). FWIW, I implemented it here https://github.com/ryanofsky/bitcoin/commit/b701085e0c35e9e09f44d8e9ba8303617e445ca3",
      "created_at" : "2017-07-18T22:32:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316217442",
      "id" : 316217442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T22:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316217442",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "@ryanofsky - I think your branch is much nicer (modulo the two things we just chatted about). Mind if I cherry pick it here?",
      "created_at" : "2017-07-18T22:42:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316219219",
      "id" : 316219219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-18T22:42:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316219219",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "ACK 561d0190d326c4bb75d9db03cabbeea10b9ec5cb",
      "created_at" : "2017-07-19T01:54:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316249457",
      "id" : 316249457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T01:54:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316249457",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Agree with @jnewbery that @ryanofsky ryanofsky/bitcoin@b701085 is preferable.\r\n\r\nI like the current `-usewallet` for the reasons that users can/will/must clearly distinct between running with multiple wallets (d/QT `-wallet`) and accessing a specific wallet (`-usewallet`).\r\n\r\nI'm aware of the different layers (d/Qt vs `bitcoin-cli`) but from the users perspective, differentiation of an argument between the daemon and the cli is difficult to understand (once its running multiple wallets, once its selecting a specific wallet). Having two identical arguments that have total different effects is not ideal (even cross binaries).\r\n\r\nI think for 0.15 we should merge the multiple `-usewallet` arguments blocker: #10867 \r\n\r\nAlso, if we want to go with a default wallet (in future and we already do this for Qt [Index 0]), we could reuse the `-usewallet` argument for the daemon and/or-only Qt.",
      "created_at" : "2017-07-19T09:32:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316328310",
      "id" : 316328310,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T09:32:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316328310",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "#10867 doesn't address usability problem I referred to above where user forgets \"use\" prefix in a bitcoin-cli call, their `-wallet=filename` is ignored by bitcoin-cli, resulting in server error or the RPC call ignoring specified filename and accessing wrong wallet if server configured with a different single wallet.\r\n\r\n`-usewallet` option was ~~~briefly necessary~~~ *added in moment of confusion* while the wallet endpoint didn't allow node calls, but now having two differently spelled options is just adding a footgun and source of complexity.\r\n\r\nAnyway, I believe John is currently working on an improved version of ryanofsky/bitcoin@b701085 that actually shrinks it down further, removes global variable, and fixes bug where I forgot to remove \"use\" prefix (footgun!).\r\n\r\n\r\n\r\n",
      "created_at" : "2017-07-19T12:11:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316365906",
      "id" : 316365906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T12:20:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316365906",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "I can't follow the potential source of confusion. Please help me to understand.\r\n\r\n### The current master approach is:\r\n* Daemon (server) uses `-wallet` to specify (additional) wallets to run with.\r\n* CLI (client) uses `-usewallet` to specify which of the available wallets (specified though daemons `-wallet`) should be used.\r\n* `bitcoin.conf`'s `-wallet` arguments do not affect `bitcoin-cli`.\r\n* `bitcoin.conf`'s `-usewallet` arguments does allow to define a default wallet (sounds okay to me if someone adds this intentionally, the term `use` makes it clear).\r\n* providing an `-usewallet` argument in CLI will \"override\" the default bitcoin.conf `-usewallet` directive (can be blocked by merging #10867).\r\n\r\n### This PR would lead to:\r\n* Daemon and client do both use `-wallet` (once for defining multiple wallets, once for defining a single wallet to use for executing a command, which are two completely different use-cases).\r\n* Disabling the option to have a default wallet by explicitly setting `-usewallet` in `bitcoin.conf` (may be okay)\r\n* Add code to detect and reject the `-wallet` arguments in `bitcoin.conf` and only accept them via command line (?)\r\n\r\nIMO from the users perspective, the current master approach seems much more logical.\r\nAlso, I don't see the footgun source (both approaches have risks selecting the wrong wallet).",
      "created_at" : "2017-07-19T12:53:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316376333",
      "id" : 316376333,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316376333",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "A simple example of confusion (mentioned twice above) is user forgets to add \"use\" prefix to bitcoin-cli and the argument gets ignored.\r\n\r\nNotice how you have 5 bullet points to describe current behavior and one bullet point to describe proposed behavior (the second two bullets are just contrasting with current behavior.)\r\n\r\nIdeal scenario to me is our tools consistently accept `-wallet=filename` to denote which wallet to use. If tool supports accessing multiple wallets, it accepts multiple -wallet=filename options, if it doesn't it shows an error when more than one is provided.",
      "created_at" : "2017-07-19T13:09:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316380843",
      "id" : 316380843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T13:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316380843",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "> A simple example of confusion (mentioned twice above) is user forgets to add \"use\" prefix to bitcoin-cli and the argument gets ignored.\r\n\r\nIf he forgets the `use` prefix and uses `-wallet` instead, the call would not be executed in multiwallet environment because he had not specified a wallet.\r\n\r\nI don't think we should avoid setting a default wallet via `-usewallet` in `bitcoin.conf`, this seems to me after a desirable use-cases and, because it's different to `-wallet` and has the term `-use` in it, I think its acceptable.\r\n\r\nIf we don't want that, then we should ignore -usewallet in the conffile-reader logic.\r\n\r\n> Ideal scenario to me is our tools consistently accept -wallet=filename to denote which wallet to use. \r\n\r\nBut that would not be true for bitcoind/Qt because you don't specify which wallet (single) to use (you do more specify which wallets you want to have accessible). Especially for Qt that's not true (there always index 0 will be used).\r\n\r\nI fail to see the advantages of having a single `-wallet` argument for both tools because IMO they have different implications. I think it is a source of confusion.",
      "created_at" : "2017-07-19T13:29:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316386922",
      "id" : 316386922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T13:29:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316386922",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> If he forgets the use prefix and uses -wallet instead, the call would not be executed in multiwallet environment because he had not specified a wallet.\r\n\r\nYes, that is what I meant by \"-wallet=filename is ignored by bitcoin-cli, resulting in server error or the RPC call ignoring specified filename and accessing wrong wallet if server configured with a different single wallet.\" The worse case of the two is the case where server is single wallet and filename provided just gets silently ignored instead of checked on the server. Anyway, even if we disagree about how bad it is for bitcoin-cli to silently ignore \"-wallet\" options, I think we can agree that in the most common use-case (calling bitcoin-cli with a wallet filename on command line and no custom default config), having differently spelled `-usewallet` and `-wallet` arguments that get used by some commands and ignored by others does add some new opportunities for confusion and errors even if we disagree about how bad the confusion and errors are. And in any case (I will explain below) adding confusion to command line interface to support a default wallet feature is unnecessary.\r\n\r\n> I don't think we should avoid setting a default wallet via -usewallet in bitcoin.conf, this seems to me after a desirable use-cases and, because it's different to -wallet and has the term -use in it, I think its acceptable.\r\n\r\nI agree that being able to set default wallet is useful. All I'm saying is that better way to do it is to call the default wallet option `-defaultwallet` instead of `-usewallet` and implement it server side instead of client side. Implementing it server side would have advantage of working with clients other than `bitcoin-cli`. It would avoid adding unnecessary complexity to command line in the common case where it isn't used, and avoid the complicated interactions you described in your five bullet points when it is used. Finally, it could interact better with per-user default wallets (which are necessarily implemented server-side) which luke-jr at least has mentioned use cases for if we decide to add support for them in the future.",
      "created_at" : "2017-07-19T14:31:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316406208",
      "id" : 316406208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T14:31:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316406208",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "I think I've sown unnecessary confusion with this PR. All that it's doing is:\r\n\r\n- If bitcoind is running multiwallet, bitcoin-cli must be called with exactly one `-wallet` command line argument to access wallet RPCs.\r\n\r\nThat's it. With singlewallet mode, everything runs exactly as before. With non-wallet RPCs, everything runs exactly as before. If more than one `-wallet` argument is provided on the command line, the call fails.\r\n\r\nHaving two different arguments would make this more confusing, especially if one of them is called `usewallet`. How do users know that `usewallet` means *bitcoin-cli uses this but not bitcoind* and `wallet` means *bitcoind uses this but not bitcoin-cli*? How do they know that `usewallet` in .conf means *default wallet* and on the command line means *override default wallet*? How do they know that `usewallet` is the default wallet if you're using bitcoin-cli but there is no default wallet if you're using RPC over HTTP? They don't, because the `use` is `usewallet` is ambiguous enough to be meaningless.",
      "created_at" : "2017-07-19T14:42:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316409725",
      "id" : 316409725,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T14:42:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316409725",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2017-07-19T15:37:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316426938",
      "id" : 316426938,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T15:37:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316426938",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "https://github.com/ryanofsky/bitcoin/commit/4ae1c6858e55f6f715918fe3c82403a8c8e69828 is another implementation of this PR with identical behavior, which might be a little easier to discuss.\r\n\r\nSadly, though, treating command line arguments exactly the same as config file arguments might be an inviolable principle in bitcoin that would make these approaches unacceptable (https://botbot.me/freenode/bitcoin-core-dev/msg/88779993/). So users might have to deal with differently spelled wallet options for different commands. Not ideal from my point of view (and of course predictably avoidable if we just treated wallet filenames like normal parameters https://github.com/bitcoin/bitcoin/pull/10829#issuecomment-315941661), but ok enough.",
      "created_at" : "2017-07-19T16:19:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316439598",
      "id" : 316439598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T16:21:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316439598",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "As far as I can tell, this PR is functionally equivalent to the command-line `-wallet` replacing the .conf file `wallet` args, which is standard for all arguments. It has to be handled slightly carefully because of the way mapmultiargs work, and if we really wanted to be formal about \"the command-line -wallet arguments replace the config-file one as a whole, rather than appending to\", then we'd need bitcoin-cli to have knowledge of which RPCs are wallet calls and which are server calls.\r\n\r\nI think @ryanofsky's branch is as good as this, although I haven't manually tested it yet.",
      "created_at" : "2017-07-19T18:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316477712",
      "id" : 316477712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-19T18:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316477712",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "I prefer not to overload `-wallet` both for bitcoind, which has \"what wallets to load\", and bitcoin-cli which has \"what wallet to choose\".\r\nThese meanings are different enough. Also one option is multi-value, the other single-value. This requires special casing to make work, which I don't think is worth it.\r\n(if bitcoind and bitcoin-cli read different configuration files, this issue wouldn't exist as there would be no overlap in namespaces - but alas)\r\n\r\nThe current approach of introducing a new argument name for bitcoin-cli to select the wallet (now `-rpcwallet`) has less potential of confusing, and doesn't require special casing of argument handling, so is preferable to me.",
      "created_at" : "2017-07-20T08:43:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316637887",
      "id" : 316637887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-20T08:43:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316637887",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Should be closed? (#10883 is merged)",
      "created_at" : "2017-07-20T13:47:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316708264",
      "id" : 316708264,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-20T13:47:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316708264",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "I still don't understand why `-rpcwallet` is preferred. bitcoind is a node where `-wallet` means \"this is the wallet I wish to use\". Since 0.15, multiple wallets are allowed. bitcoin-cli is a command line interface where `wallet` would mean \"this is the wallet I wish to issue a command to\". Obviously only one `wallet` can be used in this context. So yes, perhaps this is a little bit overloaded, but only in the most intuitive and expected way.\r\n\r\nAs for special-casing, the only way `wallet` is treated functionally differently is that in bitcoin-cli a `wallet` on the command-line *overrides* `wallet` in .conf, but for bitcoind `wallet` on the command-line *appends* to the `wallets` in bitcoin.conf. That's really the only way it could work, since appending doesn't make sense for bitcoin-cli where only one `wallet` is allowed.\r\n\r\n(and FWIW, command-line arguments *appending* to .conf arguments instead of replacing them is very counter-intuitive)\r\n\r\nBut yes, you're right - the decision has been made. I'll close this.",
      "created_at" : "2017-07-20T14:11:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10868#issuecomment-316715640",
      "id" : 316715640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10868",
      "updated_at" : "2017-07-20T14:11:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316715640",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
