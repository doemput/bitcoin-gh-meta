[
   {
      "body" : "On one hand, this is very useful for diagnostics.\r\n\r\nOn the other hand this moves our internal anti-DDoS mechanism into the P2P interface. This means that\r\na) we can't change it to some other mechanism anymore at a later time\r\nb) other node implementations need to use the same or a similar system\r\n\r\nNot sure how much of a drawback this is. Accumulating a ban score is a straightforward mechanism. All in all I'm mildly positive about this. But I'd suggest proposing this on the mailing list.\r\n",
      "created_at" : "2014-06-23T08:29:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-46817865",
      "id" : 46817865,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-23T08:29:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46817865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Why close it?\r\n",
      "created_at" : "2014-06-23T09:43:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-46824298",
      "id" : 46824298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-23T09:43:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46824298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj only because I noticed it didn't compile, re-opened now.",
      "created_at" : "2014-06-23T10:16:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-46826995",
      "id" : 46826995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-23T10:16:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46826995",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "Providing more information to identify node misbehavior seems like a good move, but:\r\n- I'm having a hard time picturing how a running node could modify its behavior in response to misbehavior messages; if a node knows \"I could do X so that my peer won't increase my banscore,\" wouldn't it be doing X anyway?\r\n- It seems difficult to impossible to identify what misbehavior warning is in response to what message.\r\n\r\nGiven these difficulties with interpreting and acting on the information, why not treat this more like the \"reject\" message -- as an informational message for developers debugging clients, sent with a short string identifying the type of misbehavior encountered?",
      "created_at" : "2014-06-23T18:14:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-46881450",
      "id" : 46881450,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-23T18:14:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46881450",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1047859?v=3",
         "events_url" : "https://api.github.com/users/kazcw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kazcw/followers",
         "following_url" : "https://api.github.com/users/kazcw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kazcw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kazcw",
         "id" : 1047859,
         "login" : "kazcw",
         "organizations_url" : "https://api.github.com/users/kazcw/orgs",
         "received_events_url" : "https://api.github.com/users/kazcw/received_events",
         "repos_url" : "https://api.github.com/users/kazcw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kazcw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kazcw"
      }
   },
   {
      "body" : "I think there's a general intent to be conservative about offences causing DoS scoring; in particular, anything that can be relayed by older nodes can generally not trigger DoS, as it could lead to network partitioning.\r\n\r\nThey are not random frequently occurring things - they are highly exceptional, intended to never trigger for non-attacking nodes, and the only reason they don't always cause a disconnect/ban immediately is to limit the impact of a software bug.\r\n\r\nI consider them to be highly implementation specific, and not useful information that peers should care about or act upon. If you're developing a P2P client it's useful of course, but you'll need more information anyway for that case, and likely need to develop by running against a local node with -debug anyway.\r\n\r\n",
      "created_at" : "2014-06-23T18:21:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-46882283",
      "id" : 46882283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-23T18:22:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46882283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Good point @sipa.\r\n",
      "created_at" : "2014-06-25T05:03:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47060859",
      "id" : 47060859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-25T05:03:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47060859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4389_d7b5f1fbab7d9c8c9c37f7edd43bc00577eba9f3/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-06-25T21:49:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47163535",
      "id" : 47163535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-25T21:49:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47163535",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Seems there is no consensus on this, closing.",
      "created_at" : "2014-06-28T13:06:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47426910",
      "id" : 47426910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-06-28T13:06:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47426910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I have an alternative idea to this which doesn't expose as much of the internal state, but is still useful for troubleshooting and network diagnostics: a `bye` message.\r\n\r\nAn optional message that can be sent to the peer you're about to disconnect with a message why you're disconnecting them (ping timeout, ban, etc). The receiving peer would only log this - it's not possible to act on it - but it could be useful when troubleshooting network problems.\r\n",
      "created_at" : "2014-07-02T15:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47795684",
      "id" : 47795684,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-07-02T15:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47795684",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj that is a very good idea.",
      "created_at" : "2014-07-02T16:26:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47799140",
      "id" : 47799140,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-07-02T16:26:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47799140",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/251852?v=3",
         "events_url" : "https://api.github.com/users/drak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/drak/followers",
         "following_url" : "https://api.github.com/users/drak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/drak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/drak",
         "id" : 251852,
         "login" : "drak",
         "organizations_url" : "https://api.github.com/users/drak/orgs",
         "received_events_url" : "https://api.github.com/users/drak/received_events",
         "repos_url" : "https://api.github.com/users/drak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/drak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/drak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/drak"
      }
   },
   {
      "body" : "@laanwj I did think of that (a message when disconnecting), but that wouldn't allow nodes to adapt to their misbehavior. A good example of when this might be needed is with the recent pull that has been merged that allows nodes to double-spend. It was only noticed after the merge about a potential attack vector where nodes could be manipulated into being banned. If this patch (and a following patch to modify behaviour) were applied, then this would protect against all future examples of this happening. It would be quite easy to link the misbehave and reject messages. Simply remember the last \"reject\" message and the last message , and then when a \"misbehave\" message arrives, you'll have a good idea what it's referring to.\r\n\r\n@kazcw Above paragraph addresses your question also.",
      "created_at" : "2014-07-03T00:20:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47853547",
      "id" : 47853547,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-13T03:10:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47853547",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "I have my doubts on to how much a node can intelligently adapt its behaviour to such messages. Also as to whether it should at all. It could open it up to 'bad feedback' sybil attacks. What if your node is the one that gets it right?\r\n\r\nIn my eyes a message like this would only be useful for troubleshooting by actual human developers. And in that case a message at disconnection works better.\r\n",
      "created_at" : "2014-07-03T04:34:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47865956",
      "id" : 47865956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-07-03T04:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47865956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj How is the \"bye\" message better? It's effectively the same as this, but less granular.",
      "created_at" : "2014-07-05T04:55:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-48078448",
      "id" : 48078448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-07-05T04:55:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48078448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "OK - done arguing this, I'm pretty sure neither of both will be implemented anyway.\r\n",
      "created_at" : "2014-07-05T06:57:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-48079927",
      "id" : 48079927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2014-07-05T06:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48079927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Just re-read your message https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-47865956 above, and I realise the assumption you were making, i.e. that behaviour learned about misbehaviour would apply to more nodes than the node giving the feedback.\r\n\r\nI don't think a node should assume all nodes classify the same behaviour as misbehaviour, this would certainly open up to the \"bad feedback\" sybil atack you mention. Instead, nodes should regard any feedback as being applicable only to the node giving it.",
      "created_at" : "2016-09-13T03:13:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-246561285",
      "id" : 246561285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-13T03:13:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246561285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "I think we should just get rid of misbehaviour scores entirely - all they do is making it harder to debug problems. Things that result in a ban score should just immediately trigger a ban, and others should have no effect at all. The only thing they help with is reduce the chance of accidentally have a relayed network message not immediately partition the network, but if this can happen with a 100-score misbehaviour, it can probably happen ten times with a 10-score misbehaviour.",
      "created_at" : "2016-09-13T03:50:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-246566035",
      "id" : 246566035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-13T03:50:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246566035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "that would be more efficient, wrt connection management, and eliminate the need for node behavior accounting/tracking.\r\n\r\nit seems that notions of \"misbehavior\" belong in consensus code. Blatant breaches of protocol should just result in a ban, straight-away",
      "created_at" : "2016-09-13T05:56:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-246582367",
      "id" : 246582367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-13T05:56:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246582367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6916056?v=3",
         "events_url" : "https://api.github.com/users/venzen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/venzen/followers",
         "following_url" : "https://api.github.com/users/venzen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/venzen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/venzen",
         "id" : 6916056,
         "login" : "venzen",
         "organizations_url" : "https://api.github.com/users/venzen/orgs",
         "received_events_url" : "https://api.github.com/users/venzen/received_events",
         "repos_url" : "https://api.github.com/users/venzen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/venzen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/venzen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/venzen"
      }
   },
   {
      "body" : "if a ban disconnect is accompanied by a ```bye``` message as suggested by @laanwj then that could be useful to other clients and their developers, It will also mean that protocol breach is explicitly stated as the reason for disconnect both for specifically challenging unacceptable protocol behavior and to assist client software developers with correcting such incorrect behavior.\r\n\r\nYes, client development should still be done via connection to a Satoshi client running with ```-debug``` but the cases for punishing peers are quite specific and it would be useful to address such behavior directly and specifically via ```bye``` with a varchar string payload (or perhaps a specific set of error codes)\r\n\r\nThis includes @sipa 's suggestion to doaway with banscore accumulation. Just ban and disconnect at the initial offense and inform the client of the reason for disconnection with a ```bye``` message.",
      "created_at" : "2016-09-13T12:14:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-246662349",
      "id" : 246662349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-13T12:33:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246662349",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6916056?v=3",
         "events_url" : "https://api.github.com/users/venzen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/venzen/followers",
         "following_url" : "https://api.github.com/users/venzen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/venzen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/venzen",
         "id" : 6916056,
         "login" : "venzen",
         "organizations_url" : "https://api.github.com/users/venzen/orgs",
         "received_events_url" : "https://api.github.com/users/venzen/received_events",
         "repos_url" : "https://api.github.com/users/venzen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/venzen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/venzen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/venzen"
      }
   },
   {
      "body" : "@sipa Is there some sort of roadmap document for Bitcoin Core? If so, I think your idea to abolish the current misbehaviour model should be added and I am in agreement. I like the \"bye\" message idea also, although technically, it's not needed as all unknown commands are currently logged so any messages could be sent that way :) \r\n\r\nI'd be happy to write a commit now that sends bye messages prior to disconnects and ban 100s. For the ban <100s, what could be used? A reject message? e.g. a reject message is currently sent in response to multiple version messages.",
      "created_at" : "2016-09-15T07:04:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-247252399",
      "id" : 247252399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-15T07:04:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247252399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "This was just a personal opinion, certainly not something that has been\naddressed project-wide, and people may very well disagree.\n\nAlso, sorry for furthering this. We should hijact a old issue for this\ndiscussion.\n",
      "created_at" : "2016-09-15T14:57:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-247353000",
      "id" : 247353000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-15T14:57:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247353000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Given the varying timezones we occupy, this is a better place to discuss this (for me at least) than the IRC channel.. We really need a better medium to discuss these things. Both IRC and the mailing list seem less than ideal compared to here. Perhaps wiki.bitcoin.com ?",
      "created_at" : "2016-09-25T04:00:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4389#issuecomment-249401342",
      "id" : 249401342,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4389",
      "updated_at" : "2016-09-25T04:00:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249401342",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
