[
   {
      "body" : "Somewhat related (I think), having the fee rate declared as a class causes some really annoying workarounds, in particular the UniValueType wrapper in rpc/server.h\r\n\r\nIt seems to me that declaring fee rate as a type that is compatible with UniValue, like CAmount, could avoid some unnecessary cruft.\r\n\r\nAnyone have any thoughts on that?",
      "created_at" : "2017-08-02T14:40:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10973#issuecomment-319693243",
      "id" : 319693243,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10973",
      "updated_at" : "2017-08-02T14:43:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/319693243",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1276717?v=4",
         "events_url" : "https://api.github.com/users/corebob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/corebob/followers",
         "following_url" : "https://api.github.com/users/corebob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/corebob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/corebob",
         "id" : 1276717,
         "login" : "corebob",
         "organizations_url" : "https://api.github.com/users/corebob/orgs",
         "received_events_url" : "https://api.github.com/users/corebob/received_events",
         "repos_url" : "https://api.github.com/users/corebob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/corebob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/corebob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/corebob"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2017-08-03T09:41:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10973#issuecomment-319920836",
      "id" : 319920836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10973",
      "updated_at" : "2017-08-03T09:41:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/319920836",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery, the change to stop deduping link arguments is in Makefile.am [here](https://github.com/bitcoin/bitcoin/pull/10973/commits/7bfb409ad9e27df07108c17d63c3efc5f4bfb6a6)\r\n",
      "created_at" : "2017-09-01T17:05:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10973#issuecomment-326633872",
      "id" : 326633872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10973",
      "updated_at" : "2017-09-01T17:05:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/326633872",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137120520"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137120520"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe `block && !ReadBlockFromDisk`",
      "commit_id" : "8fb011e3fb93887620fcdad34eaafac63e5b60f9",
      "created_at" : "2017-09-05T21:32:14Z",
      "diff_hunk" : "@@ -28,6 +99,23 @@ class ChainImpl : public Chain\n         return std::move(result);\n     }\n     std::unique_ptr<Chain::LockedState> assumeLocked() override { return MakeUnique<LockedStateImpl>(); }\n+    bool findBlock(const uint256& hash, CBlock* block, int64_t* time) override\n+    {\n+        LOCK(cs_main);\n+        auto it = ::mapBlockIndex.find(hash);\n+        if (it == ::mapBlockIndex.end()) {\n+            return false;\n+        }\n+        if (block) {\n+            if (!ReadBlockFromDisk(*block, it->second, Params().GetConsensus())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137120520",
      "id" : 137120520,
      "original_commit_id" : "c1194635c663536a5140beb4b59f634e4ca09110",
      "original_position" : 96,
      "path" : "src/ipc/local/bitcoind.cpp",
      "position" : 178,
      "pull_request_review_id" : 60747312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973",
      "updated_at" : "2017-09-05T23:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137120520",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137124189"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137124189"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe this would be a good place to use boost::option to simplify this API -- would be much clearer to get back `Some(Height) | Nothing` or `Some(Depth) | Nothing` than having semantics around if the invalid return is -1 or 0.\r\n",
      "commit_id" : "8fb011e3fb93887620fcdad34eaafac63e5b60f9",
      "created_at" : "2017-09-05T21:50:38Z",
      "diff_hunk" : "@@ -23,6 +26,68 @@ class Chain\n     {\n     public:\n         virtual ~LockedState() {}\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137124189",
      "id" : 137124189,
      "original_commit_id" : "c1194635c663536a5140beb4b59f634e4ca09110",
      "original_position" : 15,
      "path" : "src/ipc/interfaces.h",
      "position" : null,
      "pull_request_review_id" : 60747312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973",
      "updated_at" : "2017-09-05T23:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137124189",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137136281"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137136281"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Can we have something that wraps both ipc_chain and ipc_clients for passing in? Is there a reason to have them separate? I don't want to add another useless class, it just seems they are always passed around together & are created together.",
      "commit_id" : "8fb011e3fb93887620fcdad34eaafac63e5b60f9",
      "created_at" : "2017-09-05T23:02:42Z",
      "diff_hunk" : "@@ -887,7 +888,7 @@ bool AppInitBasicSetup()\n     return true;\n }\n \n-bool AppInitParameterInteraction()\n+bool AppInitParameterInteraction(ipc::Chain& ipc_chain, ipc::Chain::Clients& ipc_clients)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137136281",
      "id" : 137136281,
      "original_commit_id" : "5269b56ec4e82d765098ba88ee0e3e79f5de1941",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : 65,
      "pull_request_review_id" : 60747312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973",
      "updated_at" : "2017-09-05T23:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137136281",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137139176"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137139176"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: semantics of name LockedState is maybe a bit clearer as ChainStateLock?",
      "commit_id" : "8fb011e3fb93887620fcdad34eaafac63e5b60f9",
      "created_at" : "2017-09-05T23:22:48Z",
      "diff_hunk" : "@@ -14,6 +14,26 @@ class Chain\n public:\n     virtual ~Chain() {}\n \n+    //! Interface for querying locked chain state, used by legacy code that\n+    //! assumes state won't change between calls. New code should avoid using\n+    //! the LockedState interface and instead call higher-level Chain methods\n+    //! that return more information so the chain doesn't need to stay locked\n+    //! between calls.\n+    class LockedState",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10973#discussion_r137139176",
      "id" : 137139176,
      "original_commit_id" : "e26e00bd3f53435ecd580e3f1f56ef4fd45bcfc1",
      "original_position" : 9,
      "path" : "src/ipc/interfaces.h",
      "position" : 35,
      "pull_request_review_id" : 60747312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10973",
      "updated_at" : "2017-09-05T23:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/137139176",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   }
]
