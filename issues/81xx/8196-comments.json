[
   {
      "body" : "Can you post the `debug.log` and maybe the time when the \"stack smashing\" was detected?",
      "created_at" : "2016-06-13T07:02:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225503106",
      "id" : 225503106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-13T07:02:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225503106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "The \"stack smashing\" error message was only in my console, there's nothing mentioned in my logs though. Here are the logs from when the client Bitcoin version v0.12.99.0-3e4cf8f terminated:\r\n\r\n-----------------------------------------------------------------------------------------\r\n\r\n2016-06-12 23:44:56 socket send error Connection timed out (110)\r\n2016-06-12 23:45:00 socket send error Connection timed out (110)\r\n2016-06-12 23:45:07 socket recv error Connection timed out (110)\r\n2016-06-12 23:45:18 socket recv error Connection timed out (110)\r\n2016-06-12 23:45:18 UpdateTip: new best=0000000000000000033927d833b8c8b037a643d904b4924c1bbb83149944e3af height=416033 version=0x20000001 log2_work=84.820649 tx=135389797 date='2016-06-12 23:44:51' progress=1.000000 cache=53.2MiB(7183tx) warning='4 of last 100 blocks have unexpected version'\r\n2016-06-12 23:45:23 connect() to 216.155.129.35:8333 failed after select(): Connection refused (111)\r\n2016-06-12 23:45:27 receive version message: /bitcoinj:0.14.1/: version 70001, blocks=0, us=127.0.0.1:8333, peer=98\r\n2016-06-12 23:45:31 ProcessMessages: advertising address 92.*.**.114:8333  [redacted]\r\n2016-06-12 23:45:31 receive version message: /Satoshi:0.12.1/: version 70012, blocks=416033, us=92.3.33.114:39254, peer=99\r\n2016-06-12 23:45:31 AdvertiseLocal: advertising address 92.*.**.114:8333  [redacted]\r\n2016-06-12 23:45:34 receive version message: /bitcoinj:0.14.1/: version 70001, blocks=0, us=127.0.0.1:8333, peer=100\r\n2016-06-12 23:45:37 connect() to 198.46.152.2:8333 failed after select(): Connection refused (111)\r\n2016-06-12 23:45:37 ProcessMessages: advertising address 92.*.**.114:8333  [redacted]\r\n2016-06-12 23:45:37 receive version message: /Satoshi:0.12.1/: version 70012, blocks=416033, us=92.3.33.114:38186, peer=101\r\n2016-06-12 23:45:37 AdvertiseLocal: advertising address 92.*.**.114:8333  [redacted]\r\n2016-06-12 23:45:52 receive version message: /bitnodes.21.co:0.1/: version 70002, blocks=416030, us=92.3.33.114:8333, peer=102\r\n2016-06-12 23:45:52 AdvertiseLocal: advertising address 92.*.**.114:8333  [redacted]\r\n2016-06-12 23:46:01 tor: Thread interrupt\r\n2016-06-12 23:46:01 torcontrol thread exit\r\n2016-06-12 23:46:01 msghand thread interrupt\r\n2016-06-12 23:46:01 opencon thread interrupt\r\n2016-06-12 23:46:01 scheduler thread interrupt\r\n2016-06-12 23:46:01 addcon thread interrupt\r\n2016-06-12 23:46:01 net thread interrupt\r\n2016-06-12 23:46:01 Shutdown: In progress...\r\n2016-06-12 23:46:01 StopNode()\r\n2016-06-12 23:46:01 Shutdown: done\r\n2016-06-12 23:47:07\r\n\r\n----------------------------------------------------------------------------\r\n\r\nNo idea why part of the log is in bold - ignore it.",
      "created_at" : "2016-06-13T10:24:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225543935",
      "id" : 225543935,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-13T10:27:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225543935",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12783530?v=3",
         "events_url" : "https://api.github.com/users/p3yot3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/p3yot3/followers",
         "following_url" : "https://api.github.com/users/p3yot3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/p3yot3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/p3yot3",
         "id" : 12783530,
         "login" : "p3yot3",
         "organizations_url" : "https://api.github.com/users/p3yot3/orgs",
         "received_events_url" : "https://api.github.com/users/p3yot3/received_events",
         "repos_url" : "https://api.github.com/users/p3yot3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/p3yot3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/p3yot3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/p3yot3"
      }
   },
   {
      "body" : "Looks like it happens during shutdown, if you got that crash only after sending the `stop` command yourself. Is that the case?",
      "created_at" : "2016-06-13T10:38:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225546550",
      "id" : 225546550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-13T10:38:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225546550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Can you reproduce this?",
      "created_at" : "2016-06-14T09:36:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225829850",
      "id" : 225829850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-14T09:36:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225829850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I didn't issue any stop command, it terminated itself with the \"stack\" error in my screen console. I've since reverted back to the stable version I'm afraid, so am unable to reproduce.",
      "created_at" : "2016-06-14T10:02:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225836151",
      "id" : 225836151,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-14T10:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225836151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12783530?v=3",
         "events_url" : "https://api.github.com/users/p3yot3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/p3yot3/followers",
         "following_url" : "https://api.github.com/users/p3yot3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/p3yot3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/p3yot3",
         "id" : 12783530,
         "login" : "p3yot3",
         "organizations_url" : "https://api.github.com/users/p3yot3/orgs",
         "received_events_url" : "https://api.github.com/users/p3yot3/received_events",
         "repos_url" : "https://api.github.com/users/p3yot3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/p3yot3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/p3yot3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/p3yot3"
      }
   },
   {
      "body" : "There's nothing in that log to indicate that something else than RPC stop triggered the shutdown (it looks like a normal shutdown, even the final message `Shutdown: done`). Are you sure you quoted the right log?",
      "created_at" : "2016-06-14T10:04:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225836638",
      "id" : 225836638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-14T10:04:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225836638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Hmmmm. I done a search for \"stack\" in the debug log but it showed no results, so I posted the shutdown log closest to when I received the \"*** stack smashing detected ***: bitcoind terminated\" error.\r\n\r\nI just done another search for \"stack\", \"smashing\" & \"terminated\" in the debug log - but nothing turns up, it's very strange.\r\n\r\nEdit: What does \"stack smashing\" mean actually?",
      "created_at" : "2016-06-14T10:55:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225847332",
      "id" : 225847332,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-14T10:56:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225847332",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12783530?v=3",
         "events_url" : "https://api.github.com/users/p3yot3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/p3yot3/followers",
         "following_url" : "https://api.github.com/users/p3yot3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/p3yot3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/p3yot3",
         "id" : 12783530,
         "login" : "p3yot3",
         "organizations_url" : "https://api.github.com/users/p3yot3/orgs",
         "received_events_url" : "https://api.github.com/users/p3yot3/received_events",
         "repos_url" : "https://api.github.com/users/p3yot3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/p3yot3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/p3yot3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/p3yot3"
      }
   },
   {
      "body" : "That \"stack smashing detected\" will not be written to debug.log, but\nprinted to the console.\n",
      "created_at" : "2016-06-14T10:56:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225847623",
      "id" : 225847623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-14T10:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225847623",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Right, that's where I saw it. Never seen or heard of that message before, that's why I thought I should report it. Maybe if that message was reported in the log it would be easier to locate the cause?",
      "created_at" : "2016-06-14T11:00:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225848367",
      "id" : 225848367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-14T11:00:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225848367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12783530?v=3",
         "events_url" : "https://api.github.com/users/p3yot3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/p3yot3/followers",
         "following_url" : "https://api.github.com/users/p3yot3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/p3yot3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/p3yot3",
         "id" : 12783530,
         "login" : "p3yot3",
         "organizations_url" : "https://api.github.com/users/p3yot3/orgs",
         "received_events_url" : "https://api.github.com/users/p3yot3/received_events",
         "repos_url" : "https://api.github.com/users/p3yot3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/p3yot3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/p3yot3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/p3yot3"
      }
   },
   {
      "body" : "It can't be. It's not bitcoind's code that is doing this detection, but the\nbuilt-in stack smashing detector, added by the compiler.\n",
      "created_at" : "2016-06-14T11:02:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-225848780",
      "id" : 225848780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-06-14T11:02:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225848780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "We're lacking information to troubleshoot this.\r\n\r\nIf this is an intermittent problem that happens randomly, I'd suggest starting bitcoind in gdb, then generating a backtrace if this happens and posting it here.\r\n\r\nTo run bitcoind in gdb transparently, as well as possibly get a mail when it crashes, see my scripts here: https://gist.github.com/laanwj/29bc141fb8d10608651c\r\n",
      "created_at" : "2016-08-04T13:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8196#issuecomment-237548964",
      "id" : 237548964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8196",
      "updated_at" : "2016-08-04T13:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/237548964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
