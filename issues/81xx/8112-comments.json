[
   {
      "body" : "Does anyone know what was the rationale to not include signal.h on WIN32 before? Does this break native windows builds?\r\n",
      "created_at" : "2016-05-30T07:27:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8112#issuecomment-222429374",
      "id" : 222429374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8112",
      "updated_at" : "2016-05-30T07:27:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222429374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This [commit](https://github.com/bitcoin/bitcoin/pull/1112/commits/ed6d0b5f852dc5f1c9407abecb5a9c6a7e42b4b2) that was part of [removing headers.h](https://github.com/bitcoin/bitcoin/pull/1112), moved signal.h into a WIN32 ifndef in main.cpp, but that doesn't have any specific reasoning.",
      "created_at" : "2016-05-30T07:52:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8112#issuecomment-222433843",
      "id" : 222433843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8112",
      "updated_at" : "2016-05-30T07:52:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222433843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "If this does break native windows builds, we should do this differently: define our own type, which is a typedef of `sig_atomic_t ` on UNIX-ish OSes, and `volatile int` or such on Windows, as there are no signals on that OS anyhow.",
      "created_at" : "2016-05-30T10:36:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8112#issuecomment-222464419",
      "id" : 222464419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8112",
      "updated_at" : "2016-05-30T10:36:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222464419",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Or could we simply use an c++11 atomic here? Is there something special about `sig_atomic_t` with signals?\r\n",
      "created_at" : "2016-05-30T10:38:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8112#issuecomment-222464638",
      "id" : 222464638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8112",
      "updated_at" : "2016-05-30T10:38:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222464638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "On Windows, do we even install signal handlers?\n",
      "created_at" : "2016-05-30T10:40:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8112#issuecomment-222464956",
      "id" : 222464956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8112",
      "updated_at" : "2016-05-30T10:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222464956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "That's what I suggested above: define our own type for it, which is sig_atomic_t only on UNIXish OSes but something else on windows. I still think it should be atomic because at least `fRequestShutdown` is used to communicate between threads.\r\n\r\nWhich means maybe we should simply use a c++11 atomic there, which are available without problems on both Windows and Linux?\r\n",
      "created_at" : "2016-05-30T11:23:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8112#issuecomment-222471603",
      "id" : 222471603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8112",
      "updated_at" : "2016-05-30T11:23:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222471603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I think that's the way to go; see #8123.",
      "created_at" : "2016-05-30T13:44:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8112#issuecomment-222495712",
      "id" : 222495712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8112",
      "updated_at" : "2016-05-30T13:44:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222495712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
