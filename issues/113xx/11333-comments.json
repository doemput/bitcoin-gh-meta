[
   {
      "author_association" : "MEMBER",
      "body" : "Or maybe sort works in place and nth_element copies to build a heap and is actually 10x slower when we're only talking about 11 items.  If the justification is performance you should at least give it a casual test. ",
      "created_at" : "2017-09-14T23:24:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329635364",
      "id" : 329635364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-14T23:24:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329635364",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@gmaxwell @MeshCollider Added a (not for merge) benchmark commit showing the median is faster even for such a short length.\r\n\r\nOn my machine, bench_bitcoin gives\r\nSmallMedian,184549376,0.000000005698851,0.000000006605831,0.000000005873540,14,16,14\r\nSmallSort,134217728,0.000000007392771,0.000000009320686,0.000000008182214,18,23,20\r\n",
      "created_at" : "2017-09-15T07:33:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329705414",
      "id" : 329705414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T07:33:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329705414",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/84245?v=4",
         "events_url" : "https://api.github.com/users/danra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danra/followers",
         "following_url" : "https://api.github.com/users/danra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danra",
         "id" : 84245,
         "login" : "danra",
         "organizations_url" : "https://api.github.com/users/danra/orgs",
         "received_events_url" : "https://api.github.com/users/danra/received_events",
         "repos_url" : "https://api.github.com/users/danra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danra"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "This changes consensus-critical code, so it will have to be carefully tested that this returns the same in all cases.\r\nTo see if this is warranted, we need a more global benchmark as well - e.g. what % of the validation time is spent in this function?",
      "created_at" : "2017-09-15T11:06:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329751980",
      "id" : 329751980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T11:06:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329751980",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj My guess is very little - but in case your guess is different and you think even some small  percentage could be gained, let me know and I'll try to benchmark that.\r\n\r\nMy initial motivation was not performance gain, rather to make the semantics a bit clearer, but it makes sense that that's not a strong enough argument to change consensus critical code.",
      "created_at" : "2017-09-15T11:14:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329753492",
      "id" : 329753492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T11:14:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329753492",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/84245?v=4",
         "events_url" : "https://api.github.com/users/danra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danra/followers",
         "following_url" : "https://api.github.com/users/danra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danra",
         "id" : 84245,
         "login" : "danra",
         "organizations_url" : "https://api.github.com/users/danra/orgs",
         "received_events_url" : "https://api.github.com/users/danra/received_events",
         "repos_url" : "https://api.github.com/users/danra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@danra Thanks!  I am not shocked but always good to see!  will review further.",
      "created_at" : "2017-09-15T16:05:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329826283",
      "id" : 329826283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T16:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329826283",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'd tend to NACK changes like this, unless there's a significant performance gain. I'm especially not keen on the gratuitous style changes (why prefer `auto*` over `int64_t*`?)\r\n\r\n",
      "created_at" : "2017-09-15T17:00:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329839973",
      "id" : 329839973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T17:00:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329839973",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery The rationale is simple: `auto* pbegin = &pmedian[11];` conveys the concise intention of having a pointer to an object representing time. `int64_t* pbegin = &pmedian[11];` conveys the less concise intention of having a pointer to an object representing time, and that you expect this object to be `int64_t`. In the context of `GetMedianTimePast()`, you don't really care about the exact time type. Therefore, using `auto*` better reflects the semantics needed in the context of the function.",
      "created_at" : "2017-09-15T21:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329907614",
      "id" : 329907614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T21:23:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329907614",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/84245?v=4",
         "events_url" : "https://api.github.com/users/danra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danra/followers",
         "following_url" : "https://api.github.com/users/danra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danra",
         "id" : 84245,
         "login" : "danra",
         "organizations_url" : "https://api.github.com/users/danra/orgs",
         "received_events_url" : "https://api.github.com/users/danra/received_events",
         "repos_url" : "https://api.github.com/users/danra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@danra thanks for the nice explanation. There are different views on when `auto` is appropriate (see https://botbot.me/freenode/bitcoin-core-dev/2017-02-02/?msg=80353999 for example). I personally would prefer that it not get used for simple types like `int64_t`.\r\n\r\nThe project doesn't have style guidelines for `auto`. Changing existing, functioning code to match your personal preferences seems unnecessary.",
      "created_at" : "2017-09-15T21:33:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329909407",
      "id" : 329909407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T21:33:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329909407",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery It's not a personal preference, it's better code semantics in this case.\r\n\r\n> I personally would prefer that it not get used for simple types like int64_t.\r\n\r\nWhy?",
      "created_at" : "2017-09-15T21:38:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329910290",
      "id" : 329910290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T21:38:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329910290",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/84245?v=4",
         "events_url" : "https://api.github.com/users/danra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danra/followers",
         "following_url" : "https://api.github.com/users/danra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danra",
         "id" : 84245,
         "login" : "danra",
         "organizations_url" : "https://api.github.com/users/danra/orgs",
         "received_events_url" : "https://api.github.com/users/danra/received_events",
         "repos_url" : "https://api.github.com/users/danra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Why?\r\n\r\nBecause in general I think explicit is better than implicit. But you seem to have more C++ experience than me, so I may just be wrong :)\r\n\r\nIn any case, `auto` should compile to the same thing and there's no preference expressed in the project style guide, so in general I'd expect there to be a pretty strong argument to make changes (especially as this is consensus code).\r\n\r\nAnyway, I'm only expressing a vague personal preference. I don't want to completely derail the discussion of this PR.",
      "created_at" : "2017-09-15T21:48:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329912117",
      "id" : 329912117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T21:48:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329912117",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "NACK. Not that it's not a readability improvement, but it's just not worth the risk of some freak divergence.\r\n\r\nAlso, while I personally agree with your use of auto in general:\r\n> @jnewbery It's not a personal preference, it's better code semantics in this case.\r\n\r\nBetter is subjective. Please keep in mind that there are many ways to measure the code.",
      "created_at" : "2017-09-15T22:06:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329915379",
      "id" : 329915379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T22:06:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329915379",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@theuni I specifically wrote \"better code semantics\". You're welcome to mention any contrasting argument for why mentioning the specific type has better semantics than using `auto` in this case.",
      "created_at" : "2017-09-15T22:13:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329916449",
      "id" : 329916449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T22:13:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329916449",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/84245?v=4",
         "events_url" : "https://api.github.com/users/danra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danra/followers",
         "following_url" : "https://api.github.com/users/danra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danra",
         "id" : 84245,
         "login" : "danra",
         "organizations_url" : "https://api.github.com/users/danra/orgs",
         "received_events_url" : "https://api.github.com/users/danra/received_events",
         "repos_url" : "https://api.github.com/users/danra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danra"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "NACK. IMHO more code to read, test and maintain vs sort 11 elements worst case.",
      "created_at" : "2017-09-15T22:28:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329918524",
      "id" : 329918524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T22:28:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329918524",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "If we're going to rewrite this anyway, I think this code can be simplified further:\r\n\r\n```c++\r\nint64_t GetMedianTimePast() const\r\n{\r\n    int64_t median[nMedianTimeSpan];\r\n    size_t count = 0;\r\n    const CBlockIndex* index = this;\r\n    while (count < nMedianTimeSpan && index) {\r\n        median[count++] = index->GetBlockTime();\r\n        index = index->pprev;\r\n    }\r\n    std::nth_element(median, median + count / 2, median + count);\r\n    return median[count / 2];\r\n}\r\n```\r\n\r\nRegardless of whether people like the idea of changing this function, thanks for using `nth_element`, I wasn't aware of that function. It's pretty incredible how short the compiler output here for this function (52 asm instructions, no function calls).",
      "created_at" : "2017-09-15T23:00:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329922747",
      "id" : 329922747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T23:45:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329922747",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "FWIW, I was in the process of writing something pretty much like sipa's suggestion in english (though using std::begin())-- with the suggestion of reducing the very C-ish references to array members and pointer arithmetic.   (Also.. comma operator? meh....)\r\n\r\nAs far as the use of auto:  The principle I think we prefer to follow is that explicit is better than implicit, except where explicit creates a ton of noise or breaks generality--e.g. in a template; or deals with a far-away defined type making changes have to happen in many places. If those things aren't true, we prefer explicitness.    \r\n\r\nI'm a fan of using the nth element in a cleanup like sipa suggests.  I think that code is easy enough to review and test (I would just try all n! inputs of c*1-n for n [1..11] and a number of c values and make sure it gives the same results; or something similar which is almost exhaustive)",
      "created_at" : "2017-09-15T23:21:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329925137",
      "id" : 329925137,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-15T23:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329925137",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : ">  In the context of GetMedianTimePast(), you don't really care about the exact time type. \r\n\r\nFor a generic function that would be true - but because this is consensus code, we really strongly care about the exact types and everything, and shouldn't leave anything to the compiler.\r\n\r\nDue to the high risk I'd personally prefer not to do this change, or another rewrite of the function, unless there is a strong other driver than aesthetics. If the code is unclear please add a comment instead.\r\n\r\nThis seems to be the opinion of many other people here as well. Hence I'm closing this. I'd say there are more important priorities, too.\r\n",
      "created_at" : "2017-09-16T07:06:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329951157",
      "id" : 329951157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-16T07:06:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329951157",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@gmaxwell @laanwj Explicit is better than implicit in this context when you want to commit to a type. If what you're interested in doing is just tracking a type, it is a violation of DRY.\r\n\r\nIn the consensus code, I think there's a trade-off. You can re-commit to types as you go, but that makes the code less concise and more resistant to change, and as a consequence *less* secure, IMHO. The advantage of re-committing to types everywhere is similar to adding asserts - you wouldn't stick asserts everywhere, but you would at junctions where you think they would matter, or you're afraid of mistakes.\r\n\r\nI can speak to this advantage of not using `auto` from my own personal experience of writing DSP code, where `double`s and `float`s often mix together and using `auto` would be bug-prone - that's a case where I often want to commit to types, since I don't trust myself to get the type tracking right, so I'm insuring myself against my own bugs.\r\n\r\nHowever, if I had to, e.g., `std::sort` an array of `double`s, I wouldn't hesitate to get `auto` pointers to it, since there is no fear of any mixup. If I later change the array to `float`s, the sorting would still work fine.\r\n\r\n@sipa @gmaxwell I suppose the code intentionally initializes the vector in reverse order, so it is likely to be already sorted or close to sorted (since later blocks will tend to have later times), so the following `std::sort` takes less time. Does that make sense? I agree the loop could still probably be simplified.",
      "created_at" : "2017-09-16T08:32:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329954873",
      "id" : 329954873,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-16T08:32:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329954873",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/84245?v=4",
         "events_url" : "https://api.github.com/users/danra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danra/followers",
         "following_url" : "https://api.github.com/users/danra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danra",
         "id" : 84245,
         "login" : "danra",
         "organizations_url" : "https://api.github.com/users/danra/orgs",
         "received_events_url" : "https://api.github.com/users/danra/received_events",
         "repos_url" : "https://api.github.com/users/danra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> and as a consequence less secure, \r\n\r\nMixing up the types as you change things in cases like this will be caught by the compiler. Which is also a helpful signal that you're being careless.   I agree it's debatable but in general we prefer to be explicit where it doesn't really harm generality or make a mess by repeating a complex type signature. I think we've found it aids review.  \r\n\r\n>  so the following std::sort takes less time. Does that make sense?\r\n\r\nThat is quite plausible to me. Depends on the specifics of the underlying algorithim. ",
      "created_at" : "2017-09-16T16:25:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11333#issuecomment-329978713",
      "id" : 329978713,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11333",
      "updated_at" : "2017-09-16T16:25:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/329978713",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
