[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "May have fixed this by avoiding the forward declaration(?). Will update if the build finishes.",
      "created_at" : "2017-09-23T02:54:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-331605931",
      "id" : 331605931,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-09-23T02:54:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331605931",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7999704?v=4",
         "events_url" : "https://api.github.com/users/esotericnonsense/events{/privacy}",
         "followers_url" : "https://api.github.com/users/esotericnonsense/followers",
         "following_url" : "https://api.github.com/users/esotericnonsense/following{/other_user}",
         "gists_url" : "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/esotericnonsense",
         "id" : 7999704,
         "login" : "esotericnonsense",
         "organizations_url" : "https://api.github.com/users/esotericnonsense/orgs",
         "received_events_url" : "https://api.github.com/users/esotericnonsense/received_events",
         "repos_url" : "https://api.github.com/users/esotericnonsense/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/esotericnonsense/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/esotericnonsense"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fix(es):\r\n\r\nadd `#include \"primitives/block.h\"` in validationinterface.h\r\nI think this is a specific android bug. Tipped off by https://github.com/android-ndk/ndk/issues/262.\r\n\r\nhardcode OS_ANDROID in src/leveldb/port/port_posix.h (f{read,write,flush}_unlocked are not present)\r\n\r\ntest_bitcoin doesn't work because the folders it wants to use are not present. Can probably work around this.\r\n\r\nSyncing up from a LAN node, block 40,000 so far.",
      "created_at" : "2017-09-23T03:38:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-331607814",
      "id" : 331607814,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-09-23T03:40:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331607814",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7999704?v=4",
         "events_url" : "https://api.github.com/users/esotericnonsense/events{/privacy}",
         "followers_url" : "https://api.github.com/users/esotericnonsense/followers",
         "following_url" : "https://api.github.com/users/esotericnonsense/following{/other_user}",
         "gists_url" : "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/esotericnonsense",
         "id" : 7999704,
         "login" : "esotericnonsense",
         "organizations_url" : "https://api.github.com/users/esotericnonsense/orgs",
         "received_events_url" : "https://api.github.com/users/esotericnonsense/received_events",
         "repos_url" : "https://api.github.com/users/esotericnonsense/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/esotericnonsense/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/esotericnonsense"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In the error message it seems like it may be possible to resolve the issue by including \"primitives/block\" in validationinterface.cpp instead of .h. Does that still work?",
      "created_at" : "2017-09-26T19:27:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-332308939",
      "id" : 332308939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-09-26T19:27:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332308939",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Ha, termux - I'm also interested in having this work, would put it within reach to hack on bitcoin core from my phone. Back in the day I stumbled on some pretty obscure build system issues. It's promising that you get this far.\r\n\r\n> test_bitcoin doesn't work because the folders it wants to use are not present. Can probably work around this.\r\n\r\nDoes it hardcode any (global) folder names?",
      "created_at" : "2017-09-29T08:23:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-333063859",
      "id" : 333063859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-09-29T08:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333063859",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I have uploaded two relevant files that allow bitcoind to compile with disablewallet on Termux using termux-chroot. It passes test_bitcoin, I haven't tried functional tests yet.\r\n\r\nhttps://esotericnonsense.com/tmp/bitcoin.ff4cd6075b12fb32b9a906deea3ed033e3f9560a.diff.txt is a patch on master (base commit in filename).\r\n\r\nHack out boost::filesystem::temp_directory_path() (it returns an inaccessible directory on unrooted Android).\r\nForce OS_ANDROID to be true for leveldb to compile (should be fixable in build system if we can detect android/termux?).\r\nFix forward declaration issue on Android NDK.\r\n\r\nhttps://esotericnonsense.com/tmp/libevent.8b0aa7b36a3250fad4953f194c8a94ab25032583.diff.txt is a patch on libevent master (base commit in filename).\r\n\r\nThe libevent one is more of a termux issue than anything to do with us (we need libevent-pthreads which isn't in the termux package). I don't think we use the removed arc4random function (which doesn't exist on Android anyway).\r\n\r\nThey are pretty lazy patches which basically hardcode stuff to get it to work. If more than a few are interested (?) I could look into the build system at some point.\r\n\r\nI don't have a full list of dependencies due to history issues on the system, but I think this should cover most of it:\r\n\r\n```\r\napt install coreutils\r\napt install rsync\r\napt install python\r\napt install git\r\napt install binutils\r\napt install autoconf\r\napt install automake \r\napt install libtool\r\napt install sed\r\napt install grep \r\napt install util-linux \r\napt install proot  # For termux-chroot (needed to set up environment properly)\r\napt install libllvm\r\napt install clang\r\napt install boost-dev pkg-config \r\napt install libevent-dev openssl-dev \r\n```\r\n\r\nMoto G first gen takes approx 15sec to process a block at the tip on mainnet. Not too shabby.",
      "created_at" : "2017-09-30T05:14:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-333284380",
      "id" : 333284380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-09-30T05:21:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333284380",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7999704?v=4",
         "events_url" : "https://api.github.com/users/esotericnonsense/events{/privacy}",
         "followers_url" : "https://api.github.com/users/esotericnonsense/followers",
         "following_url" : "https://api.github.com/users/esotericnonsense/following{/other_user}",
         "gists_url" : "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/esotericnonsense",
         "id" : 7999704,
         "login" : "esotericnonsense",
         "organizations_url" : "https://api.github.com/users/esotericnonsense/orgs",
         "received_events_url" : "https://api.github.com/users/esotericnonsense/received_events",
         "repos_url" : "https://api.github.com/users/esotericnonsense/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/esotericnonsense/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/esotericnonsense"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@esotericnonsense can you test moving the extra validationinterface include to the cpp file instead of the h file?\n\nOn September 30, 2017 1:14:07 AM EDT, Daniel Edgecumbe <notifications@github.com> wrote:\n>I have uploaded two relevant files that allow bitcoind to compile with\n>disablewallet on Termux using termux-chroot. It passes test_bitcoin, I\n>haven't tried functional tests yet.\n>\n>https://esotericnonsense.com/tmp/bitcoin.ff4cd6075b12fb32b9a906deea3ed033e3f9560a.diff.txt\n>is a patch on master (base commit in filename).\n>\n>Hack out boost::filesystem::temp_directory_path() (it returns an\n>inaccessible directory on unrooted Android).\n>Force OS_ANDROID to be true for leveldb to compile (should be fixable\n>in build system if we can detect android/termux?).\n>Fix forward declaration issue on Android NDK.\n>\n>https://esotericnonsense.com/tmp/libevent.8b0aa7b36a3250fad4953f194c8a94ab25032583.diff.txt\n>is a patch on libevent master (base commit in filename).\n>\n>The libevent one is more of a termux issue than anything to do with us\n>(we need libevent-pthreads which isn't in the termux package). I don't\n>think we use the removed arc4random function (which doesn't exist on\n>Android anyway).\n>\n>They are pretty lazy patches which basically hardcode stuff to get it\n>to work. If anyone other than me is that interested (?) I could look\n>into the build system at some point.\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-333284380\n",
      "created_at" : "2017-09-30T05:36:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-333285529",
      "id" : 333285529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-09-30T05:36:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333285529",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt apologies, I think I misread your comment earlier.\r\nThat does appear to work - I can try a make clean && make as well (the build process is pretty slow on the device I'm using).",
      "created_at" : "2017-09-30T15:26:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-333315709",
      "id" : 333315709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-09-30T15:26:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333315709",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7999704?v=4",
         "events_url" : "https://api.github.com/users/esotericnonsense/events{/privacy}",
         "followers_url" : "https://api.github.com/users/esotericnonsense/followers",
         "following_url" : "https://api.github.com/users/esotericnonsense/following{/other_user}",
         "gists_url" : "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/esotericnonsense",
         "id" : 7999704,
         "login" : "esotericnonsense",
         "organizations_url" : "https://api.github.com/users/esotericnonsense/orgs",
         "received_events_url" : "https://api.github.com/users/esotericnonsense/received_events",
         "repos_url" : "https://api.github.com/users/esotericnonsense/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/esotericnonsense/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/esotericnonsense"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "OK, well at least that we can fix without much overhead, see 11440.",
      "created_at" : "2017-10-02T22:29:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-333683424",
      "id" : 333683424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-10-02T22:29:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333683424",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed in #11440.",
      "created_at" : "2017-10-07T11:32:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11388#issuecomment-334928770",
      "id" : 334928770,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11388",
      "updated_at" : "2017-10-07T11:32:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334928770",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
