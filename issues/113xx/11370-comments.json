[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139846128"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139846128"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should assert values or types of each field?",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-19T23:51:41Z",
      "diff_hunk" : "@@ -44,6 +45,38 @@ def run_test(self):\n         self._test_stopatheight()\n         assert self.nodes[0].verifychain(4, 0)\n \n+    def _test_getblockchaininfo(self):\n+        keys = [\n+            'bestblockhash',\n+            'bip9_softforks',\n+            'blocks',\n+            'chain',\n+            'chainwork',\n+            'difficulty',\n+            'headers',\n+            'mediantime',\n+            'pruned',\n+            'softforks',\n+            'verificationprogress',\n+        ]\n+        res = self.nodes[0].getblockchaininfo()\n+        # should have exact fields\n+        assert_equal(sorted(res.keys()), keys)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139846128",
      "id" : 139846128,
      "original_commit_id" : "30caa12890d5db0ef1ae93ff427b15b0f5cb44ea",
      "original_position" : 29,
      "path" : "test/functional/blockchain.py",
      "position" : null,
      "pull_request_review_id" : 63835181,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139846128",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139969524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139969524"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggestion: perhaps add `self.log.info(\"test getblockchaininfo\")",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T13:32:26Z",
      "diff_hunk" : "@@ -44,6 +45,38 @@ def run_test(self):\n         self._test_stopatheight()\n         assert self.nodes[0].verifychain(4, 0)\n \n+    def _test_getblockchaininfo(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139969524",
      "id" : 139969524,
      "original_commit_id" : "30caa12890d5db0ef1ae93ff427b15b0f5cb44ea",
      "original_position" : 12,
      "path" : "test/functional/blockchain.py",
      "position" : 16,
      "pull_request_review_id" : 63974848,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139969524",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139970264"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139970264"
         }
      },
      "author_association" : "MEMBER",
      "body" : "value: only if you're testing a meaningful value\r\ntype: I don't think we do this for other RPC methods, so I wouldn't bother\r\n\r\nThinking about this some more, perhaps we can add some utility method `check_rpc_return_object(dict)` which tests the presence and type of each field in the return object? Obviously not for this PR.",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T13:35:10Z",
      "diff_hunk" : "@@ -44,6 +45,38 @@ def run_test(self):\n         self._test_stopatheight()\n         assert self.nodes[0].verifychain(4, 0)\n \n+    def _test_getblockchaininfo(self):\n+        keys = [\n+            'bestblockhash',\n+            'bip9_softforks',\n+            'blocks',\n+            'chain',\n+            'chainwork',\n+            'difficulty',\n+            'headers',\n+            'mediantime',\n+            'pruned',\n+            'softforks',\n+            'verificationprogress',\n+        ]\n+        res = self.nodes[0].getblockchaininfo()\n+        # should have exact fields\n+        assert_equal(sorted(res.keys()), keys)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139970264",
      "id" : 139970264,
      "in_reply_to_id" : 139846128,
      "original_commit_id" : "30caa12890d5db0ef1ae93ff427b15b0f5cb44ea",
      "original_position" : 29,
      "path" : "test/functional/blockchain.py",
      "position" : null,
      "pull_request_review_id" : 63974848,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139970264",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139970939"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139970939"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You can speed this test up by starting with pruning the first time, and then restart without pruning (saves one stop-start which is a slow operation). Do that by setting `self.extra_args = [['-stopatheight=207', '-prune=1']]` in `set_test_params()` and then setting `self.extra_args = [['-stopatheight=207']]` before restarting.",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T13:37:41Z",
      "diff_hunk" : "@@ -44,6 +45,38 @@ def run_test(self):\n         self._test_stopatheight()\n         assert self.nodes[0].verifychain(4, 0)\n \n+    def _test_getblockchaininfo(self):\n+        keys = [\n+            'bestblockhash',\n+            'bip9_softforks',\n+            'blocks',\n+            'chain',\n+            'chainwork',\n+            'difficulty',\n+            'headers',\n+            'mediantime',\n+            'pruned',\n+            'softforks',\n+            'verificationprogress',\n+        ]\n+        res = self.nodes[0].getblockchaininfo()\n+        # should have exact fields\n+        assert_equal(sorted(res.keys()), keys)\n+\n+        # restart node with pruning enabled\n+        self.stop_node(0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139970939",
      "id" : 139970939,
      "original_commit_id" : "30caa12890d5db0ef1ae93ff427b15b0f5cb44ea",
      "original_position" : 31,
      "path" : "test/functional/blockchain.py",
      "position" : null,
      "pull_request_review_id" : 63974848,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139970939",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139971543"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139971543"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you can just use `self.start_node(0)`. The default will use `self.extra_args[0]` for its args.",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T13:39:41Z",
      "diff_hunk" : "@@ -44,6 +45,38 @@ def run_test(self):\n         self._test_stopatheight()\n         assert self.nodes[0].verifychain(4, 0)\n \n+    def _test_getblockchaininfo(self):\n+        keys = [\n+            'bestblockhash',\n+            'bip9_softforks',\n+            'blocks',\n+            'chain',\n+            'chainwork',\n+            'difficulty',\n+            'headers',\n+            'mediantime',\n+            'pruned',\n+            'softforks',\n+            'verificationprogress',\n+        ]\n+        res = self.nodes[0].getblockchaininfo()\n+        # should have exact fields\n+        assert_equal(sorted(res.keys()), keys)\n+\n+        # restart node with pruning enabled\n+        self.stop_node(0)\n+        self.start_node(0, extra_args=[\"-prune=1\"])\n+\n+        res = self.nodes[0].getblockchaininfo()\n+        # should also have pruneheight field\n+        assert_equal(sorted(res.keys()), sorted(['pruneheight'] + keys))\n+        # should be greater or equal to 0\n+        assert res['pruneheight'] >= 0\n+\n+        # restore node\n+        self.stop_node(0)\n+        self.start_node(0, self.extra_args[0])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139971543",
      "id" : 139971543,
      "original_commit_id" : "30caa12890d5db0ef1ae93ff427b15b0f5cb44ea",
      "original_position" : 42,
      "path" : "test/functional/blockchain.py",
      "position" : null,
      "pull_request_review_id" : 63974848,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139971543",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139978101"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139978101"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T14:02:28Z",
      "diff_hunk" : "@@ -44,6 +45,38 @@ def run_test(self):\n         self._test_stopatheight()\n         assert self.nodes[0].verifychain(4, 0)\n \n+    def _test_getblockchaininfo(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139978101",
      "id" : 139978101,
      "in_reply_to_id" : 139969524,
      "original_commit_id" : "30caa12890d5db0ef1ae93ff427b15b0f5cb44ea",
      "original_position" : 12,
      "path" : "test/functional/blockchain.py",
      "position" : 16,
      "pull_request_review_id" : 63985061,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139978101",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139978378"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139978378"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Convenient method to stop and start a node with the same arguments as before. If this gets ACK's I can push a commit to use where appropriate or submit this in a separate PR. ",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T14:03:31Z",
      "diff_hunk" : "@@ -273,6 +273,11 @@ def stop_nodes(self):\n             # Wait for nodes to stop\n             node.wait_until_stopped()\n \n+    def restart_node(self, i):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139978378",
      "id" : 139978378,
      "original_commit_id" : "2a1a0226eed56c4043b32a6d39b1587d66b2d322",
      "original_position" : 4,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 63985061,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139978378",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139985124"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139985124"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry, I misled you here. You should use `self.nodes[0].extra_args = ...`. The `self.extra_args` class variable is only used when instantiating the TestNode. That's important for `restart_node()`",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T14:26:30Z",
      "diff_hunk" : "@@ -44,6 +45,36 @@ def run_test(self):\n         self._test_stopatheight()\n         assert self.nodes[0].verifychain(4, 0)\n \n+    def _test_getblockchaininfo(self):\n+        self.log.info(\"Test getblockchaininfo\")\n+\n+        keys = [\n+            'bestblockhash',\n+            'bip9_softforks',\n+            'blocks',\n+            'chain',\n+            'chainwork',\n+            'difficulty',\n+            'headers',\n+            'mediantime',\n+            'pruned',\n+            'softforks',\n+            'verificationprogress',\n+        ]\n+        res = self.nodes[0].getblockchaininfo()\n+        # result should have pruneheight and default keys if pruning is enabled\n+        assert_equal(sorted(res.keys()), sorted(['pruneheight'] + keys))\n+        # pruneheight should be greater or equal to 0\n+        assert res['pruneheight'] >= 0\n+\n+        # restart node\n+        self.extra_args[0] = ['-stopatheight=207']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139985124",
      "id" : 139985124,
      "original_commit_id" : "3eb13b62f413313d39aa4285a8eb94d4fdcd998b",
      "original_position" : 39,
      "path" : "test/functional/blockchain.py",
      "position" : null,
      "pull_request_review_id" : 63993526,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139985124",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139985723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139985723"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Great! Ideally the stop and start methods in `TestFramework` would be methods on the `TestNode` class, and so would this, but we can clean that up later.\r\n\r\nYou can change this to:\r\n\r\n```python\r\ndef restart_node(self, i):\r\n    \"\"\"Stop and start a test node\"\"\"\r\n    self.stop_node(i)\r\n    self.start_node(i)\r\n```\r\n\r\nAs long as you also take my change to blockchain.py above.",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T14:28:28Z",
      "diff_hunk" : "@@ -273,6 +273,11 @@ def stop_nodes(self):\n             # Wait for nodes to stop\n             node.wait_until_stopped()\n \n+    def restart_node(self, i):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139985723",
      "id" : 139985723,
      "in_reply_to_id" : 139978378,
      "original_commit_id" : "2a1a0226eed56c4043b32a6d39b1587d66b2d322",
      "original_position" : 4,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 63993526,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139985723",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139989354"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139989354"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery added the option to override `node.extra_args`. I wonder if that this new `extra_arg` should be saved in `node`.",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T14:39:54Z",
      "diff_hunk" : "@@ -273,6 +273,11 @@ def stop_nodes(self):\n             # Wait for nodes to stop\n             node.wait_until_stopped()\n \n+    def restart_node(self, i, extra_args=None):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r139989354",
      "id" : 139989354,
      "original_commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "original_position" : 4,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 4,
      "pull_request_review_id" : 63998611,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T14:39:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139989354",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Noted for #11367, can update to include relevant checks (or vice versa, whichever goes in first I guess)",
      "created_at" : "2017-09-20T15:33:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#issuecomment-330890182",
      "id" : 330890182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11370",
      "updated_at" : "2017-09-20T15:33:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330890182",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7999704?v=4",
         "events_url" : "https://api.github.com/users/esotericnonsense/events{/privacy}",
         "followers_url" : "https://api.github.com/users/esotericnonsense/followers",
         "following_url" : "https://api.github.com/users/esotericnonsense/following{/other_user}",
         "gists_url" : "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/esotericnonsense",
         "id" : 7999704,
         "login" : "esotericnonsense",
         "organizations_url" : "https://api.github.com/users/esotericnonsense/orgs",
         "received_events_url" : "https://api.github.com/users/esotericnonsense/received_events",
         "repos_url" : "https://api.github.com/users/esotericnonsense/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/esotericnonsense/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/esotericnonsense"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r140008732"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140008732"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks good. I don't think you need to update `node.extra_args`",
      "commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T15:40:35Z",
      "diff_hunk" : "@@ -273,6 +273,11 @@ def stop_nodes(self):\n             # Wait for nodes to stop\n             node.wait_until_stopped()\n \n+    def restart_node(self, i, extra_args=None):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#discussion_r140008732",
      "id" : 140008732,
      "in_reply_to_id" : 139989354,
      "original_commit_id" : "f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "original_position" : 4,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 4,
      "pull_request_review_id" : 64020907,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11370",
      "updated_at" : "2017-09-20T15:40:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140008732",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I guess this could go in first since #11367 is a new feature. But if #11367 goes first then I'm happy to update this.",
      "created_at" : "2017-09-20T15:59:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#issuecomment-330898662",
      "id" : 330898662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11370",
      "updated_at" : "2017-09-20T15:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330898662",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK f6ffb143679aa7e89ad3c3342ceba5e5aaf71a0e",
      "created_at" : "2017-09-20T19:44:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#issuecomment-330959867",
      "id" : 330959867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11370",
      "updated_at" : "2017-09-20T19:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330959867",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag @esotericnonsense - I think it's a good idea if you decide between yourselves which should go in first and then rebase the other on top of it (otherwise there's a risk they both get merged independently and no tests are added for #11367)",
      "created_at" : "2017-09-22T20:22:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#issuecomment-331551305",
      "id" : 331551305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11370",
      "updated_at" : "2017-09-22T20:22:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331551305",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll rebase on top, given that there seem to be a few niggles with #11367 this one can go in first.",
      "created_at" : "2017-09-22T21:46:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11370#issuecomment-331568245",
      "id" : 331568245,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11370",
      "updated_at" : "2017-09-22T21:47:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331568245",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7999704?v=4",
         "events_url" : "https://api.github.com/users/esotericnonsense/events{/privacy}",
         "followers_url" : "https://api.github.com/users/esotericnonsense/followers",
         "following_url" : "https://api.github.com/users/esotericnonsense/following{/other_user}",
         "gists_url" : "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/esotericnonsense",
         "id" : 7999704,
         "login" : "esotericnonsense",
         "organizations_url" : "https://api.github.com/users/esotericnonsense/orgs",
         "received_events_url" : "https://api.github.com/users/esotericnonsense/received_events",
         "repos_url" : "https://api.github.com/users/esotericnonsense/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/esotericnonsense/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/esotericnonsense"
      }
   }
]
