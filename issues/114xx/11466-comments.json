[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143427433"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143427433"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit *Default wallet directory is wallets/ if it exists*, missing test?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:06:50Z",
      "diff_hunk" : "@@ -590,6 +590,10 @@ fs::path GetWalletDir()\n         }\n     } else {\n         path = GetDataDir();\n+        // If a wallets directory exists, use that, otherwise default to GetDataDir\n+        if (fs::is_directory(path / \"wallets\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143427433",
      "id" : 143427433,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 5,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143427433",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143428584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143428584"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is breaking change. Also, this is not so relevant to this PR? I suggest to create a PR with this to separate discussions.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:12:32Z",
      "diff_hunk" : "@@ -2626,17 +2626,16 @@ UniValue listwallets(const JSONRPCRequest& request)\n             \"Returns a list of currently loaded wallets.\\n\"\n             \"For full information on the wallet, use \\\"getwalletinfo\\\"\\n\"\n             \"\\nResult:\\n\"\n-            \"[                         (json array of strings)\\n\"\n-            \"  \\\"walletname\\\"            (string) the wallet name\\n\"\n-            \"   ...\\n\"\n-            \"]\\n\"\n+            \"{\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143428584",
      "id" : 143428584,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 8,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143428584",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143428650"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143428650"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`++it`.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:12:57Z",
      "diff_hunk" : "@@ -2645,10 +2644,23 @@ UniValue listwallets(const JSONRPCRequest& request)\n \n         LOCK(pwallet->cs_wallet);\n \n-        obj.push_back(pwallet->GetName());\n+        loaded.push_back(pwallet->GetName());\n     }\n \n-    return obj;\n+    UniValue available(UniValue::VARR);\n+    fs::path walletdir = GetWalletDir();\n+    for (fs::directory_iterator it(walletdir); it != fs::directory_iterator(); it++) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143428650",
      "id" : 143428650,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 34,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143428650",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429029"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429029"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "When is this directory created? ",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:14:57Z",
      "diff_hunk" : "@@ -579,6 +579,26 @@ const fs::path &GetDataDir(bool fNetSpecific)\n     return path;\n }\n \n+fs::path GetWalletDir()\n+{\n+    fs::path path;\n+\n+    if (gArgs.IsArgSet(\"-walletdir\")) {\n+        path = fs::system_complete(gArgs.GetArg(\"-walletdir\", \"\"));\n+        if (!fs::is_directory(path)) {\n+            path = \"\";\n+        }\n+    } else {\n+        path = GetDataDir();\n+        // If a wallets directory exists, use that, otherwise default to GetDataDir\n+        if (fs::is_directory(path / \"wallets\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429029",
      "id" : 143429029,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 16,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429029",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429197"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "At the moment `GetWalletDir` is used in the startup and in runtime.\r\n\r\nIMO, in runtime, this should not be possible. Create a `bool IsValidWalletDir()` (or whatever) to use in startup and here assert `is_directory`?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:15:53Z",
      "diff_hunk" : "@@ -579,6 +579,26 @@ const fs::path &GetDataDir(bool fNetSpecific)\n     return path;\n }\n \n+fs::path GetWalletDir()\n+{\n+    fs::path path;\n+\n+    if (gArgs.IsArgSet(\"-walletdir\")) {\n+        path = fs::system_complete(gArgs.GetArg(\"-walletdir\", \"\"));\n+        if (!fs::is_directory(path)) {\n+            path = \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429197",
      "id" : 143429197,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 11,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429197",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429280"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`{` in this line.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:16:23Z",
      "diff_hunk" : "@@ -626,6 +626,12 @@ int main(int argc, char *argv[])\n                               QObject::tr(\"Error: Specified data directory \\\"%1\\\" does not exist.\").arg(QString::fromStdString(gArgs.GetArg(\"-datadir\", \"\"))));\n         return EXIT_FAILURE;\n     }\n+    if (gArgs.IsArgSet(\"-walletdir\") && !fs::is_directory(GetWalletDir()))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429280",
      "id" : 143429280,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 4,
      "path" : "src/qt/bitcoin.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429280",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429735"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429735"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Another interface is:\r\n```json\r\n{\r\n  \"wallets\": [\r\n    { \"name\": \"foo\", \"loaded\": true },\r\n    { \"name\": \"bar\", \"loaded\": false }\r\n  ]\r\n}\r\n```\r\nWhich has the advantage of allowing to add new attributes later.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:18:50Z",
      "diff_hunk" : "@@ -2626,17 +2626,16 @@ UniValue listwallets(const JSONRPCRequest& request)\n             \"Returns a list of currently loaded wallets.\\n\"\n             \"For full information on the wallet, use \\\"getwalletinfo\\\"\\n\"\n             \"\\nResult:\\n\"\n-            \"[                         (json array of strings)\\n\"\n-            \"  \\\"walletname\\\"            (string) the wallet name\\n\"\n-            \"   ...\\n\"\n-            \"]\\n\"\n+            \"{\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429735",
      "id" : 143429735,
      "in_reply_to_id" : 143428584,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 8,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429735",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429837"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is kind of hard to read. Care to simplify?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:19:25Z",
      "diff_hunk" : "@@ -2645,10 +2644,23 @@ UniValue listwallets(const JSONRPCRequest& request)\n \n         LOCK(pwallet->cs_wallet);\n \n-        obj.push_back(pwallet->GetName());\n+        loaded.push_back(pwallet->GetName());\n     }\n \n-    return obj;\n+    UniValue available(UniValue::VARR);\n+    fs::path walletdir = GetWalletDir();\n+    for (fs::directory_iterator it(walletdir); it != fs::directory_iterator(); it++) {\n+        if (is_regular_file(*it)\n+         && it->path().filename().string().length() > 4\n+         && it->path().filename().string().substr(it->path().filename().string().length() - 4) == \".dat\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143429837",
      "id" : 143429837,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 37,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143429837",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143430048"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143430048"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ã°ÂÂÂ to release notes.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:20:39Z",
      "diff_hunk" : "@@ -74,6 +74,13 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Custom wallet directories",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143430048",
      "id" : 143430048,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 13,
      "path" : "doc/release-notes.md",
      "position" : 13,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143430048",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143430120"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143430120"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Missing `datadir/wallets` case?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:21:07Z",
      "diff_hunk" : "@@ -74,6 +74,13 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Custom wallet directories\n+---------------------\n+The ability to specify a directory other than the default data directory in which to store\n+wallets has been added. An existing directory can be specified using the `-walletdir=<dir>`\n+argument. The parameter defaults to using the data directory location if not included.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143430120",
      "id" : 143430120,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 17,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143430120",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143431510"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143431510"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Specify directory to hold wallets?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:28:02Z",
      "diff_hunk" : "@@ -367,6 +367,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-sysperms\", _(\"Create new files with system default permissions, instead of umask 077 (only effective with disabled wallet functionality)\"));\n #endif\n     strUsage += HelpMessageOpt(\"-txindex\", strprintf(_(\"Maintain a full transaction index, used by the getrawtransaction rpc call (default: %u)\"), DEFAULT_TXINDEX));\n+    strUsage += HelpMessageOpt(\"-walletdir=<dir>\", _(\"Specify wallet directory\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143431510",
      "id" : 143431510,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143431510",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143431659"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143431659"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, should be `-walletsdir` (plural)?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:28:29Z",
      "diff_hunk" : "@@ -74,6 +74,13 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Custom wallet directories\n+---------------------\n+The ability to specify a directory other than the default data directory in which to store\n+wallets has been added. An existing directory can be specified using the `-walletdir=<dir>`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143431659",
      "id" : 143431659,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 16,
      "path" : "doc/release-notes.md",
      "position" : 16,
      "pull_request_review_id" : 67936045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143431659",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435117"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435117"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is part of the WIP, I'll add a test for that when I make it actually initialise the directory :)",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:48:18Z",
      "diff_hunk" : "@@ -590,6 +590,10 @@ fs::path GetWalletDir()\n         }\n     } else {\n         path = GetDataDir();\n+        // If a wallets directory exists, use that, otherwise default to GetDataDir\n+        if (fs::is_directory(path / \"wallets\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435117",
      "id" : 143435117,
      "in_reply_to_id" : 143427433,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 5,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 67944982,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435117",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435389"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435389"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yep I'll include something similar when reworking the directory caching stuff I think, datadir and walletdir shouldn't change throughout execution so no point rechecking every time",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:49:51Z",
      "diff_hunk" : "@@ -579,6 +579,26 @@ const fs::path &GetDataDir(bool fNetSpecific)\n     return path;\n }\n \n+fs::path GetWalletDir()\n+{\n+    fs::path path;\n+\n+    if (gArgs.IsArgSet(\"-walletdir\")) {\n+        path = fs::system_complete(gArgs.GetArg(\"-walletdir\", \"\"));\n+        if (!fs::is_directory(path)) {\n+            path = \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435389",
      "id" : 143435389,
      "in_reply_to_id" : 143429197,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 11,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 67945297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435389",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435523"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's not yet, it's on the to-do list ;)",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:50:21Z",
      "diff_hunk" : "@@ -579,6 +579,26 @@ const fs::path &GetDataDir(bool fNetSpecific)\n     return path;\n }\n \n+fs::path GetWalletDir()\n+{\n+    fs::path path;\n+\n+    if (gArgs.IsArgSet(\"-walletdir\")) {\n+        path = fs::system_complete(gArgs.GetArg(\"-walletdir\", \"\"));\n+        if (!fs::is_directory(path)) {\n+            path = \"\";\n+        }\n+    } else {\n+        path = GetDataDir();\n+        // If a wallets directory exists, use that, otherwise default to GetDataDir\n+        if (fs::is_directory(path / \"wallets\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435523",
      "id" : 143435523,
      "in_reply_to_id" : 143429029,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 16,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 67945450,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435523",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435897"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I prefer walletdir, no real difference though imo",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:52:35Z",
      "diff_hunk" : "@@ -74,6 +74,13 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Custom wallet directories\n+---------------------\n+The ability to specify a directory other than the default data directory in which to store\n+wallets has been added. An existing directory can be specified using the `-walletdir=<dir>`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143435897",
      "id" : 143435897,
      "in_reply_to_id" : 143431659,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 16,
      "path" : "doc/release-notes.md",
      "position" : 16,
      "pull_request_review_id" : 67945898,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143435897",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143436129"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143436129"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Re: breaking change, I believe it was only added in 0.15 anyway so its expected to be more unstable. Can separate into a new PR if desired, but I think its only really a useful change in this context, so I'll wait to see what others think",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:54:04Z",
      "diff_hunk" : "@@ -2626,17 +2626,16 @@ UniValue listwallets(const JSONRPCRequest& request)\n             \"Returns a list of currently loaded wallets.\\n\"\n             \"For full information on the wallet, use \\\"getwalletinfo\\\"\\n\"\n             \"\\nResult:\\n\"\n-            \"[                         (json array of strings)\\n\"\n-            \"  \\\"walletname\\\"            (string) the wallet name\\n\"\n-            \"   ...\\n\"\n-            \"]\\n\"\n+            \"{\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143436129",
      "id" : 143436129,
      "in_reply_to_id" : 143428584,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 8,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 67946210,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143436129",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143436257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143436257"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Will add when implemented :+1:",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-09T10:54:35Z",
      "diff_hunk" : "@@ -74,6 +74,13 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Custom wallet directories\n+---------------------\n+The ability to specify a directory other than the default data directory in which to store\n+wallets has been added. An existing directory can be specified using the `-walletdir=<dir>`\n+argument. The parameter defaults to using the data directory location if not included.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143436257",
      "id" : 143436257,
      "in_reply_to_id" : 143430120,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 17,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 67946350,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143436257",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I haven't looked at the code, but how is this interacting with the multi-wallet-mode?\r\nDoes it allow a directory per wallet?",
      "created_at" : "2017-10-09T19:55:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#issuecomment-335268764",
      "id" : 335268764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11466",
      "updated_at" : "2017-10-09T19:55:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335268764",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli no, all wallets would be inside the walletdir specified",
      "created_at" : "2017-10-09T20:51:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#issuecomment-335283556",
      "id" : 335283556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11466",
      "updated_at" : "2017-10-09T20:51:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335283556",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Addressed @promag nits, will work on the directory creation stuff as soon as I can",
      "created_at" : "2017-10-10T06:12:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#issuecomment-335371134",
      "id" : 335371134,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11466",
      "updated_at" : "2017-10-10T06:12:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335371134",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143637425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143637425"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also re: interface, that idea is nice but it doesn't work well with the current logic of looking for `*.dat` files imo, `available` is slightly less suggestive that they *are* actually wallets than putting them all in a `wallets` list, you'd end up with `{ \"name\": \"peers.dat\", \"loaded\": false}` if you were using the datadir. If you or anyone has a better idea for finding wallets then that would be ok",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T06:16:34Z",
      "diff_hunk" : "@@ -2626,17 +2626,16 @@ UniValue listwallets(const JSONRPCRequest& request)\n             \"Returns a list of currently loaded wallets.\\n\"\n             \"For full information on the wallet, use \\\"getwalletinfo\\\"\\n\"\n             \"\\nResult:\\n\"\n-            \"[                         (json array of strings)\\n\"\n-            \"  \\\"walletname\\\"            (string) the wallet name\\n\"\n-            \"   ...\\n\"\n-            \"]\\n\"\n+            \"{\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143637425",
      "id" : 143637425,
      "in_reply_to_id" : 143428584,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 8,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 68174954,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143637425",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143730935"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143730935"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> If you or anyone has a better idea for finding wallets then that would be ok\r\n\r\nYou could look for berkeleydb magic bytes to at least filter out files which can't be bdb databases:\r\n\r\nhttps://github.com/file/file/blob/master/magic/Magdir/database",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T13:43:04Z",
      "diff_hunk" : "@@ -2626,17 +2626,16 @@ UniValue listwallets(const JSONRPCRequest& request)\n             \"Returns a list of currently loaded wallets.\\n\"\n             \"For full information on the wallet, use \\\"getwalletinfo\\\"\\n\"\n             \"\\nResult:\\n\"\n-            \"[                         (json array of strings)\\n\"\n-            \"  \\\"walletname\\\"            (string) the wallet name\\n\"\n-            \"   ...\\n\"\n-            \"]\\n\"\n+            \"{\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143730935",
      "id" : 143730935,
      "in_reply_to_id" : 143428584,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 8,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 68284055,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143730935",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143733780"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143733780"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What is the goal? Why anyone wants to list available wallets? I guess that whoever wants multiwallet keeps a record of the wallets externally? ~~Anyway, I strongly suggest to move that discussion to a new PR.~~",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T13:52:25Z",
      "diff_hunk" : "@@ -2626,17 +2626,16 @@ UniValue listwallets(const JSONRPCRequest& request)\n             \"Returns a list of currently loaded wallets.\\n\"\n             \"For full information on the wallet, use \\\"getwalletinfo\\\"\\n\"\n             \"\\nResult:\\n\"\n-            \"[                         (json array of strings)\\n\"\n-            \"  \\\"walletname\\\"            (string) the wallet name\\n\"\n-            \"   ...\\n\"\n-            \"]\\n\"\n+            \"{\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143733780",
      "id" : 143733780,
      "in_reply_to_id" : 143428584,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 8,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 68287495,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143733780",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143791327"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143791327"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This change may have been influenced by my comment here: https://github.com/bitcoin/bitcoin/issues/11348#issuecomment-330234723. See the original post in that issue for motivation.\r\n\r\nMy view is that `listwallets` was announced as experimental in v0.15 (along with all the other multiwallet RPCs) so we have a bit more licence to make breaking changes than normal. I think this change should stay, but like @MeshCollider says, there may be better ways to achieve it.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:04:24Z",
      "diff_hunk" : "@@ -2626,17 +2626,16 @@ UniValue listwallets(const JSONRPCRequest& request)\n             \"Returns a list of currently loaded wallets.\\n\"\n             \"For full information on the wallet, use \\\"getwalletinfo\\\"\\n\"\n             \"\\nResult:\\n\"\n-            \"[                         (json array of strings)\\n\"\n-            \"  \\\"walletname\\\"            (string) the wallet name\\n\"\n-            \"   ...\\n\"\n-            \"]\\n\"\n+            \"{\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143791327",
      "id" : 143791327,
      "in_reply_to_id" : 143428584,
      "original_commit_id" : "f8dc7acb8c4776b8a68b91a03487313a7c92e862",
      "original_position" : 8,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143791327",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143792101"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143792101"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this help text should go in `GetWalletHelpString()` in `src/wallet/init.cpp`",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:07:36Z",
      "diff_hunk" : "@@ -367,6 +367,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-sysperms\", _(\"Create new files with system default permissions, instead of umask 077 (only effective with disabled wallet functionality)\"));\n #endif\n     strUsage += HelpMessageOpt(\"-txindex\", strprintf(_(\"Maintain a full transaction index, used by the getrawtransaction rpc call (default: %u)\"), DEFAULT_TXINDEX));\n+    strUsage += HelpMessageOpt(\"-walletdir=<dir>\", _(\"Specify directory to hold wallets\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143792101",
      "id" : 143792101,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143792101",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143792569"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143792569"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Again, I think this log should go in the wallet module rather than server.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:09:29Z",
      "diff_hunk" : "@@ -1224,6 +1225,7 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n         LogPrintf(\"Startup time: %s\\n\", DateTimeStrFormat(\"%Y-%m-%d %H:%M:%S\", GetTime()));\n     LogPrintf(\"Default data directory %s\\n\", GetDefaultDataDir().string());\n     LogPrintf(\"Using data directory %s\\n\", GetDataDir().string());\n+    LogPrintf(\"Using wallet directory %s\\n\", GetWalletDir().string());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143792569",
      "id" : 143792569,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 12,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143792569",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143793979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143793979"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't love this. At the moment you're using `path = \"\"` to essentially return an error to the caller (since on start-up, the calling function checks that the returned `fs::path` is a directory). That's not at all clear from reading just this function.\r\n\r\nCan you be more explicit about how the error is returned, either by explicitly returning bool or at the least by adding a comment here?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:14:43Z",
      "diff_hunk" : "@@ -579,6 +579,26 @@ const fs::path &GetDataDir(bool fNetSpecific)\n     return path;\n }\n \n+fs::path GetWalletDir()\n+{\n+    fs::path path;\n+\n+    if (gArgs.IsArgSet(\"-walletdir\")) {\n+        path = fs::system_complete(gArgs.GetArg(\"-walletdir\", \"\"));\n+        if (!fs::is_directory(path)) {\n+            path = \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143793979",
      "id" : 143793979,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 11,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143793979",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143795233"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143795233"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this necessary? Where is the wallet name used in `bitcoin-cli.cpp`?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:19:13Z",
      "diff_hunk" : "@@ -105,6 +105,10 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", gArgs.GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n+    if (gArgs.IsArgSet(\"-walletdir\") && !fs::is_directory(GetWalletDir())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143795233",
      "id" : 143795233,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 4,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143795233",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143801037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143801037"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Wallet names are currently allowed to not end with `.dat`. This test verified that we don't regress that support.\r\n\r\nI'm not sure if we should go on supporting that, but we should discuss that before removing support.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:40:42Z",
      "diff_hunk" : "@@ -15,30 +15,41 @@ class MultiWalletTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n-        self.extra_args = [['-wallet=w1', '-wallet=w2', '-wallet=w3']]\n+        self.extra_args = [['-wallet=w1.dat', '-wallet=w2.dat', '-wallet=w3.dat']]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143801037",
      "id" : 143801037,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 5,
      "path" : "test/functional/multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143801037",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143801619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143801619"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This test should also test having multiple wallets in the walletdir, and issuing an RPC command to one of them.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:42:52Z",
      "diff_hunk" : "@@ -15,30 +15,41 @@ class MultiWalletTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n-        self.extra_args = [['-wallet=w1', '-wallet=w2', '-wallet=w3']]\n+        self.extra_args = [['-wallet=w1.dat', '-wallet=w2.dat', '-wallet=w3.dat']]\n \n     def run_test(self):\n-        assert_equal(set(self.nodes[0].listwallets()), {\"w1\", \"w2\", \"w3\"})\n+        assert_equal(set(self.nodes[0].listwallets()['loaded']), {\"w1.dat\", \"w2.dat\", \"w3.dat\"})\n \n         self.stop_node(0)\n \n         # should not initialize if there are duplicate wallets\n-        self.assert_start_raises_init_error(0, ['-wallet=w1', '-wallet=w1'], 'Error loading wallet w1. Duplicate -wallet filename specified.')\n+        self.assert_start_raises_init_error(0, ['-wallet=w1.dat', '-wallet=w1.dat'], 'Error loading wallet w1.dat. Duplicate -wallet filename specified.')\n \n         # should not initialize if wallet file is a directory\n-        os.mkdir(os.path.join(self.options.tmpdir, 'node0', 'regtest', 'w11'))\n-        self.assert_start_raises_init_error(0, ['-wallet=w11'], 'Error loading wallet w11. -wallet filename must be a regular file.')\n+        os.mkdir(os.path.join(self.options.tmpdir, 'node0', 'regtest', 'w11.dat'))\n+        self.assert_start_raises_init_error(0, ['-wallet=w11.dat'], 'Error loading wallet w11.dat. -wallet filename must be a regular file.')\n \n         # should not initialize if wallet file is a symlink\n-        os.symlink(os.path.join(self.options.tmpdir, 'node0', 'regtest', 'w1'), os.path.join(self.options.tmpdir, 'node0', 'regtest', 'w12'))\n-        self.assert_start_raises_init_error(0, ['-wallet=w12'], 'Error loading wallet w12. -wallet filename must be a regular file.')\n+        os.symlink(os.path.join(self.options.tmpdir, 'node0', 'regtest', 'w1.dat'), os.path.join(self.options.tmpdir, 'node0', 'regtest', 'w12.dat'))\n+        self.assert_start_raises_init_error(0, ['-wallet=w12.dat'], 'Error loading wallet w12.dat. -wallet filename must be a regular file.')\n+\n+        # should not initialize if the specified walletdir does not exist\n+        self.assert_start_raises_init_error(0, ['-walletdir=bad'], 'Error: Specified wallet directory \"bad\" does not exist.')\n+\n+        # running the node with specified walletdir should only have the default wallet in it\n+        os.mkdir(os.path.join(self.options.tmpdir, 'node0', 'regtest', 'walletdir'))\n+        self.start_node(0, ['-walletdir=' + os.path.join(self.options.tmpdir, 'node0', 'regtest', 'walletdir')])\n+        assert_equal(set(self.nodes[0].listwallets()['loaded']), {\"wallet.dat\"})",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143801619",
      "id" : 143801619,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 35,
      "path" : "test/functional/multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143801619",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143804114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143804114"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`relative to this wallet directory` or `must be in this wallet directory`",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:51:40Z",
      "diff_hunk" : "@@ -74,6 +74,13 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Custom wallet directories\n+---------------------\n+The ability to specify a directory other than the default data directory in which to store\n+wallets has been added. An existing directory can be specified using the `-walletdir=<dir>`\n+argument. The parameter defaults to using the data directory location if not included.\n+Wallets loaded via `-wallet` arguments are relative to this wallet directory.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143804114",
      "id" : 143804114,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 18,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143804114",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143804646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143804646"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure, but perhaps we should add a warning that `-walletdir` must refer to a reliable directory in the filesystem. For example, I think we want to discourage people using ephemeral, removable storage for their `-walletdir` since if the directory becomes unavailable during operation, funds may be lost.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:53:37Z",
      "diff_hunk" : "@@ -74,6 +74,13 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Custom wallet directories\n+---------------------\n+The ability to specify a directory other than the default data directory in which to store\n+wallets has been added. An existing directory can be specified using the `-walletdir=<dir>`\n+argument. The parameter defaults to using the data directory location if not included.\n+Wallets loaded via `-wallet` arguments are relative to this wallet directory.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143804646",
      "id" : 143804646,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 18,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143804646",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143805092"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143805092"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The arguments in the declaration and definition for `VerifyEnvironment()` and `VerifyDatabaseFile()` are still `dataDir`. Those should be updated to indicate that they're now refering to the wallet directory.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-10T17:55:19Z",
      "diff_hunk" : "@@ -208,7 +208,7 @@ bool VerifyWallets()\n         }\n \n         std::string strError;\n-        if (!CWalletDB::VerifyEnvironment(walletFile, GetDataDir().string(), strError)) {\n+        if (!CWalletDB::VerifyEnvironment(walletFile, GetWalletDir().string(), strError)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143805092",
      "id" : 143805092,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 14,
      "path" : "src/wallet/init.cpp",
      "position" : 46,
      "pull_request_review_id" : 68355771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143805092",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143911688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143911688"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-11T04:48:56Z",
      "diff_hunk" : "@@ -208,7 +208,7 @@ bool VerifyWallets()\n         }\n \n         std::string strError;\n-        if (!CWalletDB::VerifyEnvironment(walletFile, GetDataDir().string(), strError)) {\n+        if (!CWalletDB::VerifyEnvironment(walletFile, GetWalletDir().string(), strError)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143911688",
      "id" : 143911688,
      "in_reply_to_id" : 143805092,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 14,
      "path" : "src/wallet/init.cpp",
      "position" : 46,
      "pull_request_review_id" : 68491308,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143911688",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143912995"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143912995"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agreed, I'm unsure if there are any real benefits of adding an `available` list to the listwallets RPC after all, or if it just complicates the PR. Will discuss on IRC and then remove if not.",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-11T05:03:22Z",
      "diff_hunk" : "@@ -15,30 +15,41 @@ class MultiWalletTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n-        self.extra_args = [['-wallet=w1', '-wallet=w2', '-wallet=w3']]\n+        self.extra_args = [['-wallet=w1.dat', '-wallet=w2.dat', '-wallet=w3.dat']]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r143912995",
      "id" : 143912995,
      "in_reply_to_id" : 143801037,
      "original_commit_id" : "ead92c2d0310dcba68c44d7d0b5830ef34248ac6",
      "original_position" : 5,
      "path" : "test/functional/multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 68492585,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-13T22:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143912995",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've split the `listwallets` RPC changes out into #11485. Squashed nit-fix commits, reworked the datadir caching stuff. Needs some careful testing and review now but I think its ready for proper review, let's see how travis goes. Will fix stuff in the morning. ",
      "created_at" : "2017-10-11T11:15:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#issuecomment-335777141",
      "id" : 335777141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11466",
      "updated_at" : "2017-10-11T11:33:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335777141",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It might eventually make sense to have each wallet in each own directory, ie the structure would be:\r\n\r\n```\r\n/<dataDir>\r\n  .\r\n  .-/wallets\r\n      .\r\n      .-/wallet1\r\n      .   .\r\n      .   .-wallet1.dat\r\n      .   .-db.log\r\n      .   ./database\r\n      .\r\n      .-/wallet2\r\n      .   ....\r\n      ....\r\n ```\r\n\r\nThat way, every wallet has its own bdb environment and we avoid nasty surprises like https://github.com/bitcoin/bitcoin/issues/11429#issuecomment-335571653.\r\n\r\nThat might involve a large code change, which would be necessary anyway if we want to separate wallets into their own processes.\r\n\r\nI don't think that has any impact on this PR right now, but it's worth considering what we want the final structure to look like.",
      "created_at" : "2017-10-11T14:23:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#issuecomment-335827526",
      "id" : 335827526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11466",
      "updated_at" : "2017-10-11T14:23:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335827526",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Since we are relying on filesystem then :+1: to @jnewbery suggestion.",
      "created_at" : "2017-10-11T14:34:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#issuecomment-335831332",
      "id" : 335831332,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11466",
      "updated_at" : "2017-10-11T14:34:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335831332",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2017-10-13T22:47:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#issuecomment-336584862",
      "id" : 336584862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11466",
      "updated_at" : "2017-10-13T22:47:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336584862",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r146588801"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146588801"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This error message still says 'data directory'. The whole error message is a bit confusing, and I think it's rendered obsolete by the additional error checking at https://github.com/bitcoin/bitcoin/blob/57ee73990f1ce29916adfd99f93eae1ccea1a43b/src/wallet/init.cpp#L193 . Perhaps @jonasschnelli can confirm?",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-24T14:58:17Z",
      "diff_hunk" : "@@ -226,23 +227,23 @@ bool CDB::Recover(const std::string& filename, void *callbackDataIn, bool (*reco\n     return fSuccess;\n }\n \n-bool CDB::VerifyEnvironment(const std::string& walletFile, const fs::path& dataDir, std::string& errorStr)\n+bool CDB::VerifyEnvironment(const std::string& walletFile, const fs::path& walletDir, std::string& errorStr)\n {\n     LogPrintf(\"Using BerkeleyDB version %s\\n\", DbEnv::version(0, 0, 0));\n     LogPrintf(\"Using wallet %s\\n\", walletFile);\n \n     // Wallet file must be a plain filename without a directory\n     if (walletFile != fs::basename(walletFile) + fs::extension(walletFile))\n     {\n-        errorStr = strprintf(_(\"Wallet %s resides outside data directory %s\"), walletFile, dataDir.string());\n+        errorStr = strprintf(_(\"Wallet %s resides outside data directory %s\"), walletFile, walletDir.string());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r146588801",
      "id" : 146588801,
      "original_commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "original_position" : 22,
      "path" : "src/wallet/db.cpp",
      "position" : 22,
      "pull_request_review_id" : 71552112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-24T15:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146588801",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r146596435"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146596435"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps make some local variables here rather than repeating the same calls to `os.path.join()`:\r\n\r\n```python\r\nwallet_dir = os.path.join(self.options.tmpdir, 'node0', 'regtest', 'wallets')\r\n...\r\nwallet_dir2 = os.path.join(self.options.tmpdir, 'node0', 'regtest', 'walletdir')\r\n```\r\n\r\nor whatever",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-24T15:21:05Z",
      "diff_hunk" : "@@ -26,13 +26,34 @@ def run_test(self):\n         self.assert_start_raises_init_error(0, ['-wallet=w1', '-wallet=w1'], 'Error loading wallet w1. Duplicate -wallet filename specified.')\n \n         # should not initialize if wallet file is a directory\n-        os.mkdir(os.path.join(self.options.tmpdir, 'node0', 'regtest', 'w11'))\n+        os.mkdir(os.path.join(self.options.tmpdir, 'node0', 'regtest', 'wallets', 'w11'))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r146596435",
      "id" : 146596435,
      "original_commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "original_position" : 5,
      "path" : "test/functional/multiwallet.py",
      "position" : 5,
      "pull_request_review_id" : 71552112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-24T15:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146596435",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r146597354"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146597354"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Are you Satoshi? :slightly_smiling_face: If not, I guess you can remove this copyright line (and the same from `walletutil.h`)",
      "commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "created_at" : "2017-10-24T15:23:48Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11466#discussion_r146597354",
      "id" : 146597354,
      "original_commit_id" : "30daa93e6404c972e83e3c898c9cb72185b1f5a9",
      "original_position" : 1,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 1,
      "pull_request_review_id" : 71552112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11466",
      "updated_at" : "2017-10-24T15:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/146597354",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
