{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "OWNER",
   "body" : "This implements a minimum viable implementation of SegWit wallet support, based on top of #11167, #11389, and includes part of the functionality from #11089.\r\n\r\nTwo new configuration options are added:\r\n* `-addressstyle`, with options `legacy`, `p2sh`, and `segwit`. It controls what kind of addresses are produced by `getnewaddress`, `getaccountaddress`, and `createmultisigaddress`.\r\n* `-changestyle`, with the same options, and by default equal to `-addressstyle`, that controls what kind of change is used.\r\n\r\nAll wallet private and public keys can be used for any style of address. Support for address styles dependent on different derivation paths will need a major overhaul of how our internal detection of outputs work. I expect that that will happen for the next major version.\r\n\r\nThe above also applies to imported keys, as having a distinction there but not for normal operations is a disaster for testing, and probably for comprehension of users. This has some ugly effects, like needing to associate the provided label to `importprivkey` with each style address for the corresponding key.\r\n\r\nEvery wallet key implicitly adds its corresponding P2WPKH script to the wallet's known redeemscripts - without writing to the file. This is simpler, needs significantly less space on disk, needs no one-time upgrade for existing keys, but does mean that once a SegWit address has been used, you can't really downgrade to older software anymore.\r\n\r\n`dumpwallet`, `importwallet`, `importmulti`, `signmessage` and `verifymessage` don't work with SegWit addresses yet. They're remaining TODOs, for this PR or a follow-up. Because of that, several tests unexpectedly run with `-addressstyle=legacy` for now.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11403/comments",
   "created_at" : "2017-09-26T01:49:42Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11403/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/11403",
   "id" : 260465815,
   "labels" : [
      {
         "color" : "08a781",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11403/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 11403,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/11403.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11403",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/11403.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11403"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "SegWit wallet support",
   "updated_at" : "2017-09-26T01:53:17Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11403",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
      "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sipa/followers",
      "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sipa",
      "id" : 548488,
      "login" : "sipa",
      "organizations_url" : "https://api.github.com/users/sipa/orgs",
      "received_events_url" : "https://api.github.com/users/sipa/received_events",
      "repos_url" : "https://api.github.com/users/sipa/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sipa"
   }
}
