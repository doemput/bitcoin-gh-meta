{
   "assignee" : null,
   "body" : "I cannot start the application due to a segmentation fault on 64 bit Linux (Ubuntu 14.04). This applies to both bitcoind or bitcoin-qt. For reference, 'uname -a' outputs '3.16.0-41-generic'.\r\n\r\nThe issue happens with the current binary download of bitcoin core from bitcoin.org and from my own compiled version, in which --enable-hardened was the only ./configure flag I used. Using the compiled version I collected the following backtraces from bitcoind and bitcoin-qt.\r\n\r\nHere are the gdb bt results following the seg fault for bitcoind:\r\n#0  CBlockIndex::GetAncestor (this=<optimized out>, height=29985) at chain.cpp:85\r\n#1  0x00005555556b5864 in CBlockIndex::BuildSkip (this=this@entry=0x555556b5d980) at chain.cpp:108\r\n#2  0x00005555555ddeb2 in LoadBlockIndexDB () at main.cpp:3190\r\n#3  0x00005555555deb05 in LoadBlockIndex () at main.cpp:3381\r\n#4  0x00005555555a9955 in AppInit2 (threadGroup=..., scheduler=...) at init.cpp:1142\r\n#5  0x000055555558f07d in AppInit (argc=<optimized out>, argv=<optimized out>) at bitcoind.cpp:147\r\n#6  0x000055555558667f in main (argc=1, argv=0x7fffffffe068) at bitcoind.cpp:176\r\n\r\nAnd here are the gdb bt results following the seg fault for bitcoin-qt\r\n#0  CBlockIndex::GetAncestor (this=<optimized out>, height=29985) at chain.cpp:85\r\n#1  0x00005555557b4064 in CBlockIndex::BuildSkip (this=this@entry=0x7fffc50857b0) at chain.cpp:108\r\n#2  0x00005555556e96c2 in LoadBlockIndexDB () at main.cpp:3190\r\n#3  0x00005555556ea315 in LoadBlockIndex () at main.cpp:3381\r\n#4  0x00005555556bf235 in AppInit2 (threadGroup=..., scheduler=...) at init.cpp:1142\r\n#5  0x00005555555c8fa7 in BitcoinCore::initialize (this=0x5555567c2390) at qt/bitcoin.cpp:263\r\n#6  0x00005555555c93f8 in BitcoinCore::qt_static_metacall (_o=0x5555567c2390, _id=<optimized out>, _a=0x5555567c2af0, _c=<optimized out>) at qt/bitcoin.moc:58\r\n#7  0x00007ffff5d6fc1e in QObject::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#8  0x00007ffff684be2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#9  0x00007ffff68524a0 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#10 0x00007ffff5d574dd in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#11 0x00007ffff5d5ab3d in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#12 0x00007ffff5d84f83 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#13 0x00007ffff31cae04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#14 0x00007ffff31cb048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#15 0x00007ffff31cb0ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#16 0x00007ffff5d847a1 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#17 0x00007ffff5d560af in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#18 0x00007ffff5d563a5 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#19 0x00007ffff5c52c5f in QThread::exec() () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#20 0x00007ffff5c5532f in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#21 0x00007ffff54b6182 in start_thread (arg=0x7fffd5fef700) at pthread_create.c:312\r\n#22 0x00007ffff3be047d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111\r\n\r\nFor bitcoind, the seg fault occurs right after this output explaining the RPC password:\r\nIf the file does not exist, create it with owner-readable-only file permissions.\r\nIt is also recommended to set alertnotify so you are notified of problems;\r\nfor example: alertnotify=echo %s | mail -s \"Bitcoin Alert\" admin@foo.com",
   "closed_at" : "2015-07-07T02:28:11Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6187832?v=3",
      "events_url" : "https://api.github.com/users/primezeta/events{/privacy}",
      "followers_url" : "https://api.github.com/users/primezeta/followers",
      "following_url" : "https://api.github.com/users/primezeta/following{/other_user}",
      "gists_url" : "https://api.github.com/users/primezeta/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/primezeta",
      "id" : 6187832,
      "login" : "primezeta",
      "organizations_url" : "https://api.github.com/users/primezeta/orgs",
      "received_events_url" : "https://api.github.com/users/primezeta/received_events",
      "repos_url" : "https://api.github.com/users/primezeta/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/primezeta/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/primezeta/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/primezeta"
   },
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6332/comments",
   "created_at" : "2015-06-24T09:11:57Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6332/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/6332",
   "id" : 90618428,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6332/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 6332,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Segmentation fault on bitcoind or bitcoin-qt startup (64bit Linux)",
   "updated_at" : "2015-07-07T02:28:11Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6332",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6187832?v=3",
      "events_url" : "https://api.github.com/users/primezeta/events{/privacy}",
      "followers_url" : "https://api.github.com/users/primezeta/followers",
      "following_url" : "https://api.github.com/users/primezeta/following{/other_user}",
      "gists_url" : "https://api.github.com/users/primezeta/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/primezeta",
      "id" : 6187832,
      "login" : "primezeta",
      "organizations_url" : "https://api.github.com/users/primezeta/orgs",
      "received_events_url" : "https://api.github.com/users/primezeta/received_events",
      "repos_url" : "https://api.github.com/users/primezeta/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/primezeta/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/primezeta/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/primezeta"
   }
}
