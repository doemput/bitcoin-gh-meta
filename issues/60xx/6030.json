{
   "assignee" : null,
   "body" : "If a node is offline failed outbound connection attempts will crank up\r\n the addrman counter and effectively blow away our state.\r\n\r\nThis change reduces the problem by only counting attempts made while\r\n the node believes it has outbound connections to at least two\r\n netgroups.\r\n\r\nConnect and addnode connections are also not counted, as there is no\r\n reason to unequally penalize them for their more frequent\r\n connections -- though there should be no real effect from this\r\n unless their addnode configureation is later removed.\r\n\r\nWasteful repeated connection attempts while only a few connections are\r\n up are avoided via nLastTry.\r\n\r\nThis is still somewhat incomplete protection because our outbound\r\n peers could be down but not timed out or might all be on 'local'\r\n networks (although the requirement for multiple netgroups helps).",
   "closed_at" : "2016-04-15T06:01:54Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 19,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6030/comments",
   "created_at" : "2015-04-19T19:50:19Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6030/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/6030",
   "id" : 69458136,
   "labels" : [
      {
         "color" : "006b75",
         "name" : "P2P",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6030/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 6030,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/6030.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6030",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/6030.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6030"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Avoid counting failed connect attempts when probably offline.",
   "updated_at" : "2016-05-17T07:27:35Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6030",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
      "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gmaxwell/followers",
      "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gmaxwell",
      "id" : 858454,
      "login" : "gmaxwell",
      "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
      "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
      "repos_url" : "https://api.github.com/users/gmaxwell/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gmaxwell"
   }
}
