[
   {
      "body" : "The `-rpcbind=129.168.0.123:8332` option seems to be ignored when set. I also tried it with `bitcoind.exe`.\r\n\r\nNote, that `-rpcallowip=*` triggers an assertion failure:\r\n\r\n![image](https://cloud.githubusercontent.com/assets/12032350/17629347/22f664fc-60ba-11e6-86d0-9abbec21ab46.png)\r\n",
      "created_at" : "2016-08-12T16:28:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8502#issuecomment-239493475",
      "id" : 239493475,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8502",
      "updated_at" : "2016-08-12T16:28:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/239493475",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   },
   {
      "body" : "The default, for security reasons, has always been to bind RPC only on localhost.\r\n\r\nHowever, *IF* you specify `-rpcallowip` but no specific bind ip (with `-rpcbind=<addr>`), it should bind to all interfaces by default, see `httpserver.cpp` line 334:\r\n\r\n```c++\r\n    } else { // No specific bind address specified, bind to any\r\n        endpoints.push_back(std::make_pair(\"::\", defaultPort));\r\n        endpoints.push_back(std::make_pair(\"0.0.0.0\", defaultPort));\r\n    }\r\n```\r\nTesting this (on master):\r\n```bash\r\n$ src/bitcoind -regtest -rpcallowip='0.0.0.0/0'  -daemon\r\ntcp6       0      0 :::18332                :::*                    LISTEN      1071/bitcoind   \r\n$ src/bitcoind -regtest stop\r\n$ src/bitcoind -regtest -daemon\r\n$ netstat -anp|grep bitcoind\r\ntcp        0      0 127.0.0.1:18332         0.0.0.0:*               LISTEN      1098/bitcoind   \r\ntcp6       0      0 ::1:18332               :::*                    LISTEN      1098/bitcoind   \r\n$ src/bitcoind -regtest stop\r\n```\r\n\r\nIf you specify `-rpcbind=...` you also need to specify `-rpcallowip=...` for it to work, otherwise the server doesn't know what IPs are allowed and assumed you just want localhost and ignores the bind statement.\r\n\r\nYou should be able to see a message in the log in that case:\r\n```c++\r\n        if (mapArgs.count(\"-rpcbind\")) {\r\n            LogPrintf(\"WARNING: option -rpcbind was ignored because -rpcallowip was not specified, refusing to allow everyone to connect\\n\");\r\n        }\r\n```\r\n\r\n> Note, that -rpcallowip=* triggers an assertion failure\r\n\r\n`rpcallowip=*` is not a valid specification, as the error message says - though indeed it shouldn't assert out.\r\n\r\nThis behavior is all as expected, though the documentation could use improvement, so closing the issue.\r\n",
      "created_at" : "2016-08-13T13:42:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8502#issuecomment-239621457",
      "id" : 239621457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8502",
      "updated_at" : "2016-08-13T15:20:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/239621457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Thanks for the detailed reply.\r\n\r\nAs a user I would have found it more useful if server startup failed outright instead of ignoring options. I can confirm the warning message in debug.log, though.",
      "created_at" : "2016-08-13T14:19:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8502#issuecomment-239623117",
      "id" : 239623117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8502",
      "updated_at" : "2016-08-13T14:19:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/239623117",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   },
   {
      "body" : "> As a user I would have found it more useful if server startup failed outright instead of ignoring options. I can confirm the warning message in debug.log, though.\r\n\r\nYes exiting in that case that is probably a good idea.\r\n\r\nHowever, as this is after daemonizing (when `-daemon`) it is not possible to print messages to standard output at that point, so you'd have to check the log anyhow for the error. But yes exiting would still be more informative and would prompt people to check the log.\r\n",
      "created_at" : "2016-08-13T15:21:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8502#issuecomment-239625994",
      "id" : 239625994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8502",
      "updated_at" : "2016-08-13T15:21:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/239625994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I suggest keeping this open as a way track the documentation changes.\r\n\r\nMaking a note for myself: So far the easiest way to bind on all IPs was to specify `server=1` and `rpcallowip=111.222.0.0/16` (or similar). `rpcbind` was not required.",
      "created_at" : "2016-08-27T15:15:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/8502#issuecomment-242922900",
      "id" : 242922900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8502",
      "updated_at" : "2016-08-27T15:15:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242922900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12032350?v=3",
         "events_url" : "https://api.github.com/users/GSPP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GSPP/followers",
         "following_url" : "https://api.github.com/users/GSPP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GSPP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GSPP",
         "id" : 12032350,
         "login" : "GSPP",
         "organizations_url" : "https://api.github.com/users/GSPP/orgs",
         "received_events_url" : "https://api.github.com/users/GSPP/received_events",
         "repos_url" : "https://api.github.com/users/GSPP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GSPP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GSPP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GSPP"
      }
   }
]
