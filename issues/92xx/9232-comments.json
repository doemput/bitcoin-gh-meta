[
   {
      "body" : "IIRC nothing needs to be added to the bitcoin.conf file as opt-in RBF should already be enabled by default.\r\n\r\nTo send a transaction that signals opt-in RBF, at least one input's sequence number must be less than MAX_INT.",
      "created_at" : "2016-11-28T13:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9232#issuecomment-263269972",
      "id" : 263269972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9232",
      "updated_at" : "2016-11-28T13:23:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263269972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "@unsystemizer Can you provide exact step to reproduce the txn-mempool-conflict? Also, you might want to enable the option added in #8601 to opt-in with the wallet.",
      "created_at" : "2016-11-28T13:28:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9232#issuecomment-263270932",
      "id" : 263270932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9232",
      "updated_at" : "2016-11-28T13:28:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263270932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Yes I can, but that's not really why I've created this issue. What I want is that once the docs or manpages are improved, noone who RTFM will end up asking what settings have to be enabled for this to work. \r\nPut another way, IMO https://github.com/bitcoin/bitcoin/search?utf8=%E2%9C%93&q=walletrbf should contain at least one Markdown or text result, but there are none. One shouldn't need to go thru C++ code to figure this out.\r\n\r\nNow, to answer your question: I enabled walletrbf as well as the other one which you didn't mention (mempoolreplacement) and restarted. First I created 2 \"same\" send tx from the same address, one with a 0 miner fee, one with a non-0 miner fee (216 bytes, 0.00015 BTC, on testnet) and then I sent them in that order using debug console. The 2nd one failed with the above mentioned error. But again, I am not looking for help on how to make this work, but for the settings to be documented somewhere (https://github.com/bitcoin/bitcoin/tree/master/doc/man or wherever appropriate). Once it's documented, I'll read the docs and make it work. \r\n\r\n@achow101- https://github.com/bitcoin/bitcoin/blob/0.13/doc/release-notes/release-notes-0.12.0.md says `mempoolreplacement=0`, implying by default it is off. I know this is for v0.12, but I didn't find any updates regarding this in a later version, so unless 0 means yes here, something needs to be changed/enabled for RBF to work.... I have `mempoolreplacement=1`.",
      "created_at" : "2016-11-28T14:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9232#issuecomment-263286688",
      "id" : 263286688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9232",
      "updated_at" : "2016-11-28T14:51:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263286688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "@unsystemizer the release notes say\r\n\r\n> Transaction replacement can be disabled with a new command line option, '-mempoolreplacement=0'.\r\n\r\nThat implies that transaction replacement is already enabled by default and command to disable is the given onee.",
      "created_at" : "2016-11-28T14:50:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9232#issuecomment-263289994",
      "id" : 263289994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9232",
      "updated_at" : "2016-11-28T14:50:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263289994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Okay. I tried without mempoolreplacement in the config file as well, also got the same error. So likely my transactions weren't correct.\r\n\r\n> To send a transaction that signals opt-in RBF, at least one input's sequence number must be less than MAX_INT.\r\n\r\nMy input sequence number is identical in the both transactions.\r\nIs there an explorer example or a unit test that we can reference? \r\n\r\nBack to this topic of docs: I just did `bitcoind -help` one more time and had another look, and there's no mempoolreplacement  or walletrdf in the output. Do you agree that these options should be documented as other defaults are?\r\n\r\n",
      "created_at" : "2016-11-28T15:03:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9232#issuecomment-263293617",
      "id" : 263293617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9232",
      "updated_at" : "2016-11-28T15:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263293617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "> My input sequence number is identical in the both transactions.\r\n> Is there an example or a unit test of for this that we can reference?\r\n\r\nBIP 125: https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki documents what needs to be done.\r\n\r\nRBF tests are available at https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/replace-by-fee.py\r\n\r\n> Back to this topic of docs: I just did bitcoind -help one more time and had another look, and there's no mempoolreplacement or walletrdf in the output. Do you agree that these options should be documented as other defaults are?\r\n\r\nLook more closely, under Node relay options. Here it is in the code: https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L468\r\n\r\nIt would probably be a good idea to document all default node policy behavior. I will write those.",
      "created_at" : "2016-11-28T15:11:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9232#issuecomment-263295676",
      "id" : 263295676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9232",
      "updated_at" : "2016-11-28T15:11:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263295676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "`mempoolreplacement` only controls node acceptance of BIP-125 RBF transactions, it has no influence on the wallet.\r\n\r\n`walletrbf` causes the wallet to set the flag, but is not supported by any released version of Bitcoin Core. (it is, however, supported by Bitcoin Knots since v0.12.0)",
      "created_at" : "2016-11-28T18:56:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9232#issuecomment-263359733",
      "id" : 263359733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9232",
      "updated_at" : "2016-11-28T18:56:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263359733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
