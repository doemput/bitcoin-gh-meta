{
   "assignee" : null,
   "body" : "Since #4505 it can happen that pcoinsTip contains pruned but existing CCoins entries, representing deleted/reorged transactions.\r\n\r\nCCoinsViewMemPool::GetCoins does not deal correctly with this, as it first checks for an entry in the underlying cache (which can be pruned) and then for one in the mempool. Swap these, as the mempool is guaranteed never to conflict with the underlying cache, and the mempool cannot contain pruned transactions.\r\n\r\nThanks to @mikehearn for reporting.",
   "closed_at" : "2014-07-24T14:46:47Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4575/comments",
   "created_at" : "2014-07-23T13:31:59Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4575/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/4575",
   "id" : 38528887,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4575/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 4575,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/4575.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4575",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/4575.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4575"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Bugfix: make CCoinsViewMemPool support pruned entries in underlying cache",
   "updated_at" : "2014-07-24T14:46:47Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4575",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
      "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sipa/followers",
      "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sipa",
      "id" : 548488,
      "login" : "sipa",
      "organizations_url" : "https://api.github.com/users/sipa/orgs",
      "received_events_url" : "https://api.github.com/users/sipa/received_events",
      "repos_url" : "https://api.github.com/users/sipa/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sipa"
   }
}
