[
   {
      "body" : "According to @gmaxwell this is unintended behavior, but protects against worse attacks:\r\n\r\n> but in this case the 'bug' is protective against some attacks (and may actually explain why we've never seen the one I'm thinking of exploited, which had surprised meÃ¢ÂÂ¦).\r\n> So I think we should hold off on fixing this and just clean it up as a result of some timing cleanup the strengthens it in a number of other ways. I should have some time to work on this soon.\r\n\r\n(see discussion in #4526)",
      "created_at" : "2014-07-16T08:48:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-49138318",
      "id" : 49138318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-07-24T17:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49138318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "#4526 does not explain the potential attacks that warrant not fixing this bug.  While this bug remains in place, a node can become convinced by its peers that its time is off by 70 minutes, and stay that way until restarted.",
      "created_at" : "2014-08-30T16:59:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-53964089",
      "id" : 53964089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-08-30T17:03:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53964089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "> protective against some attacks.\r\n\r\nWhat are they? Can't seem to find any details on it.",
      "created_at" : "2014-09-05T12:33:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54619019",
      "id" : 54619019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-05T12:33:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54619019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/716965?v=3",
         "events_url" : "https://api.github.com/users/simondlr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/simondlr/followers",
         "following_url" : "https://api.github.com/users/simondlr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/simondlr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/simondlr",
         "id" : 716965,
         "login" : "simondlr",
         "organizations_url" : "https://api.github.com/users/simondlr/orgs",
         "received_events_url" : "https://api.github.com/users/simondlr/received_events",
         "repos_url" : "https://api.github.com/users/simondlr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/simondlr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/simondlr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/simondlr"
      }
   },
   {
      "body" : "@dgenr8 the problem is that the naive ways to fix this bug would make it even easier to convince a node it has the wrong time offset *at any time*. At least now the 'vulnerability' is limited to a window after startup.\r\n\r\nThis bug should be fixed, but as a by-effect of rewriting the time offset determination code.\r\n",
      "created_at" : "2014-09-05T12:54:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54620958",
      "id" : 54620958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-05T12:54:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54620958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "It's not clear to me which is worse.  Attacks aside, a slow or fast system clock isn't getting corrected dynamically as designed.  Maybe it would be better to use \"one chronometer\" for now.",
      "created_at" : "2014-09-05T21:14:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54682354",
      "id" : 54682354,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-05T21:14:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54682354",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 Making running systems trivially vulnerable to attack is worse. I shouldn't have to point this out.\r\n\r\nThe purpose of the time correction is primarily to fix small time zone / dst error or slight mis-setting. Even the crappy oscillators commonly shipped in Bitcoin do not frequently drift fast enough to cause problems for Bitcoins operation (which are tolerant of up to ~2 hours of offset) if set correctly just once.",
      "created_at" : "2014-09-05T21:18:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54682787",
      "id" : 54682787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-05T21:18:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54682787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I can't help wondering, if we just used the system clock, and this scheme were suggested, would it be shot down for taking a local problem and making it vulnerable to remote attack?\r\n\r\nAnd I'd better not fix my clock.  bitcoind will keep applying the wrong adjustment until restart.\r\n",
      "created_at" : "2014-09-05T21:40:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54685218",
      "id" : 54685218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-05T21:40:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54685218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "I'd happily ACK a patch that added an optional switch that disabled remote adjustment and added warnings if all your peers disagreed by more than a few minutes. There was one I had floating around previously that queried local NTP and disabled adjustment if NTP thought itself to be in sync (technique used in gnunet)",
      "created_at" : "2014-09-05T21:46:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54685781",
      "id" : 54685781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-05T21:46:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54685781",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "> I can't help wondering, if we just used the system clock, and this scheme were suggested, would it be shot down for taking a local problem and making it vulnerable to remote attack?\r\n\r\nProbably. Personally I'd prefer to have clock sync as just a local problem. A mechanism such as this should be used to warn, not correct. If your time is wrong, fix it. Wrong clocks cause all kinds of issues on a system.\r\n\r\n(this excludes drift over time due to oscillators which is outside the user's control, of course, but correcting for that requires a more advanced algorithm and as said by @gmaxwell is not required in our case as we don't need time to be very precise...)",
      "created_at" : "2014-09-06T04:02:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54701734",
      "id" : 54701734,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-06T04:05:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54701734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Is it worth modifying bitcoind or bitcoin-qt to display an alert if the system clock is off (compared to a reliable NTP server)?",
      "created_at" : "2014-09-07T08:47:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54741085",
      "id" : 54741085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-07T08:47:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54741085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "How do you find a reliable NTP server?",
      "created_at" : "2014-09-07T11:04:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54743678",
      "id" : 54743678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-07T11:04:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54743678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Perhaps NTP Pool? Cycles randomly between public NTP servers every hour. http://www.pool.ntp.org/en/use.html",
      "created_at" : "2014-09-07T11:13:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54743813",
      "id" : 54743813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-07T11:13:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54743813",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/716965?v=3",
         "events_url" : "https://api.github.com/users/simondlr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/simondlr/followers",
         "following_url" : "https://api.github.com/users/simondlr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/simondlr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/simondlr",
         "id" : 716965,
         "login" : "simondlr",
         "organizations_url" : "https://api.github.com/users/simondlr/orgs",
         "received_events_url" : "https://api.github.com/users/simondlr/received_events",
         "repos_url" : "https://api.github.com/users/simondlr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/simondlr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/simondlr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/simondlr"
      }
   },
   {
      "body" : "We're really not going to rely on a centralized service in the reference\nclient; even if it is just one that rotates between others. Adding optional\nNTP support that can be configured to use your own server (and perhaps\ndefaults to one on localhost, if available) would be possible, but is\nperhaps overkill. We have ~hours wiggle room in local clock variation\nbefore there is really a problem...",
      "created_at" : "2014-09-07T11:17:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54743888",
      "id" : 54743888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-07T11:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54743888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "All of the platforms on which core runs have well supported time sync clients, which can be configured \r\nto use any server.\r\n",
      "created_at" : "2014-09-07T22:02:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54762364",
      "id" : 54762364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-07T22:02:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54762364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "As said many times, we have no need for NTP-level precision. Let's not keep bringing that back into the discussion.\r\n\r\nGiving a warning if the time is significantly different from all peers should be enough. The reason for this check is mostly to find out if people have misconfigured their time zone.",
      "created_at" : "2014-09-08T07:11:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54783435",
      "id" : 54783435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-08T07:11:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54783435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Since we cannot agree on what is best, I suggest we leave the computer operator to decide. Let the computer trust its own clock, and disable the network time offset altogether. If the computer is setup to sync with NTP, good, if not, then good too. I think it is a good idea to bail if the machine has an offset of more than, say five or ten minutes with respect to the median time of peers it is attempting to connect to.\r\n\r\nThese are some potential attacks:\r\n\r\n- Malicious NTP server can isolate the machine and serve a separate version of the blockchain (already a risk currently, if enough nodes agree on the bad time, regardless of network offset calculation)\r\n- Malicious NTP server can deny the machine a connection no the Bitcoin network (offset too large, a risk with current scheme too)\r\n- Offset could make machine reject a block (this is already a risk on current scheme)\r\n- Offset may prevent the machine from connecting to the Bitcoin network (already a risk)\r\n\r\nThere surely are some attack vectors that I have not considered. But these that I could come up with are already affecting the current client, even with all the network offset calculation stuff. We could make the code simpler and still run the same level of risk.",
      "created_at" : "2014-09-08T14:14:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-54823839",
      "id" : 54823839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2014-09-08T14:14:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54823839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/904557?v=3",
         "events_url" : "https://api.github.com/users/xenog/events{/privacy}",
         "followers_url" : "https://api.github.com/users/xenog/followers",
         "following_url" : "https://api.github.com/users/xenog/following{/other_user}",
         "gists_url" : "https://api.github.com/users/xenog/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/xenog",
         "id" : 904557,
         "login" : "xenog",
         "organizations_url" : "https://api.github.com/users/xenog/orgs",
         "received_events_url" : "https://api.github.com/users/xenog/received_events",
         "repos_url" : "https://api.github.com/users/xenog/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/xenog/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/xenog/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/xenog"
      }
   },
   {
      "body" : "A side effect of this bug is that a node that has a drifting clock can will keep on drifting with no warning shown until bitcoind is restarted.\r\n\r\nNode starts up at reasonaly correct time.\r\nCollects 199 time offsets from other peers.\r\nLocal clock drifts. bitcoind silently keeps on using local time + previously calculated network adjustment, not at all compensating for it's local clock drift or even giving a warning/error when the difference gets too large.\r\n",
      "created_at" : "2015-07-29T10:09:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-125906624",
      "id" : 125906624,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2015-07-29T10:09:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125906624",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/350735?v=3",
         "events_url" : "https://api.github.com/users/hno/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hno/followers",
         "following_url" : "https://api.github.com/users/hno/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hno/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hno",
         "id" : 350735,
         "login" : "hno",
         "organizations_url" : "https://api.github.com/users/hno/orgs",
         "received_events_url" : "https://api.github.com/users/hno/received_events",
         "repos_url" : "https://api.github.com/users/hno/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hno/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hno/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hno"
      }
   },
   {
      "body" : "The above is an attempt to address the concerns raised here by adding an option to trust the local clock source, and rework warning conditions somewhat. Please review if you are interested.",
      "created_at" : "2015-07-29T12:53:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-125940524",
      "id" : 125940524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2015-07-29T12:53:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125940524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/350735?v=3",
         "events_url" : "https://api.github.com/users/hno/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hno/followers",
         "following_url" : "https://api.github.com/users/hno/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hno/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hno",
         "id" : 350735,
         "login" : "hno",
         "organizations_url" : "https://api.github.com/users/hno/orgs",
         "received_events_url" : "https://api.github.com/users/hno/received_events",
         "repos_url" : "https://api.github.com/users/hno/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hno/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hno/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hno"
      }
   },
   {
      "body" : "-trustlocalclock: Why not just return 0 in `GetTimeOffset()`? And warn about the peers offset being higher?\r\n",
      "created_at" : "2015-08-07T13:08:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-128695213",
      "id" : 128695213,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2015-08-07T13:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/128695213",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "But in general, I like -trustlocalclock. It allows the user to choose the \"take one\" part of the \"Never go to the sea...\" comment in https://github.com/bitcoin/bitcoin/blob/master/src/timedata.cpp#L21.\r\nOf course when using NTP, you could still be in bad network partition. Or your other time source could be compromised etc. But you can at least select such option.",
      "created_at" : "2015-08-07T13:14:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-128696139",
      "id" : 128696139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2015-08-07T13:14:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/128696139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Related PR: #6545",
      "created_at" : "2015-10-11T13:53:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-147193936",
      "id" : 147193936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2015-10-11T13:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/147193936",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "\"We're using SPV peer's time to compute our network offset P2P #6071\" is another time correction related issue.",
      "created_at" : "2016-02-16T17:02:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-184772631",
      "id" : 184772631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2016-02-16T17:02:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/184772631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Another issue:\r\nhttps://github.com/bitcoin/bitcoin/pull/7573#issuecomment-202973041\r\n\r\n> But the implementation has an odd non-monotonicity. E.g. if you have 5 peers claiming ten seconds off, then six more connect claiming 80 minutes. You'll apply a correction of 0 instead of 10 seconds. Perhaps better to just fix in another PR, since it was an existing misbehavior (though more likely to be triggered when the time is cut down to small numbers).\r\n",
      "created_at" : "2016-03-30T07:29:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4521#issuecomment-203290466",
      "id" : 203290466,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4521",
      "updated_at" : "2016-03-30T07:29:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/203290466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
