[
   {
      "body" : "Concept ACK (I vaguely recall from when we introduced PrecomputedTransactionData that it was  non-negligible performance impact, I can re-check).  \r\n\r\nI'm not sure about this approach though, because `SignatureHash` assumes that if the cache passed in is non-NULL, then the precomputed hashes are correct, which will no longer be necessarily true. \r\n\r\nIn particular, if we wrote signing code that tried to use PrecomputedTransactionData to cache the hashes ahead of time for re-use, then I think this code would break (as the witnesses would all be NULL before the signatures are added, right?)  So I think I'd prefer an approach that was easier to reason about...",
      "created_at" : "2017-01-18T18:29:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-273559233",
      "id" : 273559233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-01-18T18:29:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273559233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@sdaftuar added a bool to indicate whether the cache is ready so it becomes fail-safe. If we want to use the cache in signing code (which is currently not), an argument could be added to PrecomputedTransactionData::PrecomputedTransactionData to request for that.",
      "created_at" : "2017-01-19T08:14:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-273708407",
      "id" : 273708407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-01-19T08:14:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273708407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8403418?v=3",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "body" : "And I believe it's non-negligible. Assuming a block is full of non-witness txs (which all currently are), around 0.35MB of hashing is needed. For 100,000 blocks that'd be 35GB, which should take a few minutes at least.",
      "created_at" : "2017-01-19T08:21:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-273709598",
      "id" : 273709598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-01-19T08:21:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273709598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8403418?v=3",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "body" : "Concept ACK.  Probably the most important performance measure is connectTip latency at runtime, and I think this could quite possibly dominate that figure.",
      "created_at" : "2017-01-19T20:30:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-273889607",
      "id" : 273889607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-01-19T20:30:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273889607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK 0da49b5926b678b2ec35fabe37034f3d2e8385f4",
      "created_at" : "2017-04-09T16:07:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-292795000",
      "id" : 292795000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-04-09T16:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/292795000",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sdaftuar @gmaxwell does it look ok?",
      "created_at" : "2017-09-25T14:35:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-331901234",
      "id" : 331901234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-09-25T14:35:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331901234",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK",
      "created_at" : "2017-09-29T13:43:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-333129894",
      "id" : 333129894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-09-29T13:43:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333129894",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 0da49b5926b678b2ec35fabe37034f3d2e8385f4 (in the future we really need to figure out a way to move this into our CTransactionRef stuff so that this gets calculated once upon mempool-add and then not recalculated when we get a block containing the same transaction).",
      "created_at" : "2017-09-29T15:12:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-333153858",
      "id" : 333153858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-09-29T15:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333153858",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'd be a little more comfortable with this if PrecomputedTransactionData were passed around as const, so nobody's tempted to mess with \"ready\" for some crazy reason. But that can always be done later.\r\n\r\nutACK 0da49b5926b678b2ec35fabe37034f3d2e8385f4",
      "created_at" : "2017-10-04T20:39:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-334282408",
      "id" : 334282408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-10-04T20:39:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334282408",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Looks correct to me, utACK 0da49b5",
      "created_at" : "2017-10-05T17:49:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-334541133",
      "id" : 334541133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-10-05T17:49:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334541133",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK 0da49b5926b678b2ec35fabe37034f3d2e8385f4",
      "created_at" : "2017-10-05T17:52:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9572#issuecomment-334541904",
      "id" : 334541904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9572",
      "updated_at" : "2017-10-05T17:52:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334541904",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
