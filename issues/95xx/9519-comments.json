[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9519#discussion_r95671740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9519"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95671740"
         }
      },
      "body" : "nit: you may as well make this `const bool fReplacementTransaction = setConflicts.size()` under the lock & make the if below check fReplacementTransaction. ",
      "commit_id" : "de1ae324bf3fb7451c1008a1a9721ff9f469533b",
      "created_at" : "2017-01-11T21:05:46Z",
      "diff_hunk" : "@@ -788,13 +788,15 @@ bool AcceptToMemoryPoolWorker(CTxMemPool& pool, CValidationState& state, const C\n         size_t nConflictingSize = 0;\n         uint64_t nConflictingCount = 0;\n         CTxMemPool::setEntries allConflicting;\n+        bool fReplacementTransaction = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#discussion_r95671740",
      "id" : 95671740,
      "original_commit_id" : "20418bdf7976b8ff807dc6ed9f2a8e6b7f068ec3",
      "original_position" : 4,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 16235465,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9519",
      "updated_at" : "2017-01-20T20:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95671740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9519#discussion_r95671785"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9519"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95671785"
         }
      },
      "body" : "nit: `!fReplacementTransaction` is a lot cheaper of a check than the others, so may as well make it the first one in the group of `&`s. I don't think the optimizer would do that automatically?",
      "commit_id" : "de1ae324bf3fb7451c1008a1a9721ff9f469533b",
      "created_at" : "2017-01-11T21:06:00Z",
      "diff_hunk" : "@@ -955,9 +957,10 @@ bool AcceptToMemoryPoolWorker(CTxMemPool& pool, CValidationState& state, const C\n         pool.RemoveStaged(allConflicting, false);\n \n         // This transaction should only count for fee estimation if\n-        // the node is not behind and it is not dependent on any other\n-        // transactions in the mempool\n-        bool validForFeeEstimation = IsCurrentForFeeEstimation() && pool.HasNoInputsOf(tx);\n+        // the node is not behind, it is not dependent on any other\n+        // transactions in the mempool, and it isn't a BIP 125\n+        // replacement transaction (may not be widely supported).\n+        bool validForFeeEstimation = IsCurrentForFeeEstimation() && pool.HasNoInputsOf(tx) && !fReplacementTransaction;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#discussion_r95671785",
      "id" : 95671785,
      "original_commit_id" : "20418bdf7976b8ff807dc6ed9f2a8e6b7f068ec3",
      "original_position" : 26,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 16235511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9519",
      "updated_at" : "2017-01-20T20:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95671785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "body" : "Too much special-casing here... Estimates shouldn't break when 100% of the network adopts RBF support. But even more importantly, estimates shouldn't break when miners use unknown policies. There needs to be some tolerance of transactions being left unmined for reasons beyond the estimator's awareness.",
      "created_at" : "2017-01-11T21:46:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272005116",
      "id" : 272005116,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-11T21:46:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272005116",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@JeremyRubin \r\n- re: nits, seems kind of unnecessary optimization if you ask me..  \r\n- re: concern, I won't go so far as to say that's not a concern at all, but the debug information for fee estimates already lets you know how many of the transactions in blocks you're tracking.  So if that number drops significantly it'll be worth revisiting.  Beyond that, it shouldn't matter if a bunch of high fee txs aren't tracked as long as enough still are to give you the data you need.\r\n\r\n@luke-jr sigh...  sure, estimates should be magical and give you perfect answers.  But whether this is the optimal algorithm is not the question here.  The question is whether this is a reasonable improvement and I believe it is.",
      "created_at" : "2017-01-11T22:39:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272018453",
      "id" : 272018453,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-11T22:39:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272018453",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2017-01-12T21:46:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272293811",
      "id" : 272293811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-12T21:46:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272293811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : ">  it's probably better not to \r\n\r\nWhy not consider them?",
      "created_at" : "2017-01-13T04:28:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272358364",
      "id" : 272358364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-13T04:28:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272358364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@dcousens The issue is that if some significant fraction of miners don't accept RBF replacements but your node does, then you would expect them to get mined quickly based on their fee rate but in reality it will take longer.   In the worst case situation this can lead fee estimation to think that all transactions of that fee rate would take longer to be confirmed.  \r\n\r\n If you know that some miners are not considering a certain subset of transactions for block inclusion, its better to eliminate those as potential data points for fee estimation.  There are two opposing arguments to this:\r\n1. You've eliminated so many transactions that you don't have a big enough sample of data points. (Not a concern here)\r\n2. What if the particular transaction you are placing is of the type that is chosen to be excluded for fee estimation because its disadvantaged.  This is a reason to not overly narrow the policy profile required for fee estimation.  But in the case of replacement transactions, I think its relatively well known that not all miners might accept your replacement, and in the case they don't, the alternative is your original transaction is still mined, so its probably ok if fee estimates are maybe not perfectly tailored to your particular transaction.",
      "created_at" : "2017-01-13T14:04:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272449918",
      "id" : 272449918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-13T14:04:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272449918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "I am convinced now that the issue I brought up is unlikely to be workable, full utACK!",
      "created_at" : "2017-01-13T22:28:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272565436",
      "id" : 272565436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-13T22:28:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272565436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2017-01-13T23:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272572285",
      "id" : 272572285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-13T23:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272572285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Thanks for the explanation @morcos.\r\n\r\nI still think given the fact this has near zero effect (0.1%),   and any increased usage of RBF would also incite miner acceptance... I don't think this is necessary,  but,  if it was an issue impacting estimates substantially (and negatively),  I would agree this is a good temporary fix.\r\n\r\nWeak NACK\r\n\r\n**edit:** I also think,  if https://github.com/bitcoin/bitcoin/pull/9527 is to be enabled... these numbers could change dramatically.   If the belief is that miners aren't accepting RBF... then yes,  concept ACK.",
      "created_at" : "2017-01-13T23:13:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272573407",
      "id" : 272573407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-18T02:48:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272573407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Do we have any data/estimates on widespread RBF policy usage [by miners]?",
      "created_at" : "2017-01-13T23:16:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272573839",
      "id" : 272573839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-14T23:18:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272573839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "utACK 20418bdf7976b8ff807dc6ed9f2a8e6b7f068ec3",
      "created_at" : "2017-01-14T10:36:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-272615885",
      "id" : 272615885,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-14T10:36:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272615885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "I have the same worry as @luke-jr here, the special-casing seems surprising and unexpected and will distort estimates once RBF is more widely adopted.\r\n\r\nOnce they are in the block chain, RBF transactions are the same as non-RBF transactions. \r\nAlso the fee from a RBF transaction is worth just as much as from a non-RBF transaction.\r\nSo I'm not sure why a miner would adopt a anti-RBF policy in the first place. But if they do, I don't think we should special-case our code in it.\r\n\r\nEspecially if we want to generate RBF transactions ourselves later it looks like something that will come back to bite us.\r\n\r\n> Do we have any data/estimates on widespread RBF policy usage [by miners]?\r\n\r\nI'd like to see this too.",
      "created_at" : "2017-01-17T06:46:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273035285",
      "id" : 273035285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-17T06:46:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273035285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "To address the question about distorting estimates, I don't really believe that is a concern.   \r\n\r\nFundamentally if RBF replacements have the same confirmation profile as regular transactions, then none of this matters as long as we have enough total data points, which I think we are nowhere near worrying about even if all txs are default replaceable (only actual replacements are excluded).  \r\n\r\nIf they have a different confirmation profile than regular transactions, then you have to look at the two sets of data separately or you can only give an answer for the subset of data that you look at.   In our case there certainly isn't enough data now to give an answer for replacements on their own, so we might as well exclude replacements from the regular transaction data so we are giving an unpolluted answer for regular transactions at least.\r\n\r\nIn other words its no harm done if they aren't really subject to different policy.  If they are, then this is playing it safe to the best degree we are able.",
      "created_at" : "2017-01-17T13:23:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273153472",
      "id" : 273153472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-17T13:23:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273153472",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Current usage stats of RBF transaction produced is about [0.2%-0.3%](http://p2sh.info/dashboard/db/replace-by-fee)",
      "created_at" : "2017-01-18T10:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273442889",
      "id" : 273442889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-18T10:45:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273442889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "I dont buy the \"miners will be more incentivized to run RBF\" argument. While this is true, miners (in this case pools) have shown both a) long lags from incentivization to when they start adopting things which pay them more (eg many miners are still leaving lots on the table by not using 0.13 to do CPFP), and b) willingness to ignore incentivization when there is community drama - its not their income that they're losing out on, its their clients.\r\n\r\nOn the flip side, I do buy that opt-in RBF will continue to get some additional adoption because of the big UX win for some wallets by using it, and while its useable today because there is some adoption from miners, the inconsistency of said adoption makes including it for fee esimation very painful.\r\n\r\nFinally, the way this is written, it is trivial to revert even in a point release if we decide things have upgraded faster than we thought.\r\n\r\nStrong Concept ACK.",
      "created_at" : "2017-01-18T18:36:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273560959",
      "id" : 273560959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-18T18:51:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273560959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "utACK 20418bdf7976b8ff807dc6ed9f2a8e6b7f068ec3",
      "created_at" : "2017-01-18T18:50:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273565035",
      "id" : 273565035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-18T18:50:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273565035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9519#discussion_r96935585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9519"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96935585"
         }
      },
      "body" : "No, the optimizer shouldn't do that automatically, because it could be done on purpose (ie to guarantee IsCurrentForFeeEstimation() is always called, even if fReplacementTransaction, assuming IsCurrentForFeeEstimation() changes some state). So, yeah, +1 on the nit.",
      "commit_id" : "de1ae324bf3fb7451c1008a1a9721ff9f469533b",
      "created_at" : "2017-01-19T19:18:41Z",
      "diff_hunk" : "@@ -955,9 +957,10 @@ bool AcceptToMemoryPoolWorker(CTxMemPool& pool, CValidationState& state, const C\n         pool.RemoveStaged(allConflicting, false);\n \n         // This transaction should only count for fee estimation if\n-        // the node is not behind and it is not dependent on any other\n-        // transactions in the mempool\n-        bool validForFeeEstimation = IsCurrentForFeeEstimation() && pool.HasNoInputsOf(tx);\n+        // the node is not behind, it is not dependent on any other\n+        // transactions in the mempool, and it isn't a BIP 125\n+        // replacement transaction (may not be widely supported).\n+        bool validForFeeEstimation = IsCurrentForFeeEstimation() && pool.HasNoInputsOf(tx) && !fReplacementTransaction;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#discussion_r96935585",
      "id" : 96935585,
      "original_commit_id" : "20418bdf7976b8ff807dc6ed9f2a8e6b7f068ec3",
      "original_position" : 26,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 17534748,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9519",
      "updated_at" : "2017-01-20T20:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96935585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK 20418bd",
      "created_at" : "2017-01-19T19:18:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273871003",
      "id" : 273871003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-19T19:18:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273871003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "utACK 20418bd reverting this when we feel it makes sense should be equally simple anyway.\r\nI don't see the reason not to fix @JeremyRubin 's nit. It's trivial to fix, and if anything, it will prevent someone else from bringing up the same micro-optimization again, or just think about it when reading the code.",
      "created_at" : "2017-01-19T19:30:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273874050",
      "id" : 273874050,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-19T19:30:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273874050",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "OK added @JeremyRubin's optimization suggestions\r\n",
      "created_at" : "2017-01-20T01:18:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-273949949",
      "id" : 273949949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-20T01:18:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273949949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Squashed bd1f849 -> \tde1ae32\r\n",
      "created_at" : "2017-01-20T20:06:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-274167204",
      "id" : 274167204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-20T20:06:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274167204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "re utACK de1ae32\r\n",
      "created_at" : "2017-01-20T21:50:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-274189188",
      "id" : 274189188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-20T21:50:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274189188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "If you want a source of opt-in RBF confirmation data, my OpenTimestamps calendars use opt-in RBF for all transactions; the fee strategy there is to start with the lowest possible fee, and then keep incrementing the fees with replacements over time. So any OpenTimestamps transaction that is mined is pretty much guaranteed to have been due to a replacement on default Bitcoin Core mempool settings.\r\n\r\nHere's a sample tx: 6c13d8bcd5d4e397300302e635e3e13a1b7af929fb00ce6c7b71645e95b7b548\r\n\r\nAll prior OP_RETURN txs in that chain will have been from OpenTimestamps. I took a quick look myself, and it looks like those transactions are getting mined by a large percentage of hashing power, including large pools like F2Pool, AntPool, BitFury, etc.",
      "created_at" : "2017-01-21T04:38:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-274234923",
      "id" : 274234923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-21T04:38:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274234923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd I'm not sure that is required? Because blocks are not always full, if you get a transaction propagated its virtually guaranteed to get mined eventually still. What is your exact policy - is it possible that you're simply seeing the first relayed transaction get confirmed (keeping in mind that relay of things with low fee can be super unreliable)?",
      "created_at" : "2017-01-21T18:14:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-274278286",
      "id" : 274278286,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-21T18:14:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274278286",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "re-utACK",
      "created_at" : "2017-01-23T20:45:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-274611351",
      "id" : 274611351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-23T20:45:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274611351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Could we just compare the median \"time to confirm\" for RBF v non-RBF to compare probability of miner acceptance?",
      "created_at" : "2017-01-24T02:03:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-274679497",
      "id" : 274679497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-24T02:03:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274679497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "re-utACK de1ae32",
      "created_at" : "2017-01-24T11:25:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-274778326",
      "id" : 274778326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-24T11:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274778326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "ACK. The only downside of this is that if replacements become common, we may not end up with enough data. But if replacements were common, we could assume miners were mining them, and it would be harmless to remove this.  We know that right now that they do have a different confirmation profile, so I think this is the correct change to make.",
      "created_at" : "2017-01-25T22:48:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-275257559",
      "id" : 275257559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-25T22:48:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275257559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "> We know that right now that they do have a different confirmation profile, so I think this is the correct change to make.\r\n\r\nHow do we know this though?  I've been recording data for the last week in regards to this so I can verify myself,  but I haven't seen any data presented in this thread.\r\n\r\n**edit:**\r\n\r\nWe know they constitute ~0.2%: http://p2sh.info/dashboard/db/replace-by-fee\r\nBut their confirmation profile?",
      "created_at" : "2017-01-26T04:13:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-275304080",
      "id" : 275304080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-01-26T04:29:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275304080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "I collected 5181335 transactions between blocks 448207 and 451298,  observing the `txId` and the height of the blockchain when first seen,  later taking `confirmed_height - seen_height` to determine how many blocks each transaction waited until confirmation.\r\n\r\nIn that time,  14101 transactions were seen signalling RBF (~0.27%),  with a median wait of 1 block until confirmation and 78 bytes satoshis/byte.\r\nThis matches the confirmation profile of non-RBF transactions,  which had a median fee of 80 satoshis/byte.\r\n\r\nThe mean wait time for standard transactions [seen in this time period] was 6.87137 blocks,  with RBF transactions on average confirming within 5.38064 blocks.\r\n\r\nData available if needed,  happy to query in any way necessary.\r\n\r\n**edit:** after discussion with @gmaxwell,  it appears the suggested problematic confirmation profile isn't in regards to RBF signalling transactions,  but their **actual** replacements.   The above analysis isn't presently accounting for that,  so I'll have to look into it further :+1: .",
      "created_at" : "2017-02-03T12:33:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9519#issuecomment-277236677",
      "id" : 277236677,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9519",
      "updated_at" : "2017-02-06T03:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277236677",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   }
]
