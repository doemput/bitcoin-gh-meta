[
   {
      "body" : "This is not a dev script, so it might be better located in the maintainer repo. OTOH, this is probably the most critical maintainer script, so keeping it here to have more eyes watching it is a good thing.",
      "created_at" : "2017-02-02T22:04:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#issuecomment-277099045",
      "id" : 277099045,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9670",
      "updated_at" : "2017-02-02T22:04:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277099045",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "utACK 90f97df regardless.",
      "created_at" : "2017-02-02T22:09:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#issuecomment-277100310",
      "id" : 277100310,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9670",
      "updated_at" : "2017-02-02T22:09:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277100310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "NACK moving this to another repo.\r\n\r\nutACK changes.",
      "created_at" : "2017-02-03T03:28:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#issuecomment-277155627",
      "id" : 277155627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9670",
      "updated_at" : "2017-02-03T03:28:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277155627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "> This is not a dev script, so it might be better located in the maintainer repo. OTOH, this is probably the most critical maintainer script, so keeping it here to have more eyes watching it is a good thing.\r\n\r\nYes I've thought about that. We could have the main development copy in the maintainer-tools repo, and sync it to Bitcoin Core once in a while.\r\n\r\nI use the tool with a few different repositories so I have it installed system-wide and hardly ever use the one in the Bitcoin Core tree.",
      "created_at" : "2017-02-03T08:00:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#issuecomment-277186833",
      "id" : 277186833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9670",
      "updated_at" : "2017-02-03T08:00:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/277186833",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Needs rebase",
      "created_at" : "2017-03-09T11:20:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#issuecomment-285325632",
      "id" : 285325632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9670",
      "updated_at" : "2017-03-09T11:20:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/285325632",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r110016181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110016181"
         }
      },
      "body" : "nit: maybe a bit nicer with some python3 isms\r\n\r\n```python\r\nprint('{color_pr}#{pr}{nocolor} {title}{color_pr} into {branch}{nocolor}'.format(color_pr = ATTR_RESET+ATTR_PR, nocolor=ATTR_RESET, **locals()))\r\n```",
      "commit_id" : "b508424104c403a9ec12b4adda0d795c2e4d0d6d",
      "created_at" : "2017-04-05T20:12:56Z",
      "diff_hunk" : "@@ -69,6 +69,10 @@ def ask_prompt(text):\n     print(\"\",file=stderr)\n     return reply\n \n+def print_merge_details(pull, title, branch, base_branch, head_branch):\n+    print('%s#%s%s %s %sinto %s%s' % (ATTR_RESET+ATTR_PR,pull,ATTR_RESET,title,ATTR_RESET+ATTR_PR,branch,ATTR_RESET))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r110016181",
      "id" : 110016181,
      "original_commit_id" : "90f97dfe1404444adc389caa8c1ee46cf1d27251",
      "original_position" : 21,
      "path" : "contrib/devtools/github-merge.py",
      "position" : null,
      "pull_request_review_id" : 31157297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670",
      "updated_at" : "2017-04-21T15:01:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110016181",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r110017040"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110017040"
         }
      },
      "body" : "May be nice to change this to be \"type the remote and branch to confirm\" so that you are forced to actually read where you're pushing it :)",
      "commit_id" : "b508424104c403a9ec12b4adda0d795c2e4d0d6d",
      "created_at" : "2017-04-05T20:16:56Z",
      "diff_hunk" : "@@ -242,9 +236,13 @@ def main():\n         subprocess.call([GIT,'branch','-q','-D',local_merge_branch],stderr=devnull)\n \n     # Push the result.\n-    reply = ask_prompt(\"Type 'push' to push the result to %s, branch %s.\" % (host_repo,branch))\n-    if reply.lower() == 'push':\n-        subprocess.check_call([GIT,'push',host_repo,'refs/heads/'+branch])\n+    while True:\n+        reply = ask_prompt(\"Type 'push' to push the result to %s, branch %s, or 'x' to exit without pushing.\" % (host_repo,branch)).lower()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r110017040",
      "id" : 110017040,
      "original_commit_id" : "90f97dfe1404444adc389caa8c1ee46cf1d27251",
      "original_position" : 104,
      "path" : "contrib/devtools/github-merge.py",
      "position" : 108,
      "pull_request_review_id" : 31157297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670",
      "updated_at" : "2017-04-21T15:01:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110017040",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r110017697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110017697"
         }
      },
      "body" : "in a similar vein, may be good to also add an additional confirm if the branch is prefixed with a +, ie, a force push.",
      "commit_id" : "b508424104c403a9ec12b4adda0d795c2e4d0d6d",
      "created_at" : "2017-04-05T20:19:48Z",
      "diff_hunk" : "@@ -242,9 +236,13 @@ def main():\n         subprocess.call([GIT,'branch','-q','-D',local_merge_branch],stderr=devnull)\n \n     # Push the result.\n-    reply = ask_prompt(\"Type 'push' to push the result to %s, branch %s.\" % (host_repo,branch))\n-    if reply.lower() == 'push':\n-        subprocess.check_call([GIT,'push',host_repo,'refs/heads/'+branch])\n+    while True:\n+        reply = ask_prompt(\"Type 'push' to push the result to %s, branch %s, or 'x' to exit without pushing.\" % (host_repo,branch)).lower()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r110017697",
      "id" : 110017697,
      "original_commit_id" : "90f97dfe1404444adc389caa8c1ee46cf1d27251",
      "original_position" : 104,
      "path" : "contrib/devtools/github-merge.py",
      "position" : 108,
      "pull_request_review_id" : 31157297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670",
      "updated_at" : "2017-04-21T15:01:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110017697",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r112463764"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112463764"
         }
      },
      "body" : "Agree, but I didn't change this code in this pull only moved it.",
      "commit_id" : "b508424104c403a9ec12b4adda0d795c2e4d0d6d",
      "created_at" : "2017-04-20T14:13:56Z",
      "diff_hunk" : "@@ -69,6 +69,10 @@ def ask_prompt(text):\n     print(\"\",file=stderr)\n     return reply\n \n+def print_merge_details(pull, title, branch, base_branch, head_branch):\n+    print('%s#%s%s %s %sinto %s%s' % (ATTR_RESET+ATTR_PR,pull,ATTR_RESET,title,ATTR_RESET+ATTR_PR,branch,ATTR_RESET))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r112463764",
      "id" : 112463764,
      "original_commit_id" : "90f97dfe1404444adc389caa8c1ee46cf1d27251",
      "original_position" : 21,
      "path" : "contrib/devtools/github-merge.py",
      "position" : null,
      "pull_request_review_id" : 33780508,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670",
      "updated_at" : "2017-04-21T15:01:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112463764",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r112464495"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112464495"
         }
      },
      "body" : "> May be nice to change this to be \"type the remote and branch to confirm\" so that you are forced to actually read where you're pushing it :)\r\n\r\nNot sure this will help much. I don't think I've ever pushed something to the wrong place with this script after I made it take the target branch from the pull metadata on github.\r\n\r\n> in a similar vein, may be good to also add an additional confirm if the branch is prefixed with a +, ie, a force push.\r\n\r\nWe don't support force-pushing from this script, and force pushes to master and all the version branches are disabled on github.",
      "commit_id" : "b508424104c403a9ec12b4adda0d795c2e4d0d6d",
      "created_at" : "2017-04-20T14:16:42Z",
      "diff_hunk" : "@@ -242,9 +236,13 @@ def main():\n         subprocess.call([GIT,'branch','-q','-D',local_merge_branch],stderr=devnull)\n \n     # Push the result.\n-    reply = ask_prompt(\"Type 'push' to push the result to %s, branch %s.\" % (host_repo,branch))\n-    if reply.lower() == 'push':\n-        subprocess.check_call([GIT,'push',host_repo,'refs/heads/'+branch])\n+    while True:\n+        reply = ask_prompt(\"Type 'push' to push the result to %s, branch %s, or 'x' to exit without pushing.\" % (host_repo,branch)).lower()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9670#discussion_r112464495",
      "id" : 112464495,
      "original_commit_id" : "90f97dfe1404444adc389caa8c1ee46cf1d27251",
      "original_position" : 104,
      "path" : "contrib/devtools/github-merge.py",
      "position" : 108,
      "pull_request_review_id" : 33781326,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9670",
      "updated_at" : "2017-04-21T15:01:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/112464495",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
