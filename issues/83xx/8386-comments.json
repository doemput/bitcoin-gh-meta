[
   {
      "body" : "Can you quantify the benefit of doing this?  I don't think we should be keeping around extra fields without being sure its really worth it.  Will any significant number of miners use this instead of blockmaxweight?  In any case this is redundant with blockmaxweight until segwit is activated, so we should defer discussion of adding it until then.\r\n",
      "created_at" : "2016-07-21T18:38:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-234344615",
      "id" : 234344615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-07-21T18:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/234344615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "All miners should be using blockmaxsize, not blockmaxweight, right now and until some future change makes blocks larger than 1 MB sane. It's not redundant on testnet, and if it were redundant, we should remove the weight stuff, not size...",
      "created_at" : "2016-07-21T19:06:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-234352431",
      "id" : 234352431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-07-21T19:06:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/234352431",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr I don't think we're concerned about block size on test net.\r\n\r\nBy quantifying the benefit what I meant was miners can already use blockmaxsize if they want to (although I would recommend they not), all this pull does is cache the necessary calculations.  Can you quantify the benefit of doing that instead of the status quo?\r\n\r\n",
      "created_at" : "2016-07-25T13:53:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-234959121",
      "id" : 234959121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-07-25T13:53:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/234959121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Miners should not be recommended to disable blockmaxsize, since size is currently the critical constraining resource on the network. It's true that switching to blockmaxweight in 0.13.0 won't have any practical difference on mainnet, but when segwit gets activated, it will, and it is TBD whether producing blocks larger than 1 MB will be responsible at that time.",
      "created_at" : "2016-07-25T14:43:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-234973690",
      "id" : 234973690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-07-25T14:43:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/234973690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr: please provide a description, when opening a pull request.\r\n\r\nTo quote [CONTRIBUTING.md#contributor-workflow](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#contributor-workflow):\r\n\r\n> The body of the pull request should contain enough description about what the patch does together with any justification/reasoning. ",
      "created_at" : "2016-07-27T17:12:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-235653983",
      "id" : 235653983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-07-27T17:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/235653983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20516749?v=3",
         "events_url" : "https://api.github.com/users/f139975/events{/privacy}",
         "followers_url" : "https://api.github.com/users/f139975/followers",
         "following_url" : "https://api.github.com/users/f139975/following{/other_user}",
         "gists_url" : "https://api.github.com/users/f139975/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/f139975",
         "id" : 20516749,
         "login" : "f139975",
         "organizations_url" : "https://api.github.com/users/f139975/orgs",
         "received_events_url" : "https://api.github.com/users/f139975/received_events",
         "repos_url" : "https://api.github.com/users/f139975/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/f139975/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/f139975/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/f139975"
      }
   },
   {
      "body" : "#8559 says 576MiB per day = ~17GB per Month is too high; if this is correct, it will be important for miners to set a maxblocksize of at most 2 MB.",
      "created_at" : "2016-08-27T04:04:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-242894376",
      "id" : 242894376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-08-27T04:04:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242894376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "This should probably be tagged for 0.13.1...",
      "created_at" : "2016-10-03T04:19:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-251024008",
      "id" : 251024008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-10-03T04:19:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251024008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I recently looked into this because I was worried about the default (passing no options) still using size accounting and this being potentially slow after segwit activates.  I tried to estimate how slow this might be by setting a blockmaxsize=950000 and blockmaxweight=4000000 which should cause the mining algorithm to have to trace each package adding up size all the way through the mempool.  I found that this was only slightly slower than just setting blockmaxweight.  12ms average vs 10.5ms.\r\n\r\nI believe we should not do any extra work to support size accounting at this point, but that it is fine to leave it in the code and not a significant performance concern until we can all agree that there is no reason to keep the extra complication around.\r\n\r\n",
      "created_at" : "2016-10-03T12:49:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-251097320",
      "id" : 251097320,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-10-03T12:49:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251097320",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos Thanks for benchmarking this - always better to have actual numbers.",
      "created_at" : "2016-10-03T13:21:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8386#issuecomment-251103972",
      "id" : 251103972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8386",
      "updated_at" : "2016-10-03T13:21:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251103972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
